/*
 RequireJS 2.1.13 Copyright (c) 2010-2014, The Dojo Foundation All Rights Reserved.
 Available via the MIT or new BSD license.
 see: http://github.com/jrburke/requirejs for details
*/

/*!
 * jQuery JavaScript Library v1.10.2
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright 2005, 2013 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2013-07-03T13:48Z
 */

/*!
 * Sizzle CSS Selector Engine v1.10.2
 * http://sizzlejs.com/
 *
 * Copyright 2013 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2013-07-03
 */

/*!
 * Bootstrap v3.3.4 (http://getbootstrap.com)
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 */

/* ========================================================================
 * Bootstrap: transition.js v3.3.4
 * http://getbootstrap.com/javascript/#transitions
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */

/* ========================================================================
 * Bootstrap: alert.js v3.3.4
 * http://getbootstrap.com/javascript/#alerts
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */

/* ========================================================================
 * Bootstrap: button.js v3.3.4
 * http://getbootstrap.com/javascript/#buttons
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */

/* ========================================================================
 * Bootstrap: carousel.js v3.3.4
 * http://getbootstrap.com/javascript/#carousel
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */

/* ========================================================================
 * Bootstrap: collapse.js v3.3.4
 * http://getbootstrap.com/javascript/#collapse
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */

/* ========================================================================
 * Bootstrap: dropdown.js v3.3.4
 * http://getbootstrap.com/javascript/#dropdowns
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */

/* ========================================================================
 * Bootstrap: modal.js v3.3.4
 * http://getbootstrap.com/javascript/#modals
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */

/* ========================================================================
 * Bootstrap: tooltip.js v3.3.4
 * http://getbootstrap.com/javascript/#tooltip
 * Inspired by the original jQuery.tipsy by Jason Frame
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */

/* ========================================================================
 * Bootstrap: popover.js v3.3.4
 * http://getbootstrap.com/javascript/#popovers
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */

/* ========================================================================
 * Bootstrap: scrollspy.js v3.3.4
 * http://getbootstrap.com/javascript/#scrollspy
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */

/* ========================================================================
 * Bootstrap: tab.js v3.3.4
 * http://getbootstrap.com/javascript/#tabs
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */

/* ========================================================================
 * Bootstrap: affix.js v3.3.4
 * http://getbootstrap.com/javascript/#affix
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */

/*!
 * jQuery.ScrollTo
 * Copyright (c) 2007-2014 Ariel Flesler - aflesler<a>gmail<d>com | http://flesler.blogspot.com
 * Licensed under MIT
 * http://flesler.blogspot.com/2007/10/jqueryscrollto.html
 * @projectDescription Easy element scrolling using jQuery.
 * @author Ariel Flesler
 * @version 1.4.11
 */

//! moment.js
//! version : 2.7.0
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com

/*
Version 3.0.0
=========================================================
bootstrap-datetimepicker.js
https://github.com/Eonasdan/bootstrap-datetimepicker
=========================================================
The MIT License (MIT)

Copyright (c) 2014 Jonathan Peterson

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.
 */

/*! jQuery UI - v1.10.4 - 2014-04-17
* http://jqueryui.com
* Includes: jquery.ui.core.js, jquery.ui.widget.js, jquery.ui.mouse.js, jquery.ui.draggable.js, jquery.ui.droppable.js, jquery.ui.resizable.js, jquery.ui.selectable.js, jquery.ui.sortable.js, jquery.ui.effect.js, jquery.ui.effect-blind.js, jquery.ui.effect-bounce.js, jquery.ui.effect-clip.js, jquery.ui.effect-drop.js, jquery.ui.effect-explode.js, jquery.ui.effect-fade.js, jquery.ui.effect-fold.js, jquery.ui.effect-highlight.js, jquery.ui.effect-pulsate.js, jquery.ui.effect-scale.js, jquery.ui.effect-shake.js, jquery.ui.effect-slide.js, jquery.ui.effect-transfer.js
* Copyright 2014 jQuery Foundation and other contributors; Licensed MIT */

/* NProgress, (c) 2013, 2014 Rico Sta. Cruz - http://ricostacruz.com/nprogress
 * @license MIT */

/**
 * sifter.js
 * Copyright (c) 2013 Brian Reavis & contributors
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this
 * file except in compliance with the License. You may obtain a copy of the License at:
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under
 * the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF
 * ANY KIND, either express or implied. See the License for the specific language
 * governing permissions and limitations under the License.
 *
 * @author Brian Reavis <brian@thirdroute.com>
 */

/**
 * microplugin.js
 * Copyright (c) 2013 Brian Reavis & contributors
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this
 * file except in compliance with the License. You may obtain a copy of the License at:
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under
 * the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF
 * ANY KIND, either express or implied. See the License for the specific language
 * governing permissions and limitations under the License.
 *
 * @author Brian Reavis <brian@thirdroute.com>
 */

/**
 * selectize.js (v0.12.1)
 * Copyright (c) 2013–2015 Brian Reavis & contributors
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this
 * file except in compliance with the License. You may obtain a copy of the License at:
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under
 * the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF
 * ANY KIND, either express or implied. See the License for the specific language
 * governing permissions and limitations under the License.
 *
 * @author Brian Reavis <brian@thirdroute.com>
 */

/*!
 * jQuery Form Plugin
 * version: 3.28.0-2013.02.06
 * @requires jQuery v1.5 or later
 *
 * Examples and documentation at: http://malsup.com/jquery/form/
 * Project repository: https://github.com/malsup/form
 * Dual licensed under the MIT and GPL licenses:
 *    http://malsup.github.com/mit-license.txt
 *    http://malsup.github.com/gpl-license-v2.txt
 */

/*!
Chosen, a Select Box Enhancer for jQuery and Prototype
by Patrick Filler for Harvest, http://getharvest.com

Version 1.6.2
Full source at https://github.com/harvesthq/chosen
Copyright (c) 2011-2016 Harvest http://getharvest.com

MIT License, https://github.com/harvesthq/chosen/blob/master/LICENSE.md
This file is generated by `grunt build`, do not edit it by hand.
*/

/*!
* jquery.inputmask.bundle.js
* https://github.com/RobinHerbots/jquery.inputmask
* Copyright (c) 2010 - 2016 Robin Herbots
* Licensed under the MIT license (http://www.opensource.org/licenses/mit-license.php)
* Version: 3.3.3
*/

/*!
 * typeahead.js 0.11.1
 * https://github.com/twitter/typeahead.js
 * Copyright 2013-2015 Twitter, Inc. and other contributors; Licensed MIT
 */

/** File generated by Grunt -- do not modify
 *  JQUERY-FORM-VALIDATOR
 *
 *  @version 2.3.54
 *  @website http://formvalidator.net/
 *  @author Victor Jonsson, http://victorjonsson.se
 *  @license MIT
 */

// SweetAlert
// 2014-2015 (c) - Tristan Edwards
// github.com/t4t5/sweetalert

/* REQUIRED PLUGINS
/* ========================================================================
/*! nanoScrollerJS - v0.8.7 - (c) 2015 James Florentino; Licensed MIT */

/*
 * ! jQuery resizeEnd Event v1.0.1 - Copyright (c) 2013 Giuseppe Gurgone -
 * License http://git.io/iRQs3g
 */

/**
  * bootstrap-switch - Turn checkboxes and radio buttons into toggle switches.
  *
  * @version v3.3.4
  * @homepage https://bttstrp.github.io/bootstrap-switch
  * @author Mattia Larentis <mattia@larentis.eu> (http://larentis.eu)
  * @license Apache-2.0
  */

/**
 * Super simple wysiwyg editor v0.8.7
 * http://summernote.org/
 *
 * summernote.js
 * Copyright 2013- Alan Hong. and other contributors
 * summernote may be freely distributed under the MIT license./
 *
 * Date: 2017-08-15T06:23Z
 */

/*!
 * Nestable jQuery Plugin - Copyright (c) 2012 David Bushell - http://dbushell.com/
 * Dual-licensed under the BSD or MIT licenses
 */

//     Underscore.js 1.5.1
//     http://underscorejs.org
//     (c) 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
//     Underscore may be freely distributed under the MIT license.

//     (c) 2010-2014 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors

//     Backbone may be freely distributed under the MIT license.

/*
  backbone-pageable 1.4.8
  http://github.com/backbone-paginator/backbone-pageable

  Copyright (c) 2013 Jimmy Yuen Ho Wong
  Licensed under the MIT @license.
 */

/**
 * Copyright (c) 2011-2014 Felix Gnass Licensed under the MIT license
 */

/*! @preserve
 * numeral.js
 * version : 2.0.6
 * author : Adam Draper
 * license : MIT
 * http://adamwdraper.github.com/Numeral-js/
 */

/*!
  backgrid
  http://github.com/wyuenho/backgrid

  Copyright (c) 2014 Jimmy Yuen Ho Wong and contributors <wyuenho@gmail.com>
  Licensed under the MIT license.
 */

/*
	 * backgrid http://github.com/wyuenho/backgrid
	 * 
	 * Copyright (c) 2013 Jimmy Yuen Ho Wong and contributors Licensed under the MIT license.
	 */

// Copyright 2009, 2010 Kristopher Michael Kowal

/*
  backgrid-select-all
  http://github.com/wyuenho/backgrid

  Copyright (c) 2013 Jimmy Yuen Ho Wong and contributors
  Licensed under the MIT @license.
 */

// MarionetteJS (Backbone.Marionette)
// ----------------------------------
// v2.2.0
//
// Copyright (c)2014 Derick Bailey, Muted Solutions, LLC.
// Distributed under MIT license
//
// http://marionettejs.com

/*!
 * Includes BabySitter
 * https://github.com/marionettejs/backbone.babysitter/
 *
 * Includes Wreqr
 * https://github.com/marionettejs/backbone.wreqr/
 */

// Copyright (c)2014 Derick Bailey, Muted Solutions, LLC.

// Distributed under MIT license

/*
  backgrid-paginator
  http://github.com/wyuenho/backgrid

  Copyright (c) 2013 Jimmy Yuen Ho Wong and contributors
  Licensed under the MIT @license.
 */

/**
 * @license RequireJS text 2.0.3 Copyright (c) 2010-2012, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/requirejs/text for details
 */

var requirejs,require,define;!function(ba){function G(e){return"[object Function]"===K.call(e)}function H(e){return"[object Array]"===K.call(e)}function v(e,t){if(e){var n;for(n=0;n<e.length&&(!e[n]||!t(e[n],n,e));n+=1);}}function T(e,t){if(e){var n;for(n=e.length-1;n>-1&&(!e[n]||!t(e[n],n,e));n-=1);}}function t(e,t){return fa.call(e,t)}function m(e,n){return t(e,n)&&e[n]}function B(e,n){for(var i in e)if(t(e,i)&&n(e[i],i))break}function U(e,n,i,o){return n&&B(n,function(n,r){(i||!t(e,r))&&(!o||"object"!=typeof n||!n||H(n)||G(n)||n instanceof RegExp?e[r]=n:(e[r]||(e[r]={}),U(e[r],n,i,o)))}),e}function u(e,t){return function(){return t.apply(e,arguments)}}function ca(e){throw e}function da(e){if(!e)return e;var t=ba;return v(e.split("."),function(e){t=t[e]}),t}function C(e,t,n,i){return t=Error(t+"\nhttp://requirejs.org/docs/errors.html#"+e),t.requireType=e,t.requireModules=i,n&&(t.originalError=n),t}function ga(e){function n(e,t,n){var i,o,r,s,a,l,c,u,t=t&&t.split("/"),d=P.map,h=d&&d["*"];if(e){for(e=e.split("/"),o=e.length-1,P.nodeIdCompat&&Q.test(e[o])&&(e[o]=e[o].replace(Q,"")),"."===e[0].charAt(0)&&t&&(o=t.slice(0,t.length-1),e=o.concat(e)),o=e,r=0;r<o.length;r++)s=o[r],"."===s?(o.splice(r,1),r-=1):".."===s&&0!==r&&(1!=r||".."!==o[2])&&".."!==o[r-1]&&r>0&&(o.splice(r-1,2),r-=2);e=e.join("/")}if(n&&d&&(t||h)){o=e.split("/"),r=o.length;e:for(;r>0;r-=1){if(a=o.slice(0,r).join("/"),t)for(s=t.length;s>0;s-=1)if((n=m(d,t.slice(0,s).join("/")))&&(n=m(n,a))){i=n,l=r;break e}!c&&h&&m(h,a)&&(c=m(h,a),u=r)}!i&&c&&(i=c,l=u),i&&(o.splice(0,l,i),e=o.join("/"))}return(i=m(P.pkgs,e))?i:e}function i(e){z&&v(document.getElementsByTagName("script"),function(t){return t.getAttribute("data-requiremodule")===e&&t.getAttribute("data-requirecontext")===k.contextName?(t.parentNode.removeChild(t),!0):void 0})}function o(e){var t=m(P.paths,e);return t&&H(t)&&1<t.length?(t.shift(),k.require.undef(e),k.makeRequire(null,{skipMap:!0})([e]),!0):void 0}function r(e){var t,n=e?e.indexOf("!"):-1;return n>-1&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function s(e,t,i,o){var s,a,l=null,c=t?t.name:null,u=e,d=!0,h="";return e||(d=!1,e="_@r"+(L+=1)),e=r(e),l=e[0],e=e[1],l&&(l=n(l,c,o),a=m(F,l)),e&&(l?h=a&&a.normalize?a.normalize(e,function(e){return n(e,c,o)}):n(e,c,o):(h=n(e,c,o),e=r(h),l=e[0],h=e[1],i=!0,s=k.nameToUrl(h))),i=!l||a||i?"":"_unnormalized"+(q+=1),{prefix:l,name:h,parentMap:t,unnormalized:!!i,url:s,originalName:u,isDefine:d,id:(l?l+"!"+h:h)+i}}function a(e){var t=e.id,n=m(A,t);return n||(n=A[t]=new k.Module(e)),n}function l(e,n,i){var o=e.id,r=m(A,o);!t(F,o)||r&&!r.defineEmitComplete?(r=a(e),r.error&&"error"===n?i(r.error):r.on(n,i)):"defined"===n&&i(F[o])}function c(e,t){var n=e.requireModules,i=!1;t?t(e):(v(n,function(t){(t=m(A,t))&&(t.error=e,t.events.error&&(i=!0,t.emit("error",e)))}),i||g.onError(e))}function d(){R.length&&(ha.apply(O,[O.length,0].concat(R)),R=[])}function h(e){delete A[e],delete I[e]}function p(e,t,n){var i=e.map.id;e.error?e.emit("error",e.error):(t[i]=!0,v(e.depMaps,function(i,o){var r=i.id,s=m(A,r);s&&!e.depMatched[o]&&!n[r]&&(m(t,r)?(e.defineDep(o,F[r]),e.check()):p(s,t,n))}),n[i]=!0)}function f(){var e,t,n=(e=1e3*P.waitSeconds)&&k.startTime+e<(new Date).getTime(),r=[],s=[],a=!1,l=!0;if(!x){if(x=!0,B(I,function(e){var c=e.map,u=c.id;if(e.enabled&&(c.isDefine||s.push(e),!e.error))if(!e.inited&&n)o(u)?a=t=!0:(r.push(u),i(u));else if(!e.inited&&e.fetched&&c.isDefine&&(a=!0,!c.prefix))return l=!1}),n&&r.length)return e=C("timeout","Load timeout for modules: "+r,null,r),e.contextName=k.contextName,c(e);l&&v(s,function(e){p(e,{},{})}),n&&!t||!a||!z&&!ea||E||(E=setTimeout(function(){E=0,f()},50)),x=!1}}function y(e){t(F,e[0])||a(s(e[0],null,!0)).init(e[1],e[2])}function b(e){var e=e.currentTarget||e.srcElement,t=k.onScriptLoad;return e.detachEvent&&!Y?e.detachEvent("onreadystatechange",t):e.removeEventListener("load",t,!1),t=k.onScriptError,(!e.detachEvent||Y)&&e.removeEventListener("error",t,!1),{node:e,id:e&&e.getAttribute("data-requiremodule")}}function w(){var e;for(d();O.length;){if(e=O.shift(),null===e[0])return c(C("mismatch","Mismatched anonymous define() module: "+e[e.length-1]));y(e)}}var x,_,k,S,E,P={waitSeconds:7,baseUrl:"./",paths:{},bundles:{},pkgs:{},shim:{},config:{}},A={},I={},D={},O=[],F={},$={},j={},L=1,q=1;return S={require:function(e){return e.require?e.require:e.require=k.makeRequire(e.map)},exports:function(e){return e.usingExports=!0,e.map.isDefine?e.exports?F[e.map.id]=e.exports:e.exports=F[e.map.id]={}:void 0},module:function(e){return e.module?e.module:e.module={id:e.map.id,uri:e.map.url,config:function(){return m(P.config,e.map.id)||{}},exports:e.exports||(e.exports={})}}},_=function(e){this.events=m(D,e.id)||{},this.map=e,this.shim=m(P.shim,e.id),this.depExports=[],this.depMaps=[],this.depMatched=[],this.pluginMaps={},this.depCount=0},_.prototype={init:function(e,t,n,i){i=i||{},this.inited||(this.factory=t,n?this.on("error",n):this.events.error&&(n=u(this,function(e){this.emit("error",e)})),this.depMaps=e&&e.slice(0),this.errback=n,this.inited=!0,this.ignore=i.ignore,i.enabled||this.enabled?this.enable():this.check())},defineDep:function(e,t){this.depMatched[e]||(this.depMatched[e]=!0,this.depCount-=1,this.depExports[e]=t)},fetch:function(){if(!this.fetched){this.fetched=!0,k.startTime=(new Date).getTime();var e=this.map;if(!this.shim)return e.prefix?this.callPlugin():this.load();k.makeRequire(this.map,{enableBuildCallback:!0})(this.shim.deps||[],u(this,function(){return e.prefix?this.callPlugin():this.load()}))}},load:function(){var e=this.map.url;$[e]||($[e]=!0,k.load(this.map.id,e))},check:function(){if(this.enabled&&!this.enabling){var e,t,n=this.map.id;t=this.depExports;var i=this.exports,o=this.factory;if(this.inited){if(this.error)this.emit("error",this.error);else if(!this.defining){if(this.defining=!0,1>this.depCount&&!this.defined){if(G(o)){if(this.events.error&&this.map.isDefine||g.onError!==ca)try{i=k.execCb(n,o,t,i)}catch(r){e=r}else i=k.execCb(n,o,t,i);if(this.map.isDefine&&void 0===i&&((t=this.module)?i=t.exports:this.usingExports&&(i=this.exports)),e)return e.requireMap=this.map,e.requireModules=this.map.isDefine?[this.map.id]:null,e.requireType=this.map.isDefine?"define":"require",c(this.error=e)}else i=o;this.exports=i,this.map.isDefine&&!this.ignore&&(F[n]=i,g.onResourceLoad)&&g.onResourceLoad(k,this.map,this.depMaps),h(n),this.defined=!0}this.defining=!1,this.defined&&!this.defineEmitted&&(this.defineEmitted=!0,this.emit("defined",this.exports),this.defineEmitComplete=!0)}}else this.fetch()}},callPlugin:function(){var e=this.map,i=e.id,o=s(e.prefix);this.depMaps.push(o),l(o,"defined",u(this,function(o){var r,d;d=m(j,this.map.id);var p=this.map.name,f=this.map.parentMap?this.map.parentMap.name:null,v=k.makeRequire(e.parentMap,{enableBuildCallback:!0});this.map.unnormalized?(o.normalize&&(p=o.normalize(p,function(e){return n(e,f,!0)})||""),o=s(e.prefix+"!"+p,this.map.parentMap),l(o,"defined",u(this,function(e){this.init([],function(){return e},null,{enabled:!0,ignore:!0})})),(d=m(A,o.id))&&(this.depMaps.push(o),this.events.error&&d.on("error",u(this,function(e){this.emit("error",e)})),d.enable())):d?(this.map.url=k.nameToUrl(d),this.load()):(r=u(this,function(e){this.init([],function(){return e},null,{enabled:!0})}),r.error=u(this,function(e){this.inited=!0,this.error=e,e.requireModules=[i],B(A,function(e){0===e.map.id.indexOf(i+"_unnormalized")&&h(e.map.id)}),c(e)}),r.fromText=u(this,function(n,o){var l=e.name,u=s(l),d=M;o&&(n=o),d&&(M=!1),a(u),t(P.config,i)&&(P.config[l]=P.config[i]);try{g.exec(n)}catch(h){return c(C("fromtexteval","fromText eval for "+i+" failed: "+h,h,[i]))}d&&(M=!0),this.depMaps.push(u),k.completeLoad(l),v([l],r)}),o.load(e.name,v,r,P))})),k.enable(o,this),this.pluginMaps[o.id]=o},enable:function(){I[this.map.id]=this,this.enabling=this.enabled=!0,v(this.depMaps,u(this,function(e,n){var i,o;if("string"==typeof e){if(e=s(e,this.map.isDefine?this.map:this.map.parentMap,!1,!this.skipMap),this.depMaps[n]=e,i=m(S,e.id))return void(this.depExports[n]=i(this));this.depCount+=1,l(e,"defined",u(this,function(e){this.defineDep(n,e),this.check()})),this.errback&&l(e,"error",u(this,this.errback))}i=e.id,o=A[i],!t(S,i)&&o&&!o.enabled&&k.enable(e,this)})),B(this.pluginMaps,u(this,function(e){var t=m(A,e.id);t&&!t.enabled&&k.enable(e,this)})),this.enabling=!1,this.check()},on:function(e,t){var n=this.events[e];n||(n=this.events[e]=[]),n.push(t)},emit:function(e,t){v(this.events[e],function(e){e(t)}),"error"===e&&delete this.events[e]}},k={config:P,contextName:e,registry:A,defined:F,urlFetched:$,defQueue:O,Module:_,makeModuleMap:s,nextTick:g.nextTick,onError:c,configure:function(e){e.baseUrl&&"/"!==e.baseUrl.charAt(e.baseUrl.length-1)&&(e.baseUrl+="/");var t=P.shim,n={paths:!0,bundles:!0,config:!0,map:!0};B(e,function(e,t){n[t]?(P[t]||(P[t]={}),U(P[t],e,!0,!0)):P[t]=e}),e.bundles&&B(e.bundles,function(e,t){v(e,function(e){e!==t&&(j[e]=t)})}),e.shim&&(B(e.shim,function(e,n){H(e)&&(e={deps:e}),!e.exports&&!e.init||e.exportsFn||(e.exportsFn=k.makeShimExports(e)),t[n]=e}),P.shim=t),e.packages&&v(e.packages,function(e){var t,e="string"==typeof e?{name:e}:e;t=e.name,e.location&&(P.paths[t]=e.location),P.pkgs[t]=e.name+"/"+(e.main||"main").replace(ia,"").replace(Q,"")}),B(A,function(e,t){!e.inited&&!e.map.unnormalized&&(e.map=s(t))}),(e.deps||e.callback)&&k.require(e.deps||[],e.callback)},makeShimExports:function(e){return function(){var t;return e.init&&(t=e.init.apply(ba,arguments)),t||e.exports&&da(e.exports)}},makeRequire:function(o,r){function l(n,i,u){var d,h;return r.enableBuildCallback&&i&&G(i)&&(i.__requireJsBuild=!0),"string"==typeof n?G(i)?c(C("requireargs","Invalid require call"),u):o&&t(S,n)?S[n](A[o.id]):g.get?g.get(k,n,o,l):(d=s(n,o,!1,!0),d=d.id,t(F,d)?F[d]:c(C("notloaded",'Module name "'+d+'" has not been loaded yet for context: '+e+(o?"":". Use require([])")))):(w(),k.nextTick(function(){w(),h=a(s(null,o)),h.skipMap=r.skipMap,h.init(n,i,u,{enabled:!0}),f()}),l)}return r=r||{},U(l,{isBrowser:z,toUrl:function(e){var t,i=e.lastIndexOf("."),r=e.split("/")[0];return-1!==i&&("."!==r&&".."!==r||i>1)&&(t=e.substring(i,e.length),e=e.substring(0,i)),k.nameToUrl(n(e,o&&o.id,!0),t,!0)},defined:function(e){return t(F,s(e,o,!1,!0).id)},specified:function(e){return e=s(e,o,!1,!0).id,t(F,e)||t(A,e)}}),o||(l.undef=function(e){d();var t=s(e,o,!0),n=m(A,e);i(e),delete F[e],delete $[t.url],delete D[e],T(O,function(t,n){t[0]===e&&O.splice(n,1)}),n&&(n.events.defined&&(D[e]=n.events),h(e))}),l},enable:function(e){m(A,e.id)&&a(e).enable()},completeLoad:function(e){var n,i,r=m(P.shim,e)||{},s=r.exports;for(d();O.length;){if(i=O.shift(),null===i[0]){if(i[0]=e,n)break;n=!0}else i[0]===e&&(n=!0);y(i)}if(i=m(A,e),!n&&!t(F,e)&&i&&!i.inited){if(P.enforceDefine&&(!s||!da(s)))return o(e)?void 0:c(C("nodefine","No define call for "+e,null,[e]));y([e,r.deps||[],r.exportsFn])}f()},nameToUrl:function(e,t,n){var i,o,r;if((i=m(P.pkgs,e))&&(e=i),i=m(j,e))return k.nameToUrl(i,t,n);if(g.jsExtRegExp.test(e))i=e+(t||"");else{for(i=P.paths,e=e.split("/"),o=e.length;o>0;o-=1)if(r=e.slice(0,o).join("/"),r=m(i,r)){H(r)&&(r=r[0]),e.splice(0,o,r);break}i=e.join("/"),i+=t||(/^data\:|\?/.test(i)||n?"":".js"),i=("/"===i.charAt(0)||i.match(/^[\w\+\.\-]+:/)?"":P.baseUrl)+i}return P.urlArgs?i+((-1===i.indexOf("?")?"?":"&")+P.urlArgs):i},load:function(e,t){g.load(k,e,t)},execCb:function(e,t,n,i){return t.apply(i,n)},onScriptLoad:function(e){("load"===e.type||ja.test((e.currentTarget||e.srcElement).readyState))&&(N=null,e=b(e),k.completeLoad(e.id))},onScriptError:function(e){var t=b(e);return o(t.id)?void 0:c(C("scripterror","Script error for: "+t.id,e,[t.id]))}},k.require=k.makeRequire(),k}var g,x,y,D,I,E,N,J,s,O,ka=/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/gm,la=/[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,Q=/\.js$/,ia=/^\.\//;x=Object.prototype;var K=x.toString,fa=x.hasOwnProperty,ha=Array.prototype.splice,z=!("undefined"==typeof window||"undefined"==typeof navigator||!window.document),ea=!z&&"undefined"!=typeof importScripts,ja=z&&"PLAYSTATION 3"===navigator.platform?/^complete$/:/^(complete|loaded)$/,Y="undefined"!=typeof opera&&"[object Opera]"===opera.toString(),F={},q={},R=[],M=!1;if("undefined"==typeof define){if("undefined"!=typeof requirejs){if(G(requirejs))return;q=requirejs,requirejs=void 0}"undefined"!=typeof require&&!G(require)&&(q=require,require=void 0),g=requirejs=function(e,t,n,i){var o,r="_";return!H(e)&&"string"!=typeof e&&(o=e,H(t)?(e=t,t=n,n=i):e=[]),o&&o.context&&(r=o.context),(i=m(F,r))||(i=F[r]=g.s.newContext(r)),o&&i.configure(o),i.require(e,t,n)},g.config=function(e){return g(e)},g.nextTick="undefined"!=typeof setTimeout?function(e){setTimeout(e,4)}:function(e){e()},require||(require=g),g.version="2.1.13",g.jsExtRegExp=/^\/|:|\?|\.js$/,g.isBrowser=z,x=g.s={contexts:F,newContext:ga},g({}),v(["toUrl","undef","defined","specified"],function(e){g[e]=function(){var t=F._;return t.require[e].apply(t,arguments)}}),z&&(y=x.head=document.getElementsByTagName("head")[0],D=document.getElementsByTagName("base")[0])&&(y=x.head=D.parentNode),g.onError=ca,g.createNode=function(e){var t=e.xhtml?document.createElementNS("http://www.w3.org/1999/xhtml","html:script"):document.createElement("script");return t.type=e.scriptType||"text/javascript",t.charset="utf-8",t.async=!0,t},g.load=function(e,t,n){var i=e&&e.config||{};if(z)return i=g.createNode(i,t,n),i.setAttribute("data-requirecontext",e.contextName),i.setAttribute("data-requiremodule",t),!i.attachEvent||i.attachEvent.toString&&0>i.attachEvent.toString().indexOf("[native code")||Y?(i.addEventListener("load",e.onScriptLoad,!1),i.addEventListener("error",e.onScriptError,!1)):(M=!0,i.attachEvent("onreadystatechange",e.onScriptLoad)),i.src=n,J=i,D?y.insertBefore(i,D):y.appendChild(i),J=null,i;if(ea)try{importScripts(n),e.completeLoad(t)}catch(o){e.onError(C("importscripts","importScripts failed for "+t+" at "+n,o,[t]))}},z&&!q.skipDataMain&&T(document.getElementsByTagName("script"),function(e){return y||(y=e.parentNode),(I=e.getAttribute("data-main"))?(s=I,q.baseUrl||(E=s.split("/"),s=E.pop(),O=E.length?E.join("/")+"/":"./",q.baseUrl=O),s=s.replace(Q,""),g.jsExtRegExp.test(s)&&(s=I),q.deps=q.deps?q.deps.concat(s):[s],!0):void 0}),define=function(e,t,n){var i,o;"string"!=typeof e&&(n=t,t=e,e=null),H(t)||(n=t,t=null),!t&&G(n)&&(t=[],n.length&&(n.toString().replace(ka,"").replace(la,function(e,n){t.push(n)}),t=(1===n.length?["require"]:["require","exports","module"]).concat(t))),M&&((i=J)||(N&&"interactive"===N.readyState||T(document.getElementsByTagName("script"),function(e){return"interactive"===e.readyState?N=e:void 0}),i=N),i&&(e||(e=i.getAttribute("data-requiremodule")),o=F[i.getAttribute("data-requirecontext")])),(o?o.defQueue:R).push([e,t,n])},define.amd={jQuery:!0},g.exec=function(b){return eval(b)},g(q)}}(this),define("../../webapp/vendor/require/require",function(){}),function(e,t){function n(e){var t=e.length,n=ut.type(e);return ut.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===n||"function"!==n&&(0===t||"number"==typeof t&&t>0&&t-1 in e)}function i(e){var t=St[e]={};return ut.each(e.match(ht)||[],function(e,n){t[n]=!0}),t}function o(e,n,i,o){if(ut.acceptData(e)){var r,s,a=ut.expando,l=e.nodeType,c=l?ut.cache:e,u=l?e[a]:e[a]&&a;if(u&&c[u]&&(o||c[u].data)||i!==t||"string"!=typeof n)return u||(u=l?e[a]=tt.pop()||ut.guid++:a),c[u]||(c[u]=l?{}:{toJSON:ut.noop}),("object"==typeof n||"function"==typeof n)&&(o?c[u]=ut.extend(c[u],n):c[u].data=ut.extend(c[u].data,n)),s=c[u],o||(s.data||(s.data={}),s=s.data),i!==t&&(s[ut.camelCase(n)]=i),"string"==typeof n?(r=s[n],null==r&&(r=s[ut.camelCase(n)])):r=s,r}}function r(e,t,n){if(ut.acceptData(e)){var i,o,r=e.nodeType,s=r?ut.cache:e,l=r?e[ut.expando]:ut.expando;if(s[l]){if(t&&(i=n?s[l]:s[l].data)){ut.isArray(t)?t=t.concat(ut.map(t,ut.camelCase)):t in i?t=[t]:(t=ut.camelCase(t),t=t in i?[t]:t.split(" ")),o=t.length;for(;o--;)delete i[t[o]];if(n?!a(i):!ut.isEmptyObject(i))return}(n||(delete s[l].data,a(s[l])))&&(r?ut.cleanData([e],!0):ut.support.deleteExpando||s!=s.window?delete s[l]:s[l]=null)}}}function s(e,n,i){if(i===t&&1===e.nodeType){var o="data-"+n.replace(Et,"-$1").toLowerCase();if(i=e.getAttribute(o),"string"==typeof i){try{i="true"===i?!0:"false"===i?!1:"null"===i?null:+i+""===i?+i:Tt.test(i)?ut.parseJSON(i):i}catch(r){}ut.data(e,n,i)}else i=t}return i}function a(e){var t;for(t in e)if(("data"!==t||!ut.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function l(){return!0}function c(){return!1}function u(){try{return Q.activeElement}catch(e){}}function d(e,t){do e=e[t];while(e&&1!==e.nodeType);return e}function h(e,t,n){if(ut.isFunction(t))return ut.grep(e,function(e,i){return!!t.call(e,i,e)!==n});if(t.nodeType)return ut.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(zt.test(t))return ut.filter(t,e,n);t=ut.filter(t,e)}return ut.grep(e,function(e){return ut.inArray(e,t)>=0!==n})}function p(e){var t=Wt.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}function f(e,t){return ut.nodeName(e,"table")&&ut.nodeName(1===t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function m(e){return e.type=(null!==ut.find.attr(e,"type"))+"/"+e.type,e}function g(e){var t=rn.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function v(e,t){for(var n,i=0;null!=(n=e[i]);i++)ut._data(n,"globalEval",!t||ut._data(t[i],"globalEval"))}function y(e,t){if(1===t.nodeType&&ut.hasData(e)){var n,i,o,r=ut._data(e),s=ut._data(t,r),a=r.events;if(a){delete s.handle,s.events={};for(n in a)for(i=0,o=a[n].length;o>i;i++)ut.event.add(t,n,a[n][i])}s.data&&(s.data=ut.extend({},s.data))}}function b(e,t){var n,i,o;if(1===t.nodeType){if(n=t.nodeName.toLowerCase(),!ut.support.noCloneEvent&&t[ut.expando]){o=ut._data(t);for(i in o.events)ut.removeEvent(t,i,o.handle);t.removeAttribute(ut.expando)}"script"===n&&t.text!==e.text?(m(t).text=e.text,g(t)):"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),ut.support.html5Clone&&e.innerHTML&&!ut.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&tn.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.defaultSelected=t.selected=e.defaultSelected:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}}function w(e,n){var i,o,r=0,s=typeof e.getElementsByTagName!==Y?e.getElementsByTagName(n||"*"):typeof e.querySelectorAll!==Y?e.querySelectorAll(n||"*"):t;if(!s)for(s=[],i=e.childNodes||e;null!=(o=i[r]);r++)!n||ut.nodeName(o,n)?s.push(o):ut.merge(s,w(o,n));return n===t||n&&ut.nodeName(e,n)?ut.merge([e],s):s}function x(e){tn.test(e.type)&&(e.defaultChecked=e.checked)}function C(e,t){if(t in e)return t;for(var n=t.charAt(0).toUpperCase()+t.slice(1),i=t,o=Sn.length;o--;)if(t=Sn[o]+n,t in e)return t;return i}function _(e,t){return e=t||e,"none"===ut.css(e,"display")||!ut.contains(e.ownerDocument,e)}function k(e,t){for(var n,i,o,r=[],s=0,a=e.length;a>s;s++)i=e[s],i.style&&(r[s]=ut._data(i,"olddisplay"),n=i.style.display,t?(r[s]||"none"!==n||(i.style.display=""),""===i.style.display&&_(i)&&(r[s]=ut._data(i,"olddisplay",P(i.nodeName)))):r[s]||(o=_(i),(n&&"none"!==n||!o)&&ut._data(i,"olddisplay",o?n:ut.css(i,"display"))));for(s=0;a>s;s++)i=e[s],i.style&&(t&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=t?r[s]||"":"none"));return e}function S(e,t,n){var i=yn.exec(t);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):t}function T(e,t,n,i,o){for(var r=n===(i?"border":"content")?4:"width"===t?1:0,s=0;4>r;r+=2)"margin"===n&&(s+=ut.css(e,n+kn[r],!0,o)),i?("content"===n&&(s-=ut.css(e,"padding"+kn[r],!0,o)),"margin"!==n&&(s-=ut.css(e,"border"+kn[r]+"Width",!0,o))):(s+=ut.css(e,"padding"+kn[r],!0,o),"padding"!==n&&(s+=ut.css(e,"border"+kn[r]+"Width",!0,o)));return s}function E(e,t,n){var i=!0,o="width"===t?e.offsetWidth:e.offsetHeight,r=dn(e),s=ut.support.boxSizing&&"border-box"===ut.css(e,"boxSizing",!1,r);if(0>=o||null==o){if(o=hn(e,t,r),(0>o||null==o)&&(o=e.style[t]),bn.test(o))return o;i=s&&(ut.support.boxSizingReliable||o===e.style[t]),o=parseFloat(o)||0}return o+T(e,t,n||(s?"border":"content"),i,r)+"px"}function P(e){var t=Q,n=xn[e];return n||(n=M(e,t),"none"!==n&&n||(un=(un||ut("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(t.documentElement),t=(un[0].contentWindow||un[0].contentDocument).document,t.write("<!doctype html><html><body>"),t.close(),n=M(e,t),un.detach()),xn[e]=n),n}function M(e,t){var n=ut(t.createElement(e)).appendTo(t.body),i=ut.css(n[0],"display");return n.remove(),i}function A(e,t,n,i){var o;if(ut.isArray(t))ut.each(t,function(t,o){n||En.test(e)?i(e,o):A(e+"["+("object"==typeof o?t:"")+"]",o,n,i)});else if(n||"object"!==ut.type(t))i(e,t);else for(o in t)A(e+"["+o+"]",t[o],n,i)}function I(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var i,o=0,r=t.toLowerCase().match(ht)||[];if(ut.isFunction(n))for(;i=r[o++];)"+"===i[0]?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(n)):(e[i]=e[i]||[]).push(n)}}function D(e,t,n,i){function o(a){var l;return r[a]=!0,ut.each(e[a]||[],function(e,a){var c=a(t,n,i);return"string"!=typeof c||s||r[c]?s?!(l=c):void 0:(t.dataTypes.unshift(c),o(c),!1)}),l}var r={},s=e===Vn;return o(t.dataTypes[0])||!r["*"]&&o("*")}function O(e,n){var i,o,r=ut.ajaxSettings.flatOptions||{};for(o in n)n[o]!==t&&((r[o]?e:i||(i={}))[o]=n[o]);return i&&ut.extend(!0,e,i),e}function N(e,n,i){for(var o,r,s,a,l=e.contents,c=e.dataTypes;"*"===c[0];)c.shift(),r===t&&(r=e.mimeType||n.getResponseHeader("Content-Type"));if(r)for(a in l)if(l[a]&&l[a].test(r)){c.unshift(a);break}if(c[0]in i)s=c[0];else{for(a in i){if(!c[0]||e.converters[a+" "+c[0]]){s=a;break}o||(o=a)}s=s||o}return s?(s!==c[0]&&c.unshift(s),i[s]):void 0}function R(e,t,n,i){var o,r,s,a,l,c={},u=e.dataTypes.slice();if(u[1])for(s in e.converters)c[s.toLowerCase()]=e.converters[s];for(r=u.shift();r;)if(e.responseFields[r]&&(n[e.responseFields[r]]=t),!l&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=r,r=u.shift())if("*"===r)r=l;else if("*"!==l&&l!==r){if(s=c[l+" "+r]||c["* "+r],!s)for(o in c)if(a=o.split(" "),a[1]===r&&(s=c[l+" "+a[0]]||c["* "+a[0]])){s===!0?s=c[o]:c[o]!==!0&&(r=a[0],u.unshift(a[1]));break}if(s!==!0)if(s&&e["throws"])t=s(t);else try{t=s(t)}catch(d){return{state:"parsererror",error:s?d:"No conversion from "+l+" to "+r}}}return{state:"success",data:t}}function F(){try{return new e.XMLHttpRequest}catch(t){}}function $(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function j(){return setTimeout(function(){Zn=t}),Zn=ut.now()}function L(e,t,n){for(var i,o=(ri[t]||[]).concat(ri["*"]),r=0,s=o.length;s>r;r++)if(i=o[r].call(n,t,e))return i}function B(e,t,n){var i,o,r=0,s=oi.length,a=ut.Deferred().always(function(){delete l.elem}),l=function(){if(o)return!1;for(var t=Zn||j(),n=Math.max(0,c.startTime+c.duration-t),i=n/c.duration||0,r=1-i,s=0,l=c.tweens.length;l>s;s++)c.tweens[s].run(r);return a.notifyWith(e,[c,r,n]),1>r&&l?n:(a.resolveWith(e,[c]),!1)},c=a.promise({elem:e,props:ut.extend({},t),opts:ut.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Zn||j(),duration:n.duration,tweens:[],createTween:function(t,n){var i=ut.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(i),i},stop:function(t){var n=0,i=t?c.tweens.length:0;if(o)return this;for(o=!0;i>n;n++)c.tweens[n].run(1);return t?a.resolveWith(e,[c,t]):a.rejectWith(e,[c,t]),this}}),u=c.props;for(q(u,c.opts.specialEasing);s>r;r++)if(i=oi[r].call(c,e,u,c.opts))return i;return ut.map(u,L,c),ut.isFunction(c.opts.start)&&c.opts.start.call(e,c),ut.fx.timer(ut.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function q(e,t){var n,i,o,r,s;for(n in e)if(i=ut.camelCase(n),o=t[i],r=e[n],ut.isArray(r)&&(o=r[1],r=e[n]=r[0]),n!==i&&(e[i]=r,delete e[n]),s=ut.cssHooks[i],s&&"expand"in s){r=s.expand(r),delete e[i];for(n in r)n in e||(e[n]=r[n],t[n]=o)}else t[i]=o}function z(e,t,n){var i,o,r,s,a,l,c=this,u={},d=e.style,h=e.nodeType&&_(e),p=ut._data(e,"fxshow");n.queue||(a=ut._queueHooks(e,"fx"),null==a.unqueued&&(a.unqueued=0,l=a.empty.fire,a.empty.fire=function(){a.unqueued||l()}),a.unqueued++,c.always(function(){c.always(function(){a.unqueued--,ut.queue(e,"fx").length||a.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[d.overflow,d.overflowX,d.overflowY],"inline"===ut.css(e,"display")&&"none"===ut.css(e,"float")&&(ut.support.inlineBlockNeedsLayout&&"inline"!==P(e.nodeName)?d.zoom=1:d.display="inline-block")),n.overflow&&(d.overflow="hidden",ut.support.shrinkWrapBlocks||c.always(function(){d.overflow=n.overflow[0],d.overflowX=n.overflow[1],d.overflowY=n.overflow[2]}));for(i in t)if(o=t[i],ti.exec(o)){if(delete t[i],r=r||"toggle"===o,o===(h?"hide":"show"))continue;u[i]=p&&p[i]||ut.style(e,i)}if(!ut.isEmptyObject(u)){p?"hidden"in p&&(h=p.hidden):p=ut._data(e,"fxshow",{}),r&&(p.hidden=!h),h?ut(e).show():c.done(function(){ut(e).hide()}),c.done(function(){var t;ut._removeData(e,"fxshow");for(t in u)ut.style(e,t,u[t])});for(i in u)s=L(h?p[i]:0,i,c),i in p||(p[i]=s.start,h&&(s.end=s.start,s.start="width"===i||"height"===i?1:0))}}function H(e,t,n,i,o){return new H.prototype.init(e,t,n,i,o)}function V(e,t){var n,i={height:e},o=0;for(t=t?1:0;4>o;o+=2-t)n=kn[o],i["margin"+n]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function U(e){return ut.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}var W,G,Y=typeof t,K=e.location,Q=e.document,J=Q.documentElement,X=e.jQuery,Z=e.$,et={},tt=[],nt="1.10.2",it=tt.concat,ot=tt.push,rt=tt.slice,st=tt.indexOf,at=et.toString,lt=et.hasOwnProperty,ct=nt.trim,ut=function(e,t){return new ut.fn.init(e,t,G)},dt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ht=/\S+/g,pt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ft=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,mt=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,gt=/^[\],:{}\s]*$/,vt=/(?:^|:|,)(?:\s*\[)+/g,yt=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,bt=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,wt=/^-ms-/,xt=/-([\da-z])/gi,Ct=function(e,t){return t.toUpperCase()},_t=function(e){(Q.addEventListener||"load"===e.type||"complete"===Q.readyState)&&(kt(),ut.ready())},kt=function(){Q.addEventListener?(Q.removeEventListener("DOMContentLoaded",_t,!1),e.removeEventListener("load",_t,!1)):(Q.detachEvent("onreadystatechange",_t),e.detachEvent("onload",_t))};ut.fn=ut.prototype={jquery:nt,constructor:ut,init:function(e,n,i){var o,r;if(!e)return this;if("string"==typeof e){if(o="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:ft.exec(e),!o||!o[1]&&n)return!n||n.jquery?(n||i).find(e):this.constructor(n).find(e);if(o[1]){if(n=n instanceof ut?n[0]:n,ut.merge(this,ut.parseHTML(o[1],n&&n.nodeType?n.ownerDocument||n:Q,!0)),mt.test(o[1])&&ut.isPlainObject(n))for(o in n)ut.isFunction(this[o])?this[o](n[o]):this.attr(o,n[o]);return this}if(r=Q.getElementById(o[2]),r&&r.parentNode){if(r.id!==o[2])return i.find(e);this.length=1,this[0]=r}return this.context=Q,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):ut.isFunction(e)?i.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),ut.makeArray(e,this))},selector:"",length:0,toArray:function(){return rt.call(this)},get:function(e){return null==e?this.toArray():0>e?this[this.length+e]:this[e]},pushStack:function(e){var t=ut.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return ut.each(this,e,t)},ready:function(e){return ut.ready.promise().done(e),this},slice:function(){return this.pushStack(rt.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},map:function(e){return this.pushStack(ut.map(this,function(t,n){return e.call(t,n,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:ot,sort:[].sort,splice:[].splice},ut.fn.init.prototype=ut.fn,ut.extend=ut.fn.extend=function(){var e,n,i,o,r,s,a=arguments[0]||{},l=1,c=arguments.length,u=!1;for("boolean"==typeof a&&(u=a,a=arguments[1]||{},l=2),"object"==typeof a||ut.isFunction(a)||(a={}),c===l&&(a=this,--l);c>l;l++)if(null!=(r=arguments[l]))for(o in r)e=a[o],i=r[o],a!==i&&(u&&i&&(ut.isPlainObject(i)||(n=ut.isArray(i)))?(n?(n=!1,s=e&&ut.isArray(e)?e:[]):s=e&&ut.isPlainObject(e)?e:{},a[o]=ut.extend(u,s,i)):i!==t&&(a[o]=i));return a},ut.extend({expando:"jQuery"+(nt+Math.random()).replace(/\D/g,""),noConflict:function(t){return e.$===ut&&(e.$=Z),t&&e.jQuery===ut&&(e.jQuery=X),ut},isReady:!1,readyWait:1,holdReady:function(e){e?ut.readyWait++:ut.ready(!0)},ready:function(e){if(e===!0?!--ut.readyWait:!ut.isReady){if(!Q.body)return setTimeout(ut.ready);ut.isReady=!0,e!==!0&&--ut.readyWait>0||(W.resolveWith(Q,[ut]),ut.fn.trigger&&ut(Q).trigger("ready").off("ready"))}},isFunction:function(e){return"function"===ut.type(e)},isArray:Array.isArray||function(e){return"array"===ut.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return null==e?String(e):"object"==typeof e||"function"==typeof e?et[at.call(e)]||"object":typeof e},isPlainObject:function(e){var n;if(!e||"object"!==ut.type(e)||e.nodeType||ut.isWindow(e))return!1;try{if(e.constructor&&!lt.call(e,"constructor")&&!lt.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(i){return!1}if(ut.support.ownLast)for(n in e)return lt.call(e,n);for(n in e);return n===t||lt.call(e,n)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},error:function(e){throw new Error(e)},parseHTML:function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||Q;var i=mt.exec(e),o=!n&&[];return i?[t.createElement(i[1])]:(i=ut.buildFragment([e],t,o),o&&ut(o).remove(),ut.merge([],i.childNodes))},parseJSON:function(t){return e.JSON&&e.JSON.parse?e.JSON.parse(t):null===t?t:"string"==typeof t&&(t=ut.trim(t),t&&gt.test(t.replace(yt,"@").replace(bt,"]").replace(vt,"")))?new Function("return "+t)():void ut.error("Invalid JSON: "+t)},parseXML:function(n){var i,o;if(!n||"string"!=typeof n)return null;try{e.DOMParser?(o=new DOMParser,i=o.parseFromString(n,"text/xml")):(i=new ActiveXObject("Microsoft.XMLDOM"),i.async="false",i.loadXML(n))}catch(r){i=t}return i&&i.documentElement&&!i.getElementsByTagName("parsererror").length||ut.error("Invalid XML: "+n),i},noop:function(){},globalEval:function(t){t&&ut.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(wt,"ms-").replace(xt,Ct)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,i){var o,r=0,s=e.length,a=n(e);if(i){if(a)for(;s>r&&(o=t.apply(e[r],i),o!==!1);r++);else for(r in e)if(o=t.apply(e[r],i),o===!1)break}else if(a)for(;s>r&&(o=t.call(e[r],r,e[r]),o!==!1);r++);else for(r in e)if(o=t.call(e[r],r,e[r]),o===!1)break;return e},trim:ct&&!ct.call("﻿ ")?function(e){return null==e?"":ct.call(e)}:function(e){return null==e?"":(e+"").replace(pt,"")},makeArray:function(e,t){var i=t||[];return null!=e&&(n(Object(e))?ut.merge(i,"string"==typeof e?[e]:e):ot.call(i,e)),i},inArray:function(e,t,n){var i;if(t){if(st)return st.call(t,e,n);for(i=t.length,n=n?0>n?Math.max(0,i+n):n:0;i>n;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,n){var i=n.length,o=e.length,r=0;if("number"==typeof i)for(;i>r;r++)e[o++]=n[r];else for(;n[r]!==t;)e[o++]=n[r++];return e.length=o,e},grep:function(e,t,n){var i,o=[],r=0,s=e.length;for(n=!!n;s>r;r++)i=!!t(e[r],r),n!==i&&o.push(e[r]);return o},map:function(e,t,i){var o,r=0,s=e.length,a=n(e),l=[];if(a)for(;s>r;r++)o=t(e[r],r,i),null!=o&&(l[l.length]=o);else for(r in e)o=t(e[r],r,i),null!=o&&(l[l.length]=o);return it.apply([],l)},guid:1,proxy:function(e,n){var i,o,r;
return"string"==typeof n&&(r=e[n],n=e,e=r),ut.isFunction(e)?(i=rt.call(arguments,2),o=function(){return e.apply(n||this,i.concat(rt.call(arguments)))},o.guid=e.guid=e.guid||ut.guid++,o):t},access:function(e,n,i,o,r,s,a){var l=0,c=e.length,u=null==i;if("object"===ut.type(i)){r=!0;for(l in i)ut.access(e,n,l,i[l],!0,s,a)}else if(o!==t&&(r=!0,ut.isFunction(o)||(a=!0),u&&(a?(n.call(e,o),n=null):(u=n,n=function(e,t,n){return u.call(ut(e),n)})),n))for(;c>l;l++)n(e[l],i,a?o:o.call(e[l],l,n(e[l],i)));return r?e:u?n.call(e):c?n(e[0],i):s},now:function(){return(new Date).getTime()},swap:function(e,t,n,i){var o,r,s={};for(r in t)s[r]=e.style[r],e.style[r]=t[r];o=n.apply(e,i||[]);for(r in t)e.style[r]=s[r];return o}}),ut.ready.promise=function(t){if(!W)if(W=ut.Deferred(),"complete"===Q.readyState)setTimeout(ut.ready);else if(Q.addEventListener)Q.addEventListener("DOMContentLoaded",_t,!1),e.addEventListener("load",_t,!1);else{Q.attachEvent("onreadystatechange",_t),e.attachEvent("onload",_t);var n=!1;try{n=null==e.frameElement&&Q.documentElement}catch(i){}n&&n.doScroll&&!function o(){if(!ut.isReady){try{n.doScroll("left")}catch(e){return setTimeout(o,50)}kt(),ut.ready()}}()}return W.promise(t)},ut.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){et["[object "+t+"]"]=t.toLowerCase()}),G=ut(Q),function(e,t){function n(e,t,n,i){var o,r,s,a,l,c,u,d,f,m;if((t?t.ownerDocument||t:B)!==D&&I(t),t=t||D,n=n||[],!e||"string"!=typeof e)return n;if(1!==(a=t.nodeType)&&9!==a)return[];if(N&&!i){if(o=bt.exec(e))if(s=o[1]){if(9===a){if(r=t.getElementById(s),!r||!r.parentNode)return n;if(r.id===s)return n.push(r),n}else if(t.ownerDocument&&(r=t.ownerDocument.getElementById(s))&&j(t,r)&&r.id===s)return n.push(r),n}else{if(o[2])return et.apply(n,t.getElementsByTagName(e)),n;if((s=o[3])&&_.getElementsByClassName&&t.getElementsByClassName)return et.apply(n,t.getElementsByClassName(s)),n}if(_.qsa&&(!R||!R.test(e))){if(d=u=L,f=t,m=9===a&&e,1===a&&"object"!==t.nodeName.toLowerCase()){for(c=h(e),(u=t.getAttribute("id"))?d=u.replace(Ct,"\\$&"):t.setAttribute("id",d),d="[id='"+d+"'] ",l=c.length;l--;)c[l]=d+p(c[l]);f=pt.test(e)&&t.parentNode||t,m=c.join(",")}if(m)try{return et.apply(n,f.querySelectorAll(m)),n}catch(g){}finally{u||t.removeAttribute("id")}}}return x(e.replace(ct,"$1"),t,n,i)}function i(){function e(n,i){return t.push(n+=" ")>S.cacheLength&&delete e[t.shift()],e[n]=i}var t=[];return e}function o(e){return e[L]=!0,e}function r(e){var t=D.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function s(e,t){for(var n=e.split("|"),i=e.length;i--;)S.attrHandle[n[i]]=t}function a(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||K)-(~e.sourceIndex||K);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function l(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function c(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function u(e){return o(function(t){return t=+t,o(function(n,i){for(var o,r=e([],n.length,t),s=r.length;s--;)n[o=r[s]]&&(n[o]=!(i[o]=n[o]))})})}function d(){}function h(e,t){var i,o,r,s,a,l,c,u=V[e+" "];if(u)return t?0:u.slice(0);for(a=e,l=[],c=S.preFilter;a;){(!i||(o=dt.exec(a)))&&(o&&(a=a.slice(o[0].length)||a),l.push(r=[])),i=!1,(o=ht.exec(a))&&(i=o.shift(),r.push({value:i,type:o[0].replace(ct," ")}),a=a.slice(i.length));for(s in S.filter)!(o=vt[s].exec(a))||c[s]&&!(o=c[s](o))||(i=o.shift(),r.push({value:i,type:s,matches:o}),a=a.slice(i.length));if(!i)break}return t?a.length:a?n.error(e):V(e,l).slice(0)}function p(e){for(var t=0,n=e.length,i="";n>t;t++)i+=e[t].value;return i}function f(e,t,n){var i=t.dir,o=n&&"parentNode"===i,r=z++;return t.first?function(t,n,r){for(;t=t[i];)if(1===t.nodeType||o)return e(t,n,r)}:function(t,n,s){var a,l,c,u=q+" "+r;if(s){for(;t=t[i];)if((1===t.nodeType||o)&&e(t,n,s))return!0}else for(;t=t[i];)if(1===t.nodeType||o)if(c=t[L]||(t[L]={}),(l=c[i])&&l[0]===u){if((a=l[1])===!0||a===k)return a===!0}else if(l=c[i]=[u],l[1]=e(t,n,s)||k,l[1]===!0)return!0}}function m(e){return e.length>1?function(t,n,i){for(var o=e.length;o--;)if(!e[o](t,n,i))return!1;return!0}:e[0]}function g(e,t,n,i,o){for(var r,s=[],a=0,l=e.length,c=null!=t;l>a;a++)(r=e[a])&&(!n||n(r,i,o))&&(s.push(r),c&&t.push(a));return s}function v(e,t,n,i,r,s){return i&&!i[L]&&(i=v(i)),r&&!r[L]&&(r=v(r,s)),o(function(o,s,a,l){var c,u,d,h=[],p=[],f=s.length,m=o||w(t||"*",a.nodeType?[a]:a,[]),v=!e||!o&&t?m:g(m,h,e,a,l),y=n?r||(o?e:f||i)?[]:s:v;if(n&&n(v,y,a,l),i)for(c=g(y,p),i(c,[],a,l),u=c.length;u--;)(d=c[u])&&(y[p[u]]=!(v[p[u]]=d));if(o){if(r||e){if(r){for(c=[],u=y.length;u--;)(d=y[u])&&c.push(v[u]=d);r(null,y=[],c,l)}for(u=y.length;u--;)(d=y[u])&&(c=r?nt.call(o,d):h[u])>-1&&(o[c]=!(s[c]=d))}}else y=g(y===s?y.splice(f,y.length):y),r?r(null,s,y,l):et.apply(s,y)})}function y(e){for(var t,n,i,o=e.length,r=S.relative[e[0].type],s=r||S.relative[" "],a=r?1:0,l=f(function(e){return e===t},s,!0),c=f(function(e){return nt.call(t,e)>-1},s,!0),u=[function(e,n,i){return!r&&(i||n!==M)||((t=n).nodeType?l(e,n,i):c(e,n,i))}];o>a;a++)if(n=S.relative[e[a].type])u=[f(m(u),n)];else{if(n=S.filter[e[a].type].apply(null,e[a].matches),n[L]){for(i=++a;o>i&&!S.relative[e[i].type];i++);return v(a>1&&m(u),a>1&&p(e.slice(0,a-1).concat({value:" "===e[a-2].type?"*":""})).replace(ct,"$1"),n,i>a&&y(e.slice(a,i)),o>i&&y(e=e.slice(i)),o>i&&p(e))}u.push(n)}return m(u)}function b(e,t){var i=0,r=t.length>0,s=e.length>0,a=function(o,a,l,c,u){var d,h,p,f=[],m=0,v="0",y=o&&[],b=null!=u,w=M,x=o||s&&S.find.TAG("*",u&&a.parentNode||a),C=q+=null==w?1:Math.random()||.1;for(b&&(M=a!==D&&a,k=i);null!=(d=x[v]);v++){if(s&&d){for(h=0;p=e[h++];)if(p(d,a,l)){c.push(d);break}b&&(q=C,k=++i)}r&&((d=!p&&d)&&m--,o&&y.push(d))}if(m+=v,r&&v!==m){for(h=0;p=t[h++];)p(y,f,a,l);if(o){if(m>0)for(;v--;)y[v]||f[v]||(f[v]=X.call(c));f=g(f)}et.apply(c,f),b&&!o&&f.length>0&&m+t.length>1&&n.uniqueSort(c)}return b&&(q=C,M=w),y};return r?o(a):a}function w(e,t,i){for(var o=0,r=t.length;r>o;o++)n(e,t[o],i);return i}function x(e,t,n,i){var o,r,s,a,l,c=h(e);if(!i&&1===c.length){if(r=c[0]=c[0].slice(0),r.length>2&&"ID"===(s=r[0]).type&&_.getById&&9===t.nodeType&&N&&S.relative[r[1].type]){if(t=(S.find.ID(s.matches[0].replace(_t,kt),t)||[])[0],!t)return n;e=e.slice(r.shift().value.length)}for(o=vt.needsContext.test(e)?0:r.length;o--&&(s=r[o],!S.relative[a=s.type]);)if((l=S.find[a])&&(i=l(s.matches[0].replace(_t,kt),pt.test(r[0].type)&&t.parentNode||t))){if(r.splice(o,1),e=i.length&&p(r),!e)return et.apply(n,i),n;break}}return P(e,c)(i,t,!N,n,pt.test(e)),n}var C,_,k,S,T,E,P,M,A,I,D,O,N,R,F,$,j,L="sizzle"+-new Date,B=e.document,q=0,z=0,H=i(),V=i(),U=i(),W=!1,G=function(e,t){return e===t?(W=!0,0):0},Y=typeof t,K=1<<31,Q={}.hasOwnProperty,J=[],X=J.pop,Z=J.push,et=J.push,tt=J.slice,nt=J.indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(this[t]===e)return t;return-1},it="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ot="[\\x20\\t\\r\\n\\f]",rt="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",st=rt.replace("w","w#"),at="\\["+ot+"*("+rt+")"+ot+"*(?:([*^$|!~]?=)"+ot+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+st+")|)|)"+ot+"*\\]",lt=":("+rt+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+at.replace(3,8)+")*)|.*)\\)|)",ct=new RegExp("^"+ot+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ot+"+$","g"),dt=new RegExp("^"+ot+"*,"+ot+"*"),ht=new RegExp("^"+ot+"*([>+~]|"+ot+")"+ot+"*"),pt=new RegExp(ot+"*[+~]"),ft=new RegExp("="+ot+"*([^\\]'\"]*)"+ot+"*\\]","g"),mt=new RegExp(lt),gt=new RegExp("^"+st+"$"),vt={ID:new RegExp("^#("+rt+")"),CLASS:new RegExp("^\\.("+rt+")"),TAG:new RegExp("^("+rt.replace("w","w*")+")"),ATTR:new RegExp("^"+at),PSEUDO:new RegExp("^"+lt),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ot+"*(even|odd|(([+-]|)(\\d*)n|)"+ot+"*(?:([+-]|)"+ot+"*(\\d+)|))"+ot+"*\\)|)","i"),bool:new RegExp("^(?:"+it+")$","i"),needsContext:new RegExp("^"+ot+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ot+"*((?:-\\d)?\\d*)"+ot+"*\\)|)(?=[^-]|$)","i")},yt=/^[^{]+\{\s*\[native \w/,bt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,wt=/^(?:input|select|textarea|button)$/i,xt=/^h\d$/i,Ct=/'|\\/g,_t=new RegExp("\\\\([\\da-f]{1,6}"+ot+"?|("+ot+")|.)","ig"),kt=function(e,t,n){var i="0x"+t-65536;return i!==i||n?t:0>i?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)};try{et.apply(J=tt.call(B.childNodes),B.childNodes),J[B.childNodes.length].nodeType}catch(St){et={apply:J.length?function(e,t){Z.apply(e,tt.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}E=n.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},_=n.support={},I=n.setDocument=function(e){var t=e?e.ownerDocument||e:B,n=t.defaultView;return t!==D&&9===t.nodeType&&t.documentElement?(D=t,O=t.documentElement,N=!E(t),n&&n.attachEvent&&n!==n.top&&n.attachEvent("onbeforeunload",function(){I()}),_.attributes=r(function(e){return e.className="i",!e.getAttribute("className")}),_.getElementsByTagName=r(function(e){return e.appendChild(t.createComment("")),!e.getElementsByTagName("*").length}),_.getElementsByClassName=r(function(e){return e.innerHTML="<div class='a'></div><div class='a i'></div>",e.firstChild.className="i",2===e.getElementsByClassName("i").length}),_.getById=r(function(e){return O.appendChild(e).id=L,!t.getElementsByName||!t.getElementsByName(L).length}),_.getById?(S.find.ID=function(e,t){if(typeof t.getElementById!==Y&&N){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},S.filter.ID=function(e){var t=e.replace(_t,kt);return function(e){return e.getAttribute("id")===t}}):(delete S.find.ID,S.filter.ID=function(e){var t=e.replace(_t,kt);return function(e){var n=typeof e.getAttributeNode!==Y&&e.getAttributeNode("id");return n&&n.value===t}}),S.find.TAG=_.getElementsByTagName?function(e,t){return typeof t.getElementsByTagName!==Y?t.getElementsByTagName(e):void 0}:function(e,t){var n,i=[],o=0,r=t.getElementsByTagName(e);if("*"===e){for(;n=r[o++];)1===n.nodeType&&i.push(n);return i}return r},S.find.CLASS=_.getElementsByClassName&&function(e,t){return typeof t.getElementsByClassName!==Y&&N?t.getElementsByClassName(e):void 0},F=[],R=[],(_.qsa=yt.test(t.querySelectorAll))&&(r(function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||R.push("\\["+ot+"*(?:value|"+it+")"),e.querySelectorAll(":checked").length||R.push(":checked")}),r(function(e){var n=t.createElement("input");n.setAttribute("type","hidden"),e.appendChild(n).setAttribute("t",""),e.querySelectorAll("[t^='']").length&&R.push("[*^$]="+ot+"*(?:''|\"\")"),e.querySelectorAll(":enabled").length||R.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),R.push(",.*:")})),(_.matchesSelector=yt.test($=O.webkitMatchesSelector||O.mozMatchesSelector||O.oMatchesSelector||O.msMatchesSelector))&&r(function(e){_.disconnectedMatch=$.call(e,"div"),$.call(e,"[s!='']:x"),F.push("!=",lt)}),R=R.length&&new RegExp(R.join("|")),F=F.length&&new RegExp(F.join("|")),j=yt.test(O.contains)||O.compareDocumentPosition?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},G=O.compareDocumentPosition?function(e,n){if(e===n)return W=!0,0;var i=n.compareDocumentPosition&&e.compareDocumentPosition&&e.compareDocumentPosition(n);return i?1&i||!_.sortDetached&&n.compareDocumentPosition(e)===i?e===t||j(B,e)?-1:n===t||j(B,n)?1:A?nt.call(A,e)-nt.call(A,n):0:4&i?-1:1:e.compareDocumentPosition?-1:1}:function(e,n){var i,o=0,r=e.parentNode,s=n.parentNode,l=[e],c=[n];if(e===n)return W=!0,0;if(!r||!s)return e===t?-1:n===t?1:r?-1:s?1:A?nt.call(A,e)-nt.call(A,n):0;if(r===s)return a(e,n);for(i=e;i=i.parentNode;)l.unshift(i);for(i=n;i=i.parentNode;)c.unshift(i);for(;l[o]===c[o];)o++;return o?a(l[o],c[o]):l[o]===B?-1:c[o]===B?1:0},t):D},n.matches=function(e,t){return n(e,null,null,t)},n.matchesSelector=function(e,t){if((e.ownerDocument||e)!==D&&I(e),t=t.replace(ft,"='$1']"),!(!_.matchesSelector||!N||F&&F.test(t)||R&&R.test(t)))try{var i=$.call(e,t);if(i||_.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(o){}return n(t,D,null,[e]).length>0},n.contains=function(e,t){return(e.ownerDocument||e)!==D&&I(e),j(e,t)},n.attr=function(e,n){(e.ownerDocument||e)!==D&&I(e);var i=S.attrHandle[n.toLowerCase()],o=i&&Q.call(S.attrHandle,n.toLowerCase())?i(e,n,!N):t;return o===t?_.attributes||!N?e.getAttribute(n):(o=e.getAttributeNode(n))&&o.specified?o.value:null:o},n.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},n.uniqueSort=function(e){var t,n=[],i=0,o=0;if(W=!_.detectDuplicates,A=!_.sortStable&&e.slice(0),e.sort(G),W){for(;t=e[o++];)t===e[o]&&(i=n.push(o));for(;i--;)e.splice(n[i],1)}return e},T=n.getText=function(e){var t,n="",i=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=T(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[i];i++)n+=T(t);return n},S=n.selectors={cacheLength:50,createPseudo:o,match:vt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(_t,kt),e[3]=(e[4]||e[5]||"").replace(_t,kt),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||n.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&n.error(e[0]),e},PSEUDO:function(e){var n,i=!e[5]&&e[2];return vt.CHILD.test(e[0])?null:(e[3]&&e[4]!==t?e[2]=e[4]:i&&mt.test(i)&&(n=h(i,!0))&&(n=i.indexOf(")",i.length-n)-i.length)&&(e[0]=e[0].slice(0,n),e[2]=i.slice(0,n)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(_t,kt).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=H[e+" "];return t||(t=new RegExp("(^|"+ot+")"+e+"("+ot+"|$)"))&&H(e,function(e){return t.test("string"==typeof e.className&&e.className||typeof e.getAttribute!==Y&&e.getAttribute("class")||"")})},ATTR:function(e,t,i){return function(o){var r=n.attr(o,e);return null==r?"!="===t:t?(r+="","="===t?r===i:"!="===t?r!==i:"^="===t?i&&0===r.indexOf(i):"*="===t?i&&r.indexOf(i)>-1:"$="===t?i&&r.slice(-i.length)===i:"~="===t?(" "+r+" ").indexOf(i)>-1:"|="===t?r===i||r.slice(0,i.length+1)===i+"-":!1):!0}},CHILD:function(e,t,n,i,o){var r="nth"!==e.slice(0,3),s="last"!==e.slice(-4),a="of-type"===t;return 1===i&&0===o?function(e){return!!e.parentNode}:function(t,n,l){var c,u,d,h,p,f,m=r!==s?"nextSibling":"previousSibling",g=t.parentNode,v=a&&t.nodeName.toLowerCase(),y=!l&&!a;if(g){if(r){for(;m;){for(d=t;d=d[m];)if(a?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;f=m="only"===e&&!f&&"nextSibling"}return!0}if(f=[s?g.firstChild:g.lastChild],s&&y){for(u=g[L]||(g[L]={}),c=u[e]||[],p=c[0]===q&&c[1],h=c[0]===q&&c[2],d=p&&g.childNodes[p];d=++p&&d&&d[m]||(h=p=0)||f.pop();)if(1===d.nodeType&&++h&&d===t){u[e]=[q,p,h];break}}else if(y&&(c=(t[L]||(t[L]={}))[e])&&c[0]===q)h=c[1];else for(;(d=++p&&d&&d[m]||(h=p=0)||f.pop())&&((a?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++h||(y&&((d[L]||(d[L]={}))[e]=[q,h]),d!==t)););return h-=o,h===i||h%i===0&&h/i>=0}}},PSEUDO:function(e,t){var i,r=S.pseudos[e]||S.setFilters[e.toLowerCase()]||n.error("unsupported pseudo: "+e);return r[L]?r(t):r.length>1?(i=[e,e,"",t],S.setFilters.hasOwnProperty(e.toLowerCase())?o(function(e,n){for(var i,o=r(e,t),s=o.length;s--;)i=nt.call(e,o[s]),e[i]=!(n[i]=o[s])}):function(e){return r(e,0,i)}):r}},pseudos:{not:o(function(e){var t=[],n=[],i=P(e.replace(ct,"$1"));return i[L]?o(function(e,t,n,o){for(var r,s=i(e,null,o,[]),a=e.length;a--;)(r=s[a])&&(e[a]=!(t[a]=r))}):function(e,o,r){return t[0]=e,i(t,null,r,n),!n.pop()}}),has:o(function(e){return function(t){return n(e,t).length>0}}),contains:o(function(e){return function(t){return(t.textContent||t.innerText||T(t)).indexOf(e)>-1}}),lang:o(function(e){return gt.test(e||"")||n.error("unsupported lang: "+e),e=e.replace(_t,kt).toLowerCase(),function(t){var n;do if(n=N?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===O},focus:function(e){return e===D.activeElement&&(!D.hasFocus||D.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeName>"@"||3===e.nodeType||4===e.nodeType)return!1;return!0},parent:function(e){return!S.pseudos.empty(e)},header:function(e){return xt.test(e.nodeName)},input:function(e){return wt.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||t.toLowerCase()===e.type)},first:u(function(){return[0]}),last:u(function(e,t){return[t-1]}),eq:u(function(e,t,n){return[0>n?n+t:n]}),even:u(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:u(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:u(function(e,t,n){for(var i=0>n?n+t:n;--i>=0;)e.push(i);return e}),gt:u(function(e,t,n){for(var i=0>n?n+t:n;++i<t;)e.push(i);return e})}},S.pseudos.nth=S.pseudos.eq;for(C in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})S.pseudos[C]=l(C);for(C in{submit:!0,reset:!0})S.pseudos[C]=c(C);d.prototype=S.filters=S.pseudos,S.setFilters=new d,P=n.compile=function(e,t){var n,i=[],o=[],r=U[e+" "];if(!r){for(t||(t=h(e)),n=t.length;n--;)r=y(t[n]),r[L]?i.push(r):o.push(r);r=U(e,b(o,i))}return r},_.sortStable=L.split("").sort(G).join("")===L,_.detectDuplicates=W,I(),_.sortDetached=r(function(e){return 1&e.compareDocumentPosition(D.createElement("div"))}),r(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||s("type|href|height|width",function(e,t,n){return n?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),_.attributes&&r(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||s("value",function(e,t,n){return n||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),r(function(e){return null==e.getAttribute("disabled")})||s(it,function(e,t,n){var i;return n?void 0:(i=e.getAttributeNode(t))&&i.specified?i.value:e[t]===!0?t.toLowerCase():null}),ut.find=n,ut.expr=n.selectors,ut.expr[":"]=ut.expr.pseudos,ut.unique=n.uniqueSort,ut.text=n.getText,ut.isXMLDoc=n.isXML,ut.contains=n.contains}(e);var St={};ut.Callbacks=function(e){e="string"==typeof e?St[e]||i(e):ut.extend({},e);var n,o,r,s,a,l,c=[],u=!e.once&&[],d=function(t){for(o=e.memory&&t,r=!0,a=l||0,l=0,s=c.length,n=!0;c&&s>a;a++)if(c[a].apply(t[0],t[1])===!1&&e.stopOnFalse){o=!1;break}n=!1,c&&(u?u.length&&d(u.shift()):o?c=[]:h.disable())},h={add:function(){if(c){var t=c.length;!function i(t){ut.each(t,function(t,n){var o=ut.type(n);"function"===o?e.unique&&h.has(n)||c.push(n):n&&n.length&&"string"!==o&&i(n)})}(arguments),n?s=c.length:o&&(l=t,d(o))}return this},remove:function(){return c&&ut.each(arguments,function(e,t){for(var i;(i=ut.inArray(t,c,i))>-1;)c.splice(i,1),n&&(s>=i&&s--,a>=i&&a--)}),this},has:function(e){return e?ut.inArray(e,c)>-1:!(!c||!c.length)},empty:function(){return c=[],s=0,this},disable:function(){return c=u=o=t,this},disabled:function(){return!c},lock:function(){return u=t,o||h.disable(),this},locked:function(){return!u},fireWith:function(e,t){return!c||r&&!u||(t=t||[],t=[e,t.slice?t.slice():t],n?u.push(t):d(t)),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!r}};return h},ut.extend({Deferred:function(e){var t=[["resolve","done",ut.Callbacks("once memory"),"resolved"],["reject","fail",ut.Callbacks("once memory"),"rejected"],["notify","progress",ut.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return o.done(arguments).fail(arguments),this},then:function(){var e=arguments;return ut.Deferred(function(n){ut.each(t,function(t,r){var s=r[0],a=ut.isFunction(e[t])&&e[t];o[r[1]](function(){var e=a&&a.apply(this,arguments);e&&ut.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[s+"With"](this===i?n.promise():this,a?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?ut.extend(e,i):i}},o={};return i.pipe=i.then,ut.each(t,function(e,r){var s=r[2],a=r[3];i[r[1]]=s.add,a&&s.add(function(){n=a},t[1^e][2].disable,t[2][2].lock),o[r[0]]=function(){return o[r[0]+"With"](this===o?i:this,arguments),this},o[r[0]+"With"]=s.fireWith}),i.promise(o),e&&e.call(o,o),o},when:function(e){var t,n,i,o=0,r=rt.call(arguments),s=r.length,a=1!==s||e&&ut.isFunction(e.promise)?s:0,l=1===a?e:ut.Deferred(),c=function(e,n,i){return function(o){n[e]=this,i[e]=arguments.length>1?rt.call(arguments):o,i===t?l.notifyWith(n,i):--a||l.resolveWith(n,i)}};if(s>1)for(t=new Array(s),n=new Array(s),i=new Array(s);s>o;o++)r[o]&&ut.isFunction(r[o].promise)?r[o].promise().done(c(o,i,r)).fail(l.reject).progress(c(o,n,t)):--a;return a||l.resolveWith(i,r),l.promise()}}),ut.support=function(t){var n,i,o,r,s,a,l,c,u,d=Q.createElement("div");if(d.setAttribute("className","t"),d.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",n=d.getElementsByTagName("*")||[],i=d.getElementsByTagName("a")[0],!i||!i.style||!n.length)return t;r=Q.createElement("select"),a=r.appendChild(Q.createElement("option")),o=d.getElementsByTagName("input")[0],i.style.cssText="top:1px;float:left;opacity:.5",t.getSetAttribute="t"!==d.className,t.leadingWhitespace=3===d.firstChild.nodeType,t.tbody=!d.getElementsByTagName("tbody").length,t.htmlSerialize=!!d.getElementsByTagName("link").length,t.style=/top/.test(i.getAttribute("style")),t.hrefNormalized="/a"===i.getAttribute("href"),t.opacity=/^0.5/.test(i.style.opacity),t.cssFloat=!!i.style.cssFloat,t.checkOn=!!o.value,t.optSelected=a.selected,t.enctype=!!Q.createElement("form").enctype,t.html5Clone="<:nav></:nav>"!==Q.createElement("nav").cloneNode(!0).outerHTML,t.inlineBlockNeedsLayout=!1,t.shrinkWrapBlocks=!1,t.pixelPosition=!1,t.deleteExpando=!0,t.noCloneEvent=!0,t.reliableMarginRight=!0,t.boxSizingReliable=!0,o.checked=!0,t.noCloneChecked=o.cloneNode(!0).checked,r.disabled=!0,t.optDisabled=!a.disabled;try{delete d.test}catch(h){t.deleteExpando=!1}o=Q.createElement("input"),o.setAttribute("value",""),t.input=""===o.getAttribute("value"),o.value="t",o.setAttribute("type","radio"),t.radioValue="t"===o.value,o.setAttribute("checked","t"),o.setAttribute("name","t"),s=Q.createDocumentFragment(),s.appendChild(o),t.appendChecked=o.checked,t.checkClone=s.cloneNode(!0).cloneNode(!0).lastChild.checked,d.attachEvent&&(d.attachEvent("onclick",function(){t.noCloneEvent=!1}),d.cloneNode(!0).click());for(u in{submit:!0,change:!0,focusin:!0})d.setAttribute(l="on"+u,"t"),t[u+"Bubbles"]=l in e||d.attributes[l].expando===!1;d.style.backgroundClip="content-box",d.cloneNode(!0).style.backgroundClip="",t.clearCloneStyle="content-box"===d.style.backgroundClip;for(u in ut(t))break;return t.ownLast="0"!==u,ut(function(){var n,i,o,r="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",s=Q.getElementsByTagName("body")[0];s&&(n=Q.createElement("div"),n.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",s.appendChild(n).appendChild(d),d.innerHTML="<table><tr><td></td><td>t</td></tr></table>",o=d.getElementsByTagName("td"),o[0].style.cssText="padding:0;margin:0;border:0;display:none",c=0===o[0].offsetHeight,o[0].style.display="",o[1].style.display="none",t.reliableHiddenOffsets=c&&0===o[0].offsetHeight,d.innerHTML="",d.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",ut.swap(s,null!=s.style.zoom?{zoom:1}:{},function(){t.boxSizing=4===d.offsetWidth}),e.getComputedStyle&&(t.pixelPosition="1%"!==(e.getComputedStyle(d,null)||{}).top,t.boxSizingReliable="4px"===(e.getComputedStyle(d,null)||{width:"4px"}).width,i=d.appendChild(Q.createElement("div")),i.style.cssText=d.style.cssText=r,i.style.marginRight=i.style.width="0",d.style.width="1px",t.reliableMarginRight=!parseFloat((e.getComputedStyle(i,null)||{}).marginRight)),typeof d.style.zoom!==Y&&(d.innerHTML="",d.style.cssText=r+"width:1px;padding:1px;display:inline;zoom:1",t.inlineBlockNeedsLayout=3===d.offsetWidth,d.style.display="block",d.innerHTML="<div></div>",d.firstChild.style.width="5px",t.shrinkWrapBlocks=3!==d.offsetWidth,t.inlineBlockNeedsLayout&&(s.style.zoom=1)),s.removeChild(n),n=d=o=i=null)}),n=r=s=a=i=o=null,t}({});var Tt=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,Et=/([A-Z])/g;ut.extend({cache:{},noData:{applet:!0,embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return e=e.nodeType?ut.cache[e[ut.expando]]:e[ut.expando],!!e&&!a(e)},data:function(e,t,n){return o(e,t,n)},removeData:function(e,t){return r(e,t)},_data:function(e,t,n){return o(e,t,n,!0)},_removeData:function(e,t){return r(e,t,!0)},acceptData:function(e){if(e.nodeType&&1!==e.nodeType&&9!==e.nodeType)return!1;var t=e.nodeName&&ut.noData[e.nodeName.toLowerCase()];return!t||t!==!0&&e.getAttribute("classid")===t}}),ut.fn.extend({data:function(e,n){var i,o,r=null,a=0,l=this[0];if(e===t){if(this.length&&(r=ut.data(l),1===l.nodeType&&!ut._data(l,"parsedAttrs"))){for(i=l.attributes;a<i.length;a++)o=i[a].name,0===o.indexOf("data-")&&(o=ut.camelCase(o.slice(5)),s(l,o,r[o]));ut._data(l,"parsedAttrs",!0)}return r}return"object"==typeof e?this.each(function(){ut.data(this,e)}):arguments.length>1?this.each(function(){ut.data(this,e,n)}):l?s(l,e,ut.data(l,e)):null},removeData:function(e){return this.each(function(){ut.removeData(this,e)})}}),ut.extend({queue:function(e,t,n){var i;return e?(t=(t||"fx")+"queue",i=ut._data(e,t),n&&(!i||ut.isArray(n)?i=ut._data(e,t,ut.makeArray(n)):i.push(n)),i||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=ut.queue(e,t),i=n.length,o=n.shift(),r=ut._queueHooks(e,t),s=function(){ut.dequeue(e,t)};"inprogress"===o&&(o=n.shift(),i--),o&&("fx"===t&&n.unshift("inprogress"),delete r.stop,o.call(e,s,r)),!i&&r&&r.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return ut._data(e,n)||ut._data(e,n,{empty:ut.Callbacks("once memory").add(function(){ut._removeData(e,t+"queue"),ut._removeData(e,n)})})}}),ut.fn.extend({queue:function(e,n){var i=2;return"string"!=typeof e&&(n=e,e="fx",i--),arguments.length<i?ut.queue(this[0],e):n===t?this:this.each(function(){var t=ut.queue(this,e,n);ut._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&ut.dequeue(this,e)})},dequeue:function(e){return this.each(function(){ut.dequeue(this,e)})},delay:function(e,t){return e=ut.fx?ut.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var i=setTimeout(t,e);n.stop=function(){clearTimeout(i)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,n){var i,o=1,r=ut.Deferred(),s=this,a=this.length,l=function(){--o||r.resolveWith(s,[s])};for("string"!=typeof e&&(n=e,e=t),e=e||"fx";a--;)i=ut._data(s[a],e+"queueHooks"),i&&i.empty&&(o++,i.empty.add(l));return l(),r.promise(n)}});var Pt,Mt,At=/[\t\r\n\f]/g,It=/\r/g,Dt=/^(?:input|select|textarea|button|object)$/i,Ot=/^(?:a|area)$/i,Nt=/^(?:checked|selected)$/i,Rt=ut.support.getSetAttribute,Ft=ut.support.input;ut.fn.extend({attr:function(e,t){return ut.access(this,ut.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){ut.removeAttr(this,e)})},prop:function(e,t){return ut.access(this,ut.prop,e,t,arguments.length>1)},removeProp:function(e){return e=ut.propFix[e]||e,this.each(function(){try{this[e]=t,delete this[e]}catch(n){}})},addClass:function(e){var t,n,i,o,r,s=0,a=this.length,l="string"==typeof e&&e;if(ut.isFunction(e))return this.each(function(t){ut(this).addClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(ht)||[];a>s;s++)if(n=this[s],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(At," "):" ")){for(r=0;o=t[r++];)i.indexOf(" "+o+" ")<0&&(i+=o+" ");n.className=ut.trim(i)}return this},removeClass:function(e){var t,n,i,o,r,s=0,a=this.length,l=0===arguments.length||"string"==typeof e&&e;if(ut.isFunction(e))return this.each(function(t){ut(this).removeClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(ht)||[];a>s;s++)if(n=this[s],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(At," "):"")){for(r=0;o=t[r++];)for(;i.indexOf(" "+o+" ")>=0;)i=i.replace(" "+o+" "," ");n.className=e?ut.trim(i):""}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):this.each(ut.isFunction(e)?function(n){ut(this).toggleClass(e.call(this,n,this.className,t),t)}:function(){if("string"===n)for(var t,i=0,o=ut(this),r=e.match(ht)||[];t=r[i++];)o.hasClass(t)?o.removeClass(t):o.addClass(t);else(n===Y||"boolean"===n)&&(this.className&&ut._data(this,"__className__",this.className),this.className=this.className||e===!1?"":ut._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,i=this.length;i>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(At," ").indexOf(t)>=0)return!0;return!1},val:function(e){var n,i,o,r=this[0];{if(arguments.length)return o=ut.isFunction(e),this.each(function(n){var r;1===this.nodeType&&(r=o?e.call(this,n,ut(this).val()):e,null==r?r="":"number"==typeof r?r+="":ut.isArray(r)&&(r=ut.map(r,function(e){return null==e?"":e+""})),i=ut.valHooks[this.type]||ut.valHooks[this.nodeName.toLowerCase()],i&&"set"in i&&i.set(this,r,"value")!==t||(this.value=r))});if(r)return i=ut.valHooks[r.type]||ut.valHooks[r.nodeName.toLowerCase()],i&&"get"in i&&(n=i.get(r,"value"))!==t?n:(n=r.value,"string"==typeof n?n.replace(It,""):null==n?"":n)}}}),ut.extend({valHooks:{option:{get:function(e){var t=ut.find.attr(e,"value");return null!=t?t:e.text}},select:{get:function(e){for(var t,n,i=e.options,o=e.selectedIndex,r="select-one"===e.type||0>o,s=r?null:[],a=r?o+1:i.length,l=0>o?a:r?o:0;a>l;l++)if(n=i[l],!(!n.selected&&l!==o||(ut.support.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&ut.nodeName(n.parentNode,"optgroup"))){if(t=ut(n).val(),r)return t;s.push(t)}return s},set:function(e,t){for(var n,i,o=e.options,r=ut.makeArray(t),s=o.length;s--;)i=o[s],(i.selected=ut.inArray(ut(i).val(),r)>=0)&&(n=!0);return n||(e.selectedIndex=-1),r}}},attr:function(e,n,i){var o,r,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s)return typeof e.getAttribute===Y?ut.prop(e,n,i):(1===s&&ut.isXMLDoc(e)||(n=n.toLowerCase(),o=ut.attrHooks[n]||(ut.expr.match.bool.test(n)?Mt:Pt)),i===t?o&&"get"in o&&null!==(r=o.get(e,n))?r:(r=ut.find.attr(e,n),null==r?t:r):null!==i?o&&"set"in o&&(r=o.set(e,i,n))!==t?r:(e.setAttribute(n,i+""),i):void ut.removeAttr(e,n))},removeAttr:function(e,t){var n,i,o=0,r=t&&t.match(ht);if(r&&1===e.nodeType)for(;n=r[o++];)i=ut.propFix[n]||n,ut.expr.match.bool.test(n)?Ft&&Rt||!Nt.test(n)?e[i]=!1:e[ut.camelCase("default-"+n)]=e[i]=!1:ut.attr(e,n,""),e.removeAttribute(Rt?n:i)},attrHooks:{type:{set:function(e,t){if(!ut.support.radioValue&&"radio"===t&&ut.nodeName(e,"input")){var n=e.value;
return e.setAttribute("type",t),n&&(e.value=n),t}}}},propFix:{"for":"htmlFor","class":"className"},prop:function(e,n,i){var o,r,s,a=e.nodeType;if(e&&3!==a&&8!==a&&2!==a)return s=1!==a||!ut.isXMLDoc(e),s&&(n=ut.propFix[n]||n,r=ut.propHooks[n]),i!==t?r&&"set"in r&&(o=r.set(e,i,n))!==t?o:e[n]=i:r&&"get"in r&&null!==(o=r.get(e,n))?o:e[n]},propHooks:{tabIndex:{get:function(e){var t=ut.find.attr(e,"tabindex");return t?parseInt(t,10):Dt.test(e.nodeName)||Ot.test(e.nodeName)&&e.href?0:-1}}}}),Mt={set:function(e,t,n){return t===!1?ut.removeAttr(e,n):Ft&&Rt||!Nt.test(n)?e.setAttribute(!Rt&&ut.propFix[n]||n,n):e[ut.camelCase("default-"+n)]=e[n]=!0,n}},ut.each(ut.expr.match.bool.source.match(/\w+/g),function(e,n){var i=ut.expr.attrHandle[n]||ut.find.attr;ut.expr.attrHandle[n]=Ft&&Rt||!Nt.test(n)?function(e,n,o){var r=ut.expr.attrHandle[n],s=o?t:(ut.expr.attrHandle[n]=t)!=i(e,n,o)?n.toLowerCase():null;return ut.expr.attrHandle[n]=r,s}:function(e,n,i){return i?t:e[ut.camelCase("default-"+n)]?n.toLowerCase():null}}),Ft&&Rt||(ut.attrHooks.value={set:function(e,t,n){return ut.nodeName(e,"input")?void(e.defaultValue=t):Pt&&Pt.set(e,t,n)}}),Rt||(Pt={set:function(e,n,i){var o=e.getAttributeNode(i);return o||e.setAttributeNode(o=e.ownerDocument.createAttribute(i)),o.value=n+="","value"===i||n===e.getAttribute(i)?n:t}},ut.expr.attrHandle.id=ut.expr.attrHandle.name=ut.expr.attrHandle.coords=function(e,n,i){var o;return i?t:(o=e.getAttributeNode(n))&&""!==o.value?o.value:null},ut.valHooks.button={get:function(e,n){var i=e.getAttributeNode(n);return i&&i.specified?i.value:t},set:Pt.set},ut.attrHooks.contenteditable={set:function(e,t,n){Pt.set(e,""===t?!1:t,n)}},ut.each(["width","height"],function(e,t){ut.attrHooks[t]={set:function(e,n){return""===n?(e.setAttribute(t,"auto"),n):void 0}}})),ut.support.hrefNormalized||ut.each(["href","src"],function(e,t){ut.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),ut.support.style||(ut.attrHooks.style={get:function(e){return e.style.cssText||t},set:function(e,t){return e.style.cssText=t+""}}),ut.support.optSelected||(ut.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}}),ut.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ut.propFix[this.toLowerCase()]=this}),ut.support.enctype||(ut.propFix.enctype="encoding"),ut.each(["radio","checkbox"],function(){ut.valHooks[this]={set:function(e,t){return ut.isArray(t)?e.checked=ut.inArray(ut(e).val(),t)>=0:void 0}},ut.support.checkOn||(ut.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var $t=/^(?:input|select|textarea)$/i,jt=/^key/,Lt=/^(?:mouse|contextmenu)|click/,Bt=/^(?:focusinfocus|focusoutblur)$/,qt=/^([^.]*)(?:\.(.+)|)$/;ut.event={global:{},add:function(e,n,i,o,r){var s,a,l,c,u,d,h,p,f,m,g,v=ut._data(e);if(v){for(i.handler&&(c=i,i=c.handler,r=c.selector),i.guid||(i.guid=ut.guid++),(a=v.events)||(a=v.events={}),(d=v.handle)||(d=v.handle=function(e){return typeof ut===Y||e&&ut.event.triggered===e.type?t:ut.event.dispatch.apply(d.elem,arguments)},d.elem=e),n=(n||"").match(ht)||[""],l=n.length;l--;)s=qt.exec(n[l])||[],f=g=s[1],m=(s[2]||"").split(".").sort(),f&&(u=ut.event.special[f]||{},f=(r?u.delegateType:u.bindType)||f,u=ut.event.special[f]||{},h=ut.extend({type:f,origType:g,data:o,handler:i,guid:i.guid,selector:r,needsContext:r&&ut.expr.match.needsContext.test(r),namespace:m.join(".")},c),(p=a[f])||(p=a[f]=[],p.delegateCount=0,u.setup&&u.setup.call(e,o,m,d)!==!1||(e.addEventListener?e.addEventListener(f,d,!1):e.attachEvent&&e.attachEvent("on"+f,d))),u.add&&(u.add.call(e,h),h.handler.guid||(h.handler.guid=i.guid)),r?p.splice(p.delegateCount++,0,h):p.push(h),ut.event.global[f]=!0);e=null}},remove:function(e,t,n,i,o){var r,s,a,l,c,u,d,h,p,f,m,g=ut.hasData(e)&&ut._data(e);if(g&&(u=g.events)){for(t=(t||"").match(ht)||[""],c=t.length;c--;)if(a=qt.exec(t[c])||[],p=m=a[1],f=(a[2]||"").split(".").sort(),p){for(d=ut.event.special[p]||{},p=(i?d.delegateType:d.bindType)||p,h=u[p]||[],a=a[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=r=h.length;r--;)s=h[r],!o&&m!==s.origType||n&&n.guid!==s.guid||a&&!a.test(s.namespace)||i&&i!==s.selector&&("**"!==i||!s.selector)||(h.splice(r,1),s.selector&&h.delegateCount--,d.remove&&d.remove.call(e,s));l&&!h.length&&(d.teardown&&d.teardown.call(e,f,g.handle)!==!1||ut.removeEvent(e,p,g.handle),delete u[p])}else for(p in u)ut.event.remove(e,p+t[c],n,i,!0);ut.isEmptyObject(u)&&(delete g.handle,ut._removeData(e,"events"))}},trigger:function(n,i,o,r){var s,a,l,c,u,d,h,p=[o||Q],f=lt.call(n,"type")?n.type:n,m=lt.call(n,"namespace")?n.namespace.split("."):[];if(l=d=o=o||Q,3!==o.nodeType&&8!==o.nodeType&&!Bt.test(f+ut.event.triggered)&&(f.indexOf(".")>=0&&(m=f.split("."),f=m.shift(),m.sort()),a=f.indexOf(":")<0&&"on"+f,n=n[ut.expando]?n:new ut.Event(f,"object"==typeof n&&n),n.isTrigger=r?2:3,n.namespace=m.join("."),n.namespace_re=n.namespace?new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,n.result=t,n.target||(n.target=o),i=null==i?[n]:ut.makeArray(i,[n]),u=ut.event.special[f]||{},r||!u.trigger||u.trigger.apply(o,i)!==!1)){if(!r&&!u.noBubble&&!ut.isWindow(o)){for(c=u.delegateType||f,Bt.test(c+f)||(l=l.parentNode);l;l=l.parentNode)p.push(l),d=l;d===(o.ownerDocument||Q)&&p.push(d.defaultView||d.parentWindow||e)}for(h=0;(l=p[h++])&&!n.isPropagationStopped();)n.type=h>1?c:u.bindType||f,s=(ut._data(l,"events")||{})[n.type]&&ut._data(l,"handle"),s&&s.apply(l,i),s=a&&l[a],s&&ut.acceptData(l)&&s.apply&&s.apply(l,i)===!1&&n.preventDefault();if(n.type=f,!r&&!n.isDefaultPrevented()&&(!u._default||u._default.apply(p.pop(),i)===!1)&&ut.acceptData(o)&&a&&o[f]&&!ut.isWindow(o)){d=o[a],d&&(o[a]=null),ut.event.triggered=f;try{o[f]()}catch(g){}ut.event.triggered=t,d&&(o[a]=d)}return n.result}},dispatch:function(e){e=ut.event.fix(e);var n,i,o,r,s,a=[],l=rt.call(arguments),c=(ut._data(this,"events")||{})[e.type]||[],u=ut.event.special[e.type]||{};if(l[0]=e,e.delegateTarget=this,!u.preDispatch||u.preDispatch.call(this,e)!==!1){for(a=ut.event.handlers.call(this,e,c),n=0;(r=a[n++])&&!e.isPropagationStopped();)for(e.currentTarget=r.elem,s=0;(o=r.handlers[s++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(o.namespace))&&(e.handleObj=o,e.data=o.data,i=((ut.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,l),i!==t&&(e.result=i)===!1&&(e.preventDefault(),e.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,e),e.result}},handlers:function(e,n){var i,o,r,s,a=[],l=n.delegateCount,c=e.target;if(l&&c.nodeType&&(!e.button||"click"!==e.type))for(;c!=this;c=c.parentNode||this)if(1===c.nodeType&&(c.disabled!==!0||"click"!==e.type)){for(r=[],s=0;l>s;s++)o=n[s],i=o.selector+" ",r[i]===t&&(r[i]=o.needsContext?ut(i,this).index(c)>=0:ut.find(i,this,null,[c]).length),r[i]&&r.push(o);r.length&&a.push({elem:c,handlers:r})}return l<n.length&&a.push({elem:this,handlers:n.slice(l)}),a},fix:function(e){if(e[ut.expando])return e;var t,n,i,o=e.type,r=e,s=this.fixHooks[o];for(s||(this.fixHooks[o]=s=Lt.test(o)?this.mouseHooks:jt.test(o)?this.keyHooks:{}),i=s.props?this.props.concat(s.props):this.props,e=new ut.Event(r),t=i.length;t--;)n=i[t],e[n]=r[n];return e.target||(e.target=r.srcElement||Q),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,s.filter?s.filter(e,r):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,n){var i,o,r,s=n.button,a=n.fromElement;return null==e.pageX&&null!=n.clientX&&(o=e.target.ownerDocument||Q,r=o.documentElement,i=o.body,e.pageX=n.clientX+(r&&r.scrollLeft||i&&i.scrollLeft||0)-(r&&r.clientLeft||i&&i.clientLeft||0),e.pageY=n.clientY+(r&&r.scrollTop||i&&i.scrollTop||0)-(r&&r.clientTop||i&&i.clientTop||0)),!e.relatedTarget&&a&&(e.relatedTarget=a===e.target?n.toElement:a),e.which||s===t||(e.which=1&s?1:2&s?3:4&s?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==u()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){return this===u()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return ut.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(e){return ut.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){e.result!==t&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,i){var o=ut.extend(new ut.Event,n,{type:e,isSimulated:!0,originalEvent:{}});i?ut.event.trigger(o,null,t):ut.event.dispatch.call(t,o),o.isDefaultPrevented()&&n.preventDefault()}},ut.removeEvent=Q.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var i="on"+t;e.detachEvent&&(typeof e[i]===Y&&(e[i]=null),e.detachEvent(i,n))},ut.Event=function(e,t){return this instanceof ut.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.returnValue===!1||e.getPreventDefault&&e.getPreventDefault()?l:c):this.type=e,t&&ut.extend(this,t),this.timeStamp=e&&e.timeStamp||ut.now(),void(this[ut.expando]=!0)):new ut.Event(e,t)},ut.Event.prototype={isDefaultPrevented:c,isPropagationStopped:c,isImmediatePropagationStopped:c,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=l,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=l,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=l,this.stopPropagation()}},ut.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){ut.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=this,o=e.relatedTarget,r=e.handleObj;return(!o||o!==i&&!ut.contains(i,o))&&(e.type=r.origType,n=r.handler.apply(this,arguments),e.type=t),n}}}),ut.support.submitBubbles||(ut.event.special.submit={setup:function(){return ut.nodeName(this,"form")?!1:void ut.event.add(this,"click._submit keypress._submit",function(e){var n=e.target,i=ut.nodeName(n,"input")||ut.nodeName(n,"button")?n.form:t;i&&!ut._data(i,"submitBubbles")&&(ut.event.add(i,"submit._submit",function(e){e._submit_bubble=!0}),ut._data(i,"submitBubbles",!0))})},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&ut.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return ut.nodeName(this,"form")?!1:void ut.event.remove(this,"._submit")}}),ut.support.changeBubbles||(ut.event.special.change={setup:function(){return $t.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(ut.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),ut.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),ut.event.simulate("change",this,e,!0)})),!1):void ut.event.add(this,"beforeactivate._change",function(e){var t=e.target;$t.test(t.nodeName)&&!ut._data(t,"changeBubbles")&&(ut.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||ut.event.simulate("change",this.parentNode,e,!0)}),ut._data(t,"changeBubbles",!0))})},handle:function(e){var t=e.target;return this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type?e.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return ut.event.remove(this,"._change"),!$t.test(this.nodeName)}}),ut.support.focusinBubbles||ut.each({focus:"focusin",blur:"focusout"},function(e,t){var n=0,i=function(e){ut.event.simulate(t,e.target,ut.event.fix(e),!0)};ut.event.special[t]={setup:function(){0===n++&&Q.addEventListener(e,i,!0)},teardown:function(){0===--n&&Q.removeEventListener(e,i,!0)}}}),ut.fn.extend({on:function(e,n,i,o,r){var s,a;if("object"==typeof e){"string"!=typeof n&&(i=i||n,n=t);for(s in e)this.on(s,n,i,e[s],r);return this}if(null==i&&null==o?(o=n,i=n=t):null==o&&("string"==typeof n?(o=i,i=t):(o=i,i=n,n=t)),o===!1)o=c;else if(!o)return this;return 1===r&&(a=o,o=function(e){return ut().off(e),a.apply(this,arguments)},o.guid=a.guid||(a.guid=ut.guid++)),this.each(function(){ut.event.add(this,e,o,i,n)})},one:function(e,t,n,i){return this.on(e,t,n,i,1)},off:function(e,n,i){var o,r;if(e&&e.preventDefault&&e.handleObj)return o=e.handleObj,ut(e.delegateTarget).off(o.namespace?o.origType+"."+o.namespace:o.origType,o.selector,o.handler),this;if("object"==typeof e){for(r in e)this.off(r,n,e[r]);return this}return(n===!1||"function"==typeof n)&&(i=n,n=t),i===!1&&(i=c),this.each(function(){ut.event.remove(this,e,i,n)})},trigger:function(e,t){return this.each(function(){ut.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];return n?ut.event.trigger(e,t,n,!0):void 0}});var zt=/^.[^:#\[\.,]*$/,Ht=/^(?:parents|prev(?:Until|All))/,Vt=ut.expr.match.needsContext,Ut={children:!0,contents:!0,next:!0,prev:!0};ut.fn.extend({find:function(e){var t,n=[],i=this,o=i.length;if("string"!=typeof e)return this.pushStack(ut(e).filter(function(){for(t=0;o>t;t++)if(ut.contains(i[t],this))return!0}));for(t=0;o>t;t++)ut.find(e,i[t],n);return n=this.pushStack(o>1?ut.unique(n):n),n.selector=this.selector?this.selector+" "+e:e,n},has:function(e){var t,n=ut(e,this),i=n.length;return this.filter(function(){for(t=0;i>t;t++)if(ut.contains(this,n[t]))return!0})},not:function(e){return this.pushStack(h(this,e||[],!0))},filter:function(e){return this.pushStack(h(this,e||[],!1))},is:function(e){return!!h(this,"string"==typeof e&&Vt.test(e)?ut(e):e||[],!1).length},closest:function(e,t){for(var n,i=0,o=this.length,r=[],s=Vt.test(e)||"string"!=typeof e?ut(e,t||this.context):0;o>i;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&ut.find.matchesSelector(n,e))){n=r.push(n);break}return this.pushStack(r.length>1?ut.unique(r):r)},index:function(e){return e?"string"==typeof e?ut.inArray(this[0],ut(e)):ut.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){var n="string"==typeof e?ut(e,t):ut.makeArray(e&&e.nodeType?[e]:e),i=ut.merge(this.get(),n);return this.pushStack(ut.unique(i))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),ut.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return ut.dir(e,"parentNode")},parentsUntil:function(e,t,n){return ut.dir(e,"parentNode",n)},next:function(e){return d(e,"nextSibling")},prev:function(e){return d(e,"previousSibling")},nextAll:function(e){return ut.dir(e,"nextSibling")},prevAll:function(e){return ut.dir(e,"previousSibling")},nextUntil:function(e,t,n){return ut.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return ut.dir(e,"previousSibling",n)},siblings:function(e){return ut.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return ut.sibling(e.firstChild)},contents:function(e){return ut.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:ut.merge([],e.childNodes)}},function(e,t){ut.fn[e]=function(n,i){var o=ut.map(this,t,n);return"Until"!==e.slice(-5)&&(i=n),i&&"string"==typeof i&&(o=ut.filter(i,o)),this.length>1&&(Ut[e]||(o=ut.unique(o)),Ht.test(e)&&(o=o.reverse())),this.pushStack(o)}}),ut.extend({filter:function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?ut.find.matchesSelector(i,e)?[i]:[]:ut.find.matches(e,ut.grep(t,function(e){return 1===e.nodeType}))},dir:function(e,n,i){for(var o=[],r=e[n];r&&9!==r.nodeType&&(i===t||1!==r.nodeType||!ut(r).is(i));)1===r.nodeType&&o.push(r),r=r[n];return o},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}});var Wt="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Gt=/ jQuery\d+="(?:null|\d+)"/g,Yt=new RegExp("<(?:"+Wt+")[\\s/>]","i"),Kt=/^\s+/,Qt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Jt=/<([\w:]+)/,Xt=/<tbody/i,Zt=/<|&#?\w+;/,en=/<(?:script|style|link)/i,tn=/^(?:checkbox|radio)$/i,nn=/checked\s*(?:[^=]|=\s*.checked.)/i,on=/^$|\/(?:java|ecma)script/i,rn=/^true\/(.*)/,sn=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,an={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:ut.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},ln=p(Q),cn=ln.appendChild(Q.createElement("div"));an.optgroup=an.option,an.tbody=an.tfoot=an.colgroup=an.caption=an.thead,an.th=an.td,ut.fn.extend({text:function(e){return ut.access(this,function(e){return e===t?ut.text(this):this.empty().append((this[0]&&this[0].ownerDocument||Q).createTextNode(e))},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=f(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=f(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,i=e?ut.filter(e,this):this,o=0;null!=(n=i[o]);o++)t||1!==n.nodeType||ut.cleanData(w(n)),n.parentNode&&(t&&ut.contains(n.ownerDocument,n)&&v(w(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&ut.cleanData(w(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&ut.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return ut.clone(this,e,t)})},html:function(e){return ut.access(this,function(e){var n=this[0]||{},i=0,o=this.length;if(e===t)return 1===n.nodeType?n.innerHTML.replace(Gt,""):t;if(!("string"!=typeof e||en.test(e)||!ut.support.htmlSerialize&&Yt.test(e)||!ut.support.leadingWhitespace&&Kt.test(e)||an[(Jt.exec(e)||["",""])[1].toLowerCase()])){e=e.replace(Qt,"<$1></$2>");try{for(;o>i;i++)n=this[i]||{},1===n.nodeType&&(ut.cleanData(w(n,!1)),n.innerHTML=e);n=0}catch(r){}}n&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=ut.map(this,function(e){return[e.nextSibling,e.parentNode]}),t=0;return this.domManip(arguments,function(n){var i=e[t++],o=e[t++];o&&(i&&i.parentNode!==o&&(i=this.nextSibling),ut(this).remove(),o.insertBefore(n,i))},!0),t?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t,n){e=it.apply([],e);var i,o,r,s,a,l,c=0,u=this.length,d=this,h=u-1,p=e[0],f=ut.isFunction(p);if(f||!(1>=u||"string"!=typeof p||ut.support.checkClone)&&nn.test(p))return this.each(function(i){var o=d.eq(i);f&&(e[0]=p.call(this,i,o.html())),o.domManip(e,t,n)});if(u&&(l=ut.buildFragment(e,this[0].ownerDocument,!1,!n&&this),i=l.firstChild,1===l.childNodes.length&&(l=i),i)){for(s=ut.map(w(l,"script"),m),r=s.length;u>c;c++)o=l,c!==h&&(o=ut.clone(o,!0,!0),r&&ut.merge(s,w(o,"script"))),t.call(this[c],o,c);if(r)for(a=s[s.length-1].ownerDocument,ut.map(s,g),c=0;r>c;c++)o=s[c],on.test(o.type||"")&&!ut._data(o,"globalEval")&&ut.contains(a,o)&&(o.src?ut._evalUrl(o.src):ut.globalEval((o.text||o.textContent||o.innerHTML||"").replace(sn,"")));l=i=null}return this}}),ut.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){ut.fn[e]=function(e){for(var n,i=0,o=[],r=ut(e),s=r.length-1;s>=i;i++)n=i===s?this:this.clone(!0),ut(r[i])[t](n),ot.apply(o,n.get());return this.pushStack(o)}}),ut.extend({clone:function(e,t,n){var i,o,r,s,a,l=ut.contains(e.ownerDocument,e);if(ut.support.html5Clone||ut.isXMLDoc(e)||!Yt.test("<"+e.nodeName+">")?r=e.cloneNode(!0):(cn.innerHTML=e.outerHTML,cn.removeChild(r=cn.firstChild)),!(ut.support.noCloneEvent&&ut.support.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||ut.isXMLDoc(e)))for(i=w(r),a=w(e),s=0;null!=(o=a[s]);++s)i[s]&&b(o,i[s]);if(t)if(n)for(a=a||w(e),i=i||w(r),s=0;null!=(o=a[s]);s++)y(o,i[s]);else y(e,r);return i=w(r,"script"),i.length>0&&v(i,!l&&w(e,"script")),i=a=o=null,r},buildFragment:function(e,t,n,i){for(var o,r,s,a,l,c,u,d=e.length,h=p(t),f=[],m=0;d>m;m++)if(r=e[m],r||0===r)if("object"===ut.type(r))ut.merge(f,r.nodeType?[r]:r);else if(Zt.test(r)){for(a=a||h.appendChild(t.createElement("div")),l=(Jt.exec(r)||["",""])[1].toLowerCase(),u=an[l]||an._default,a.innerHTML=u[1]+r.replace(Qt,"<$1></$2>")+u[2],o=u[0];o--;)a=a.lastChild;if(!ut.support.leadingWhitespace&&Kt.test(r)&&f.push(t.createTextNode(Kt.exec(r)[0])),!ut.support.tbody)for(r="table"!==l||Xt.test(r)?"<table>"!==u[1]||Xt.test(r)?0:a:a.firstChild,o=r&&r.childNodes.length;o--;)ut.nodeName(c=r.childNodes[o],"tbody")&&!c.childNodes.length&&r.removeChild(c);for(ut.merge(f,a.childNodes),a.textContent="";a.firstChild;)a.removeChild(a.firstChild);a=h.lastChild}else f.push(t.createTextNode(r));for(a&&h.removeChild(a),ut.support.appendChecked||ut.grep(w(f,"input"),x),m=0;r=f[m++];)if((!i||-1===ut.inArray(r,i))&&(s=ut.contains(r.ownerDocument,r),a=w(h.appendChild(r),"script"),s&&v(a),n))for(o=0;r=a[o++];)on.test(r.type||"")&&n.push(r);return a=null,h},cleanData:function(e,t){for(var n,i,o,r,s=0,a=ut.expando,l=ut.cache,c=ut.support.deleteExpando,u=ut.event.special;null!=(n=e[s]);s++)if((t||ut.acceptData(n))&&(o=n[a],r=o&&l[o])){if(r.events)for(i in r.events)u[i]?ut.event.remove(n,i):ut.removeEvent(n,i,r.handle);l[o]&&(delete l[o],c?delete n[a]:typeof n.removeAttribute!==Y?n.removeAttribute(a):n[a]=null,tt.push(o))}},_evalUrl:function(e){return ut.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})}}),ut.fn.extend({wrapAll:function(e){if(ut.isFunction(e))return this.each(function(t){ut(this).wrapAll(e.call(this,t))});if(this[0]){var t=ut(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return this.each(ut.isFunction(e)?function(t){ut(this).wrapInner(e.call(this,t))}:function(){var t=ut(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=ut.isFunction(e);return this.each(function(n){ut(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){ut.nodeName(this,"body")||ut(this).replaceWith(this.childNodes)}).end()}});var un,dn,hn,pn=/alpha\([^)]*\)/i,fn=/opacity\s*=\s*([^)]*)/,mn=/^(top|right|bottom|left)$/,gn=/^(none|table(?!-c[ea]).+)/,vn=/^margin/,yn=new RegExp("^("+dt+")(.*)$","i"),bn=new RegExp("^("+dt+")(?!px)[a-z%]+$","i"),wn=new RegExp("^([+-])=("+dt+")","i"),xn={BODY:"block"},Cn={position:"absolute",visibility:"hidden",display:"block"},_n={letterSpacing:0,fontWeight:400},kn=["Top","Right","Bottom","Left"],Sn=["Webkit","O","Moz","ms"];ut.fn.extend({css:function(e,n){return ut.access(this,function(e,n,i){var o,r,s={},a=0;if(ut.isArray(n)){for(r=dn(e),o=n.length;o>a;a++)s[n[a]]=ut.css(e,n[a],!1,r);return s}return i!==t?ut.style(e,n,i):ut.css(e,n)},e,n,arguments.length>1)},show:function(){return k(this,!0)},hide:function(){return k(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){_(this)?ut(this).show():ut(this).hide()})}}),ut.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=hn(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":ut.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,n,i,o){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,s,a,l=ut.camelCase(n),c=e.style;if(n=ut.cssProps[l]||(ut.cssProps[l]=C(c,l)),a=ut.cssHooks[n]||ut.cssHooks[l],i===t)return a&&"get"in a&&(r=a.get(e,!1,o))!==t?r:c[n];if(s=typeof i,"string"===s&&(r=wn.exec(i))&&(i=(r[1]+1)*r[2]+parseFloat(ut.css(e,n)),s="number"),!(null==i||"number"===s&&isNaN(i)||("number"!==s||ut.cssNumber[l]||(i+="px"),ut.support.clearCloneStyle||""!==i||0!==n.indexOf("background")||(c[n]="inherit"),a&&"set"in a&&(i=a.set(e,i,o))===t)))try{c[n]=i}catch(u){}}},css:function(e,n,i,o){var r,s,a,l=ut.camelCase(n);return n=ut.cssProps[l]||(ut.cssProps[l]=C(e.style,l)),a=ut.cssHooks[n]||ut.cssHooks[l],a&&"get"in a&&(s=a.get(e,!0,i)),s===t&&(s=hn(e,n,o)),"normal"===s&&n in _n&&(s=_n[n]),""===i||i?(r=parseFloat(s),i===!0||ut.isNumeric(r)?r||0:s):s}}),e.getComputedStyle?(dn=function(t){return e.getComputedStyle(t,null)},hn=function(e,n,i){var o,r,s,a=i||dn(e),l=a?a.getPropertyValue(n)||a[n]:t,c=e.style;return a&&(""!==l||ut.contains(e.ownerDocument,e)||(l=ut.style(e,n)),bn.test(l)&&vn.test(n)&&(o=c.width,r=c.minWidth,s=c.maxWidth,c.minWidth=c.maxWidth=c.width=l,l=a.width,c.width=o,c.minWidth=r,c.maxWidth=s)),l}):Q.documentElement.currentStyle&&(dn=function(e){return e.currentStyle},hn=function(e,n,i){var o,r,s,a=i||dn(e),l=a?a[n]:t,c=e.style;return null==l&&c&&c[n]&&(l=c[n]),bn.test(l)&&!mn.test(n)&&(o=c.left,r=e.runtimeStyle,s=r&&r.left,s&&(r.left=e.currentStyle.left),c.left="fontSize"===n?"1em":l,l=c.pixelLeft+"px",c.left=o,s&&(r.left=s)),""===l?"auto":l}),ut.each(["height","width"],function(e,t){ut.cssHooks[t]={get:function(e,n,i){return n?0===e.offsetWidth&&gn.test(ut.css(e,"display"))?ut.swap(e,Cn,function(){return E(e,t,i)}):E(e,t,i):void 0},set:function(e,n,i){var o=i&&dn(e);return S(e,n,i?T(e,t,i,ut.support.boxSizing&&"border-box"===ut.css(e,"boxSizing",!1,o),o):0)}}}),ut.support.opacity||(ut.cssHooks.opacity={get:function(e,t){return fn.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,i=e.currentStyle,o=ut.isNumeric(t)?"alpha(opacity="+100*t+")":"",r=i&&i.filter||n.filter||"";n.zoom=1,(t>=1||""===t)&&""===ut.trim(r.replace(pn,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===t||i&&!i.filter)||(n.filter=pn.test(r)?r.replace(pn,o):r+" "+o)}}),ut(function(){ut.support.reliableMarginRight||(ut.cssHooks.marginRight={get:function(e,t){return t?ut.swap(e,{display:"inline-block"},hn,[e,"marginRight"]):void 0}}),!ut.support.pixelPosition&&ut.fn.position&&ut.each(["top","left"],function(e,t){ut.cssHooks[t]={get:function(e,n){return n?(n=hn(e,t),bn.test(n)?ut(e).position()[t]+"px":n):void 0}}})}),ut.expr&&ut.expr.filters&&(ut.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0||!ut.support.reliableHiddenOffsets&&"none"===(e.style&&e.style.display||ut.css(e,"display"))},ut.expr.filters.visible=function(e){return!ut.expr.filters.hidden(e)}),ut.each({margin:"",padding:"",border:"Width"},function(e,t){ut.cssHooks[e+t]={expand:function(n){for(var i=0,o={},r="string"==typeof n?n.split(" "):[n];4>i;i++)o[e+kn[i]+t]=r[i]||r[i-2]||r[0];return o}},vn.test(e)||(ut.cssHooks[e+t].set=S)});var Tn=/%20/g,En=/\[\]$/,Pn=/\r?\n/g,Mn=/^(?:submit|button|image|reset|file)$/i,An=/^(?:input|select|textarea|keygen)/i;ut.fn.extend({serialize:function(){return ut.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=ut.prop(this,"elements");return e?ut.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!ut(this).is(":disabled")&&An.test(this.nodeName)&&!Mn.test(e)&&(this.checked||!tn.test(e))}).map(function(e,t){var n=ut(this).val();return null==n?null:ut.isArray(n)?ut.map(n,function(e){return{name:t.name,value:e.replace(Pn,"\r\n")}}):{name:t.name,value:n.replace(Pn,"\r\n")}}).get()}}),ut.param=function(e,n){var i,o=[],r=function(e,t){t=ut.isFunction(t)?t():null==t?"":t,o[o.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(n===t&&(n=ut.ajaxSettings&&ut.ajaxSettings.traditional),ut.isArray(e)||e.jquery&&!ut.isPlainObject(e))ut.each(e,function(){r(this.name,this.value)});else for(i in e)A(i,e[i],n,r);return o.join("&").replace(Tn,"+")},ut.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){ut.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),ut.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var In,Dn,On=ut.now(),Nn=/\?/,Rn=/#.*$/,Fn=/([?&])_=[^&]*/,$n=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,jn=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Ln=/^(?:GET|HEAD)$/,Bn=/^\/\//,qn=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,zn=ut.fn.load,Hn={},Vn={},Un="*/".concat("*");try{Dn=K.href}catch(Wn){Dn=Q.createElement("a"),Dn.href="",Dn=Dn.href}In=qn.exec(Dn.toLowerCase())||[],ut.fn.load=function(e,n,i){if("string"!=typeof e&&zn)return zn.apply(this,arguments);var o,r,s,a=this,l=e.indexOf(" ");return l>=0&&(o=e.slice(l,e.length),e=e.slice(0,l)),ut.isFunction(n)?(i=n,n=t):n&&"object"==typeof n&&(s="POST"),a.length>0&&ut.ajax({url:e,type:s,dataType:"html",data:n}).done(function(e){r=arguments,a.html(o?ut("<div>").append(ut.parseHTML(e)).find(o):e)}).complete(i&&function(e,t){a.each(i,r||[e.responseText,t,e])}),this},ut.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){ut.fn[t]=function(e){return this.on(t,e)}}),ut.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Dn,type:"GET",isLocal:jn.test(In[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Un,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":ut.parseJSON,"text xml":ut.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?O(O(e,ut.ajaxSettings),t):O(ut.ajaxSettings,e)},ajaxPrefilter:I(Hn),ajaxTransport:I(Vn),ajax:function(e,n){function i(e,n,i,o){var r,d,y,b,x,_=n;2!==w&&(w=2,l&&clearTimeout(l),u=t,a=o||"",C.readyState=e>0?4:0,r=e>=200&&300>e||304===e,i&&(b=N(h,C,i)),b=R(h,b,C,r),r?(h.ifModified&&(x=C.getResponseHeader("Last-Modified"),x&&(ut.lastModified[s]=x),x=C.getResponseHeader("etag"),x&&(ut.etag[s]=x)),204===e||"HEAD"===h.type?_="nocontent":304===e?_="notmodified":(_=b.state,d=b.data,y=b.error,r=!y)):(y=_,(e||!_)&&(_="error",0>e&&(e=0))),C.status=e,C.statusText=(n||_)+"",r?m.resolveWith(p,[d,_,C]):m.rejectWith(p,[C,_,y]),C.statusCode(v),v=t,c&&f.trigger(r?"ajaxSuccess":"ajaxError",[C,h,r?d:y]),g.fireWith(p,[C,_]),c&&(f.trigger("ajaxComplete",[C,h]),--ut.active||ut.event.trigger("ajaxStop")))}"object"==typeof e&&(n=e,e=t),n=n||{};var o,r,s,a,l,c,u,d,h=ut.ajaxSetup({},n),p=h.context||h,f=h.context&&(p.nodeType||p.jquery)?ut(p):ut.event,m=ut.Deferred(),g=ut.Callbacks("once memory"),v=h.statusCode||{},y={},b={},w=0,x="canceled",C={readyState:0,getResponseHeader:function(e){var t;
if(2===w){if(!d)for(d={};t=$n.exec(a);)d[t[1].toLowerCase()]=t[2];t=d[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===w?a:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return w||(e=b[n]=b[n]||e,y[e]=t),this},overrideMimeType:function(e){return w||(h.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>w)for(t in e)v[t]=[v[t],e[t]];else C.always(e[C.status]);return this},abort:function(e){var t=e||x;return u&&u.abort(t),i(0,t),this}};if(m.promise(C).complete=g.add,C.success=C.done,C.error=C.fail,h.url=((e||h.url||Dn)+"").replace(Rn,"").replace(Bn,In[1]+"//"),h.type=n.method||n.type||h.method||h.type,h.dataTypes=ut.trim(h.dataType||"*").toLowerCase().match(ht)||[""],null==h.crossDomain&&(o=qn.exec(h.url.toLowerCase()),h.crossDomain=!(!o||o[1]===In[1]&&o[2]===In[2]&&(o[3]||("http:"===o[1]?"80":"443"))===(In[3]||("http:"===In[1]?"80":"443")))),h.data&&h.processData&&"string"!=typeof h.data&&(h.data=ut.param(h.data,h.traditional)),D(Hn,h,n,C),2===w)return C;c=h.global,c&&0===ut.active++&&ut.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!Ln.test(h.type),s=h.url,h.hasContent||(h.data&&(s=h.url+=(Nn.test(s)?"&":"?")+h.data,delete h.data),h.cache===!1&&(h.url=Fn.test(s)?s.replace(Fn,"$1_="+On++):s+(Nn.test(s)?"&":"?")+"_="+On++)),h.ifModified&&(ut.lastModified[s]&&C.setRequestHeader("If-Modified-Since",ut.lastModified[s]),ut.etag[s]&&C.setRequestHeader("If-None-Match",ut.etag[s])),(h.data&&h.hasContent&&h.contentType!==!1||n.contentType)&&C.setRequestHeader("Content-Type",h.contentType),C.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+Un+"; q=0.01":""):h.accepts["*"]);for(r in h.headers)C.setRequestHeader(r,h.headers[r]);if(h.beforeSend&&(h.beforeSend.call(p,C,h)===!1||2===w))return C.abort();x="abort";for(r in{success:1,error:1,complete:1})C[r](h[r]);if(u=D(Vn,h,n,C)){C.readyState=1,c&&f.trigger("ajaxSend",[C,h]),h.async&&h.timeout>0&&(l=setTimeout(function(){C.abort("timeout")},h.timeout));try{w=1,u.send(y,i)}catch(_){if(!(2>w))throw _;i(-1,_)}}else i(-1,"No Transport");return C},getJSON:function(e,t,n){return ut.get(e,t,n,"json")},getScript:function(e,n){return ut.get(e,t,n,"script")}}),ut.each(["get","post"],function(e,n){ut[n]=function(e,i,o,r){return ut.isFunction(i)&&(r=r||o,o=i,i=t),ut.ajax({url:e,type:n,dataType:r,data:i,success:o})}}),ut.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return ut.globalEval(e),e}}}),ut.ajaxPrefilter("script",function(e){e.cache===t&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),ut.ajaxTransport("script",function(e){if(e.crossDomain){var n,i=Q.head||ut("head")[0]||Q.documentElement;return{send:function(t,o){n=Q.createElement("script"),n.async=!0,e.scriptCharset&&(n.charset=e.scriptCharset),n.src=e.url,n.onload=n.onreadystatechange=function(e,t){(t||!n.readyState||/loaded|complete/.test(n.readyState))&&(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),n=null,t||o(200,"success"))},i.insertBefore(n,i.firstChild)},abort:function(){n&&n.onload(t,!0)}}}});var Gn=[],Yn=/(=)\?(?=&|$)|\?\?/;ut.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Gn.pop()||ut.expando+"_"+On++;return this[e]=!0,e}}),ut.ajaxPrefilter("json jsonp",function(n,i,o){var r,s,a,l=n.jsonp!==!1&&(Yn.test(n.url)?"url":"string"==typeof n.data&&!(n.contentType||"").indexOf("application/x-www-form-urlencoded")&&Yn.test(n.data)&&"data");return l||"jsonp"===n.dataTypes[0]?(r=n.jsonpCallback=ut.isFunction(n.jsonpCallback)?n.jsonpCallback():n.jsonpCallback,l?n[l]=n[l].replace(Yn,"$1"+r):n.jsonp!==!1&&(n.url+=(Nn.test(n.url)?"&":"?")+n.jsonp+"="+r),n.converters["script json"]=function(){return a||ut.error(r+" was not called"),a[0]},n.dataTypes[0]="json",s=e[r],e[r]=function(){a=arguments},o.always(function(){e[r]=s,n[r]&&(n.jsonpCallback=i.jsonpCallback,Gn.push(r)),a&&ut.isFunction(s)&&s(a[0]),a=s=t}),"script"):void 0});var Kn,Qn,Jn=0,Xn=e.ActiveXObject&&function(){var e;for(e in Kn)Kn[e](t,!0)};ut.ajaxSettings.xhr=e.ActiveXObject?function(){return!this.isLocal&&F()||$()}:F,Qn=ut.ajaxSettings.xhr(),ut.support.cors=!!Qn&&"withCredentials"in Qn,Qn=ut.support.ajax=!!Qn,Qn&&ut.ajaxTransport(function(n){if(!n.crossDomain||ut.support.cors){var i;return{send:function(o,r){var s,a,l=n.xhr();if(n.username?l.open(n.type,n.url,n.async,n.username,n.password):l.open(n.type,n.url,n.async),n.xhrFields)for(a in n.xhrFields)l[a]=n.xhrFields[a];n.mimeType&&l.overrideMimeType&&l.overrideMimeType(n.mimeType),n.crossDomain||o["X-Requested-With"]||(o["X-Requested-With"]="XMLHttpRequest");try{for(a in o)l.setRequestHeader(a,o[a])}catch(c){}l.send(n.hasContent&&n.data||null),i=function(e,o){var a,c,u,d;try{if(i&&(o||4===l.readyState))if(i=t,s&&(l.onreadystatechange=ut.noop,Xn&&delete Kn[s]),o)4!==l.readyState&&l.abort();else{d={},a=l.status,c=l.getAllResponseHeaders(),"string"==typeof l.responseText&&(d.text=l.responseText);try{u=l.statusText}catch(h){u=""}a||!n.isLocal||n.crossDomain?1223===a&&(a=204):a=d.text?200:404}}catch(p){o||r(-1,p)}d&&r(a,u,d,c)},n.async?4===l.readyState?setTimeout(i):(s=++Jn,Xn&&(Kn||(Kn={},ut(e).unload(Xn)),Kn[s]=i),l.onreadystatechange=i):i()},abort:function(){i&&i(t,!0)}}}});var Zn,ei,ti=/^(?:toggle|show|hide)$/,ni=new RegExp("^(?:([+-])=|)("+dt+")([a-z%]*)$","i"),ii=/queueHooks$/,oi=[z],ri={"*":[function(e,t){var n=this.createTween(e,t),i=n.cur(),o=ni.exec(t),r=o&&o[3]||(ut.cssNumber[e]?"":"px"),s=(ut.cssNumber[e]||"px"!==r&&+i)&&ni.exec(ut.css(n.elem,e)),a=1,l=20;if(s&&s[3]!==r){r=r||s[3],o=o||[],s=+i||1;do a=a||".5",s/=a,ut.style(n.elem,e,s+r);while(a!==(a=n.cur()/i)&&1!==a&&--l)}return o&&(s=n.start=+s||+i||0,n.unit=r,n.end=o[1]?s+(o[1]+1)*o[2]:+o[2]),n}]};ut.Animation=ut.extend(B,{tweener:function(e,t){ut.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,i=0,o=e.length;o>i;i++)n=e[i],ri[n]=ri[n]||[],ri[n].unshift(t)},prefilter:function(e,t){t?oi.unshift(e):oi.push(e)}}),ut.Tween=H,H.prototype={constructor:H,init:function(e,t,n,i,o,r){this.elem=e,this.prop=n,this.easing=o||"swing",this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=r||(ut.cssNumber[n]?"":"px")},cur:function(){var e=H.propHooks[this.prop];return e&&e.get?e.get(this):H.propHooks._default.get(this)},run:function(e){var t,n=H.propHooks[this.prop];return this.pos=t=this.options.duration?ut.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):H.propHooks._default.set(this),this}},H.prototype.init.prototype=H.prototype,H.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=ut.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){ut.fx.step[e.prop]?ut.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[ut.cssProps[e.prop]]||ut.cssHooks[e.prop])?ut.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},H.propHooks.scrollTop=H.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},ut.each(["toggle","show","hide"],function(e,t){var n=ut.fn[t];ut.fn[t]=function(e,i,o){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(V(t,!0),e,i,o)}}),ut.fn.extend({fadeTo:function(e,t,n,i){return this.filter(_).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var o=ut.isEmptyObject(e),r=ut.speed(t,n,i),s=function(){var t=B(this,ut.extend({},e),r);(o||ut._data(this,"finish"))&&t.stop(!0)};return s.finish=s,o||r.queue===!1?this.each(s):this.queue(r.queue,s)},stop:function(e,n,i){var o=function(e){var t=e.stop;delete e.stop,t(i)};return"string"!=typeof e&&(i=n,n=e,e=t),n&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,n=null!=e&&e+"queueHooks",r=ut.timers,s=ut._data(this);if(n)s[n]&&s[n].stop&&o(s[n]);else for(n in s)s[n]&&s[n].stop&&ii.test(n)&&o(s[n]);for(n=r.length;n--;)r[n].elem!==this||null!=e&&r[n].queue!==e||(r[n].anim.stop(i),t=!1,r.splice(n,1));(t||!i)&&ut.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=ut._data(this),i=n[e+"queue"],o=n[e+"queueHooks"],r=ut.timers,s=i?i.length:0;for(n.finish=!0,ut.queue(this,e,[]),o&&o.stop&&o.stop.call(this,!0),t=r.length;t--;)r[t].elem===this&&r[t].queue===e&&(r[t].anim.stop(!0),r.splice(t,1));for(t=0;s>t;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete n.finish})}}),ut.each({slideDown:V("show"),slideUp:V("hide"),slideToggle:V("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){ut.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}}),ut.speed=function(e,t,n){var i=e&&"object"==typeof e?ut.extend({},e):{complete:n||!n&&t||ut.isFunction(e)&&e,duration:e,easing:n&&t||t&&!ut.isFunction(t)&&t};return i.duration=ut.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in ut.fx.speeds?ut.fx.speeds[i.duration]:ut.fx.speeds._default,(null==i.queue||i.queue===!0)&&(i.queue="fx"),i.old=i.complete,i.complete=function(){ut.isFunction(i.old)&&i.old.call(this),i.queue&&ut.dequeue(this,i.queue)},i},ut.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},ut.timers=[],ut.fx=H.prototype.init,ut.fx.tick=function(){var e,n=ut.timers,i=0;for(Zn=ut.now();i<n.length;i++)e=n[i],e()||n[i]!==e||n.splice(i--,1);n.length||ut.fx.stop(),Zn=t},ut.fx.timer=function(e){e()&&ut.timers.push(e)&&ut.fx.start()},ut.fx.interval=13,ut.fx.start=function(){ei||(ei=setInterval(ut.fx.tick,ut.fx.interval))},ut.fx.stop=function(){clearInterval(ei),ei=null},ut.fx.speeds={slow:600,fast:200,_default:400},ut.fx.step={},ut.expr&&ut.expr.filters&&(ut.expr.filters.animated=function(e){return ut.grep(ut.timers,function(t){return e===t.elem}).length}),ut.fn.offset=function(e){if(arguments.length)return e===t?this:this.each(function(t){ut.offset.setOffset(this,e,t)});var n,i,o={top:0,left:0},r=this[0],s=r&&r.ownerDocument;if(s)return n=s.documentElement,ut.contains(n,r)?(typeof r.getBoundingClientRect!==Y&&(o=r.getBoundingClientRect()),i=U(s),{top:o.top+(i.pageYOffset||n.scrollTop)-(n.clientTop||0),left:o.left+(i.pageXOffset||n.scrollLeft)-(n.clientLeft||0)}):o},ut.offset={setOffset:function(e,t,n){var i=ut.css(e,"position");"static"===i&&(e.style.position="relative");var o,r,s=ut(e),a=s.offset(),l=ut.css(e,"top"),c=ut.css(e,"left"),u=("absolute"===i||"fixed"===i)&&ut.inArray("auto",[l,c])>-1,d={},h={};u?(h=s.position(),o=h.top,r=h.left):(o=parseFloat(l)||0,r=parseFloat(c)||0),ut.isFunction(t)&&(t=t.call(e,n,a)),null!=t.top&&(d.top=t.top-a.top+o),null!=t.left&&(d.left=t.left-a.left+r),"using"in t?t.using.call(e,d):s.css(d)}},ut.fn.extend({position:function(){if(this[0]){var e,t,n={top:0,left:0},i=this[0];return"fixed"===ut.css(i,"position")?t=i.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),ut.nodeName(e[0],"html")||(n=e.offset()),n.top+=ut.css(e[0],"borderTopWidth",!0),n.left+=ut.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-ut.css(i,"marginTop",!0),left:t.left-n.left-ut.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||J;e&&!ut.nodeName(e,"html")&&"static"===ut.css(e,"position");)e=e.offsetParent;return e||J})}}),ut.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,n){var i=/Y/.test(n);ut.fn[e]=function(o){return ut.access(this,function(e,o,r){var s=U(e);return r===t?s?n in s?s[n]:s.document.documentElement[o]:e[o]:void(s?s.scrollTo(i?ut(s).scrollLeft():r,i?r:ut(s).scrollTop()):e[o]=r)},e,o,arguments.length,null)}}),ut.each({Height:"height",Width:"width"},function(e,n){ut.each({padding:"inner"+e,content:n,"":"outer"+e},function(i,o){ut.fn[o]=function(o,r){var s=arguments.length&&(i||"boolean"!=typeof o),a=i||(o===!0||r===!0?"margin":"border");return ut.access(this,function(n,i,o){var r;return ut.isWindow(n)?n.document.documentElement["client"+e]:9===n.nodeType?(r=n.documentElement,Math.max(n.body["scroll"+e],r["scroll"+e],n.body["offset"+e],r["offset"+e],r["client"+e])):o===t?ut.css(n,i,a):ut.style(n,i,o,a)},n,s?o:t,s,null)}})}),ut.fn.size=function(){return this.length},ut.fn.andSelf=ut.fn.addBack,"object"==typeof module&&module&&"object"==typeof module.exports?module.exports=ut:(e.jQuery=e.$=ut,"function"==typeof define&&define.amd&&define("jquery",[],function(){return ut}))}(window),function(e){define("bootstrap",[],function(){return function(){if("undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(e){var t=e.fn.jquery.split(" ")[0].split(".");if(t[0]<2&&t[1]<9||1==t[0]&&9==t[1]&&t[2]<1)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher")}(jQuery),+function(e){function t(){var e=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in t)if(void 0!==e.style[n])return{end:t[n]};return!1}e.fn.emulateTransitionEnd=function(t){var n=!1,i=this;e(this).one("bsTransitionEnd",function(){n=!0});var o=function(){n||e(i).trigger(e.support.transition.end)};return setTimeout(o,t),this},e(function(){e.support.transition=t(),e.support.transition&&(e.event.special.bsTransitionEnd={bindType:e.support.transition.end,delegateType:e.support.transition.end,handle:function(t){return e(t.target).is(this)?t.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery),+function(e){function t(t){return this.each(function(){var n=e(this),o=n.data("bs.alert");o||n.data("bs.alert",o=new i(this)),"string"==typeof t&&o[t].call(n)})}var n='[data-dismiss="alert"]',i=function(t){e(t).on("click",n,this.close)};i.VERSION="3.3.4",i.TRANSITION_DURATION=150,i.prototype.close=function(t){function n(){s.detach().trigger("closed.bs.alert").remove()}var o=e(this),r=o.attr("data-target");r||(r=o.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,""));var s=e(r);t&&t.preventDefault(),s.length||(s=o.closest(".alert")),s.trigger(t=e.Event("close.bs.alert")),t.isDefaultPrevented()||(s.removeClass("in"),e.support.transition&&s.hasClass("fade")?s.one("bsTransitionEnd",n).emulateTransitionEnd(i.TRANSITION_DURATION):n())};var o=e.fn.alert;e.fn.alert=t,e.fn.alert.Constructor=i,e.fn.alert.noConflict=function(){return e.fn.alert=o,this},e(document).on("click.bs.alert.data-api",n,i.prototype.close)}(jQuery),+function(e){function t(t){return this.each(function(){var i=e(this),o=i.data("bs.button"),r="object"==typeof t&&t;o||i.data("bs.button",o=new n(this,r)),"toggle"==t?o.toggle():t&&o.setState(t)})}var n=function(t,i){this.$element=e(t),this.options=e.extend({},n.DEFAULTS,i),this.isLoading=!1};n.VERSION="3.3.4",n.DEFAULTS={loadingText:"loading..."},n.prototype.setState=function(t){var n="disabled",i=this.$element,o=i.is("input")?"val":"html",r=i.data();t+="Text",null==r.resetText&&i.data("resetText",i[o]()),setTimeout(e.proxy(function(){i[o](null==r[t]?this.options[t]:r[t]),"loadingText"==t?(this.isLoading=!0,i.addClass(n).attr(n,n)):this.isLoading&&(this.isLoading=!1,i.removeClass(n).removeAttr(n))},this),0)},n.prototype.toggle=function(){var e=!0,t=this.$element.closest('[data-toggle="buttons"]');if(t.length){var n=this.$element.find("input");"radio"==n.prop("type")&&(n.prop("checked")&&this.$element.hasClass("active")?e=!1:t.find(".active").removeClass("active")),e&&n.prop("checked",!this.$element.hasClass("active")).trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active"));e&&this.$element.toggleClass("active")};var i=e.fn.button;e.fn.button=t,e.fn.button.Constructor=n,e.fn.button.noConflict=function(){return e.fn.button=i,this},e(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(n){var i=e(n.target);i.hasClass("btn")||(i=i.closest(".btn")),t.call(i,"toggle"),n.preventDefault()}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(t){e(t.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(t.type))})}(jQuery),+function(e){function t(t){return this.each(function(){var i=e(this),o=i.data("bs.carousel"),r=e.extend({},n.DEFAULTS,i.data(),"object"==typeof t&&t),s="string"==typeof t?t:r.slide;o||i.data("bs.carousel",o=new n(this,r)),"number"==typeof t?o.to(t):s?o[s]():r.interval&&o.pause().cycle()})}var n=function(t,n){this.$element=e(t),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",e.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",e.proxy(this.pause,this)).on("mouseleave.bs.carousel",e.proxy(this.cycle,this))};n.VERSION="3.3.4",n.TRANSITION_DURATION=600,n.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},n.prototype.keydown=function(e){if(!/input|textarea/i.test(e.target.tagName)){switch(e.which){case 37:this.prev();break;case 39:this.next();break;default:return}e.preventDefault()}},n.prototype.cycle=function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(e.proxy(this.next,this),this.options.interval)),this},n.prototype.getItemIndex=function(e){return this.$items=e.parent().children(".item"),this.$items.index(e||this.$active)},n.prototype.getItemForDirection=function(e,t){var n=this.getItemIndex(t),i="prev"==e&&0===n||"next"==e&&n==this.$items.length-1;if(i&&!this.options.wrap)return t;var o="prev"==e?-1:1,r=(n+o)%this.$items.length;return this.$items.eq(r)},n.prototype.to=function(e){var t=this,n=this.getItemIndex(this.$active=this.$element.find(".item.active"));return e>this.$items.length-1||0>e?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){t.to(e)}):n==e?this.pause().cycle():this.slide(e>n?"next":"prev",this.$items.eq(e))},n.prototype.pause=function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&e.support.transition&&(this.$element.trigger(e.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},n.prototype.next=function(){return this.sliding?void 0:this.slide("next")},n.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},n.prototype.slide=function(t,i){var o=this.$element.find(".item.active"),r=i||this.getItemForDirection(t,o),s=this.interval,a="next"==t?"left":"right",l=this;if(r.hasClass("active"))return this.sliding=!1;var c=r[0],u=e.Event("slide.bs.carousel",{relatedTarget:c,direction:a});if(this.$element.trigger(u),!u.isDefaultPrevented()){if(this.sliding=!0,s&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var d=e(this.$indicators.children()[this.getItemIndex(r)]);d&&d.addClass("active")}var h=e.Event("slid.bs.carousel",{relatedTarget:c,direction:a});return e.support.transition&&this.$element.hasClass("slide")?(r.addClass(t),r[0].offsetWidth,o.addClass(a),r.addClass(a),o.one("bsTransitionEnd",function(){r.removeClass([t,a].join(" ")).addClass("active"),o.removeClass(["active",a].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger(h)},0)}).emulateTransitionEnd(n.TRANSITION_DURATION)):(o.removeClass("active"),r.addClass("active"),this.sliding=!1,this.$element.trigger(h)),s&&this.cycle(),this}};var i=e.fn.carousel;e.fn.carousel=t,e.fn.carousel.Constructor=n,e.fn.carousel.noConflict=function(){return e.fn.carousel=i,this};var o=function(n){var i,o=e(this),r=e(o.attr("data-target")||(i=o.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,""));if(r.hasClass("carousel")){var s=e.extend({},r.data(),o.data()),a=o.attr("data-slide-to");a&&(s.interval=!1),t.call(r,s),a&&r.data("bs.carousel").to(a),n.preventDefault()}};e(document).on("click.bs.carousel.data-api","[data-slide]",o).on("click.bs.carousel.data-api","[data-slide-to]",o),e(window).on("load",function(){e('[data-ride="carousel"]').each(function(){var n=e(this);t.call(n,n.data())})})}(jQuery),+function(e){function t(t){var n,i=t.attr("data-target")||(n=t.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,"");return e(i)}function n(t){return this.each(function(){var n=e(this),o=n.data("bs.collapse"),r=e.extend({},i.DEFAULTS,n.data(),"object"==typeof t&&t);!o&&r.toggle&&/show|hide/.test(t)&&(r.toggle=!1),o||n.data("bs.collapse",o=new i(this,r)),"string"==typeof t&&o[t]()})}var i=function(t,n){this.$element=e(t),this.options=e.extend({},i.DEFAULTS,n),this.$trigger=e('[data-toggle="collapse"][href="#'+t.id+'"],[data-toggle="collapse"][data-target="#'+t.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};i.VERSION="3.3.4",i.TRANSITION_DURATION=350,i.DEFAULTS={toggle:!0},i.prototype.dimension=function(){var e=this.$element.hasClass("width");return e?"width":"height"},i.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var t,o=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(o&&o.length&&(t=o.data("bs.collapse"),t&&t.transitioning))){var r=e.Event("show.bs.collapse");if(this.$element.trigger(r),!r.isDefaultPrevented()){o&&o.length&&(n.call(o,"hide"),t||o.data("bs.collapse",null));var s=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[s](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var a=function(){this.$element.removeClass("collapsing").addClass("collapse in")[s](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!e.support.transition)return a.call(this);var l=e.camelCase(["scroll",s].join("-"));this.$element.one("bsTransitionEnd",e.proxy(a,this)).emulateTransitionEnd(i.TRANSITION_DURATION)[s](this.$element[0][l])}}}},i.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var t=e.Event("hide.bs.collapse");if(this.$element.trigger(t),!t.isDefaultPrevented()){var n=this.dimension();this.$element[n](this.$element[n]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var o=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return e.support.transition?void this.$element[n](0).one("bsTransitionEnd",e.proxy(o,this)).emulateTransitionEnd(i.TRANSITION_DURATION):o.call(this)}}},i.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},i.prototype.getParent=function(){return e(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(e.proxy(function(n,i){var o=e(i);this.addAriaAndCollapsedClass(t(o),o)},this)).end()},i.prototype.addAriaAndCollapsedClass=function(e,t){var n=e.hasClass("in");e.attr("aria-expanded",n),t.toggleClass("collapsed",!n).attr("aria-expanded",n)};var o=e.fn.collapse;e.fn.collapse=n,e.fn.collapse.Constructor=i,e.fn.collapse.noConflict=function(){return e.fn.collapse=o,this},e(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(i){var o=e(this);o.attr("data-target")||i.preventDefault();var r=t(o),s=r.data("bs.collapse"),a=s?"toggle":o.data();n.call(r,a)})}(jQuery),+function(e){function t(t){t&&3===t.which||(e(o).remove(),e(r).each(function(){var i=e(this),o=n(i),r={relatedTarget:this};o.hasClass("open")&&(o.trigger(t=e.Event("hide.bs.dropdown",r)),t.isDefaultPrevented()||(i.attr("aria-expanded","false"),o.removeClass("open").trigger("hidden.bs.dropdown",r)))}))}function n(t){var n=t.attr("data-target");n||(n=t.attr("href"),n=n&&/#[A-Za-z]/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,""));var i=n&&e(n);return i&&i.length?i:t.parent()}function i(t){return this.each(function(){var n=e(this),i=n.data("bs.dropdown");i||n.data("bs.dropdown",i=new s(this)),"string"==typeof t&&i[t].call(n)})}var o=".dropdown-backdrop",r='[data-toggle="dropdown"]',s=function(t){e(t).on("click.bs.dropdown",this.toggle)};s.VERSION="3.3.4",s.prototype.toggle=function(i){var o=e(this);if(!o.is(".disabled, :disabled")){var r=n(o),s=r.hasClass("open");if(t(),!s){"ontouchstart"in document.documentElement&&!r.closest(".navbar-nav").length&&e('<div class="dropdown-backdrop"/>').insertAfter(e(this)).on("click",t);var a={relatedTarget:this};if(r.trigger(i=e.Event("show.bs.dropdown",a)),i.isDefaultPrevented())return;o.trigger("focus").attr("aria-expanded","true"),r.toggleClass("open").trigger("shown.bs.dropdown",a)}return!1}},s.prototype.keydown=function(t){if(/(38|40|27|32)/.test(t.which)&&!/input|textarea/i.test(t.target.tagName)){var i=e(this);if(t.preventDefault(),t.stopPropagation(),!i.is(".disabled, :disabled")){var o=n(i),s=o.hasClass("open");if(!s&&27!=t.which||s&&27==t.which)return 27==t.which&&o.find(r).trigger("focus"),i.trigger("click");var a=" li:not(.disabled):visible a",l=o.find('[role="menu"]'+a+', [role="listbox"]'+a);if(l.length){var c=l.index(t.target);38==t.which&&c>0&&c--,40==t.which&&c<l.length-1&&c++,~c||(c=0),l.eq(c).trigger("focus")}}}};var a=e.fn.dropdown;e.fn.dropdown=i,e.fn.dropdown.Constructor=s,e.fn.dropdown.noConflict=function(){return e.fn.dropdown=a,this},e(document).on("click.bs.dropdown.data-api",t).on("click.bs.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.bs.dropdown.data-api",r,s.prototype.toggle).on("keydown.bs.dropdown.data-api",r,s.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="menu"]',s.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="listbox"]',s.prototype.keydown)}(jQuery),+function(e){function t(t,i){return this.each(function(){var o=e(this),r=o.data("bs.modal"),s=e.extend({},n.DEFAULTS,o.data(),"object"==typeof t&&t);r||o.data("bs.modal",r=new n(this,s)),"string"==typeof t?r[t](i):s.show&&r.show(i)})}var n=function(t,n){this.options=n,this.$body=e(document.body),this.$element=e(t),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,e.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};n.VERSION="3.3.4",n.TRANSITION_DURATION=300,n.BACKDROP_TRANSITION_DURATION=150,n.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},n.prototype.toggle=function(e){return this.isShown?this.hide():this.show(e)},n.prototype.show=function(t){var i=this,o=e.Event("show.bs.modal",{relatedTarget:t});this.$element.trigger(o),this.isShown||o.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',e.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){i.$element.one("mouseup.dismiss.bs.modal",function(t){e(t.target).is(i.$element)&&(i.ignoreBackdropClick=!0)})}),this.backdrop(function(){var o=e.support.transition&&i.$element.hasClass("fade");i.$element.parent().length||i.$element.appendTo(i.$body),i.$element.show().scrollTop(0),i.adjustDialog(),o&&i.$element[0].offsetWidth,i.$element.addClass("in").attr("aria-hidden",!1),i.enforceFocus();var r=e.Event("shown.bs.modal",{relatedTarget:t});o?i.$dialog.one("bsTransitionEnd",function(){i.$element.trigger("focus").trigger(r)}).emulateTransitionEnd(n.TRANSITION_DURATION):i.$element.trigger("focus").trigger(r)}))},n.prototype.hide=function(t){t&&t.preventDefault(),t=e.Event("hide.bs.modal"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),e(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),e.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",e.proxy(this.hideModal,this)).emulateTransitionEnd(n.TRANSITION_DURATION):this.hideModal())},n.prototype.enforceFocus=function(){e(document).off("focusin.bs.modal").on("focusin.bs.modal",e.proxy(function(e){this.$element[0]===e.target||this.$element.has(e.target).length||this.$element.trigger("focus")},this))},n.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",e.proxy(function(e){27==e.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},n.prototype.resize=function(){this.isShown?e(window).on("resize.bs.modal",e.proxy(this.handleUpdate,this)):e(window).off("resize.bs.modal")},n.prototype.hideModal=function(){var e=this;this.$element.hide(),this.backdrop(function(){e.$body.removeClass("modal-open"),e.resetAdjustments(),e.resetScrollbar(),e.$element.trigger("hidden.bs.modal")})},n.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},n.prototype.backdrop=function(t){var i=this,o=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var r=e.support.transition&&o;if(this.$backdrop=e('<div class="modal-backdrop '+o+'" />').appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",e.proxy(function(e){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(e.target===e.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),r&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;r?this.$backdrop.one("bsTransitionEnd",t).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):t()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var s=function(){i.removeBackdrop(),t&&t()};e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",s).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):s()}else t&&t()},n.prototype.handleUpdate=function(){this.adjustDialog()},n.prototype.adjustDialog=function(){var e=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&e?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!e?this.scrollbarWidth:""})},n.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},n.prototype.checkScrollbar=function(){var e=window.innerWidth;if(!e){var t=document.documentElement.getBoundingClientRect();e=t.right-Math.abs(t.left)}this.bodyIsOverflowing=document.body.clientWidth<e,this.scrollbarWidth=this.measureScrollbar()},n.prototype.setScrollbar=function(){var e=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",e+this.scrollbarWidth)},n.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},n.prototype.measureScrollbar=function(){var e=document.createElement("div");e.className="modal-scrollbar-measure",this.$body.append(e);var t=e.offsetWidth-e.clientWidth;return this.$body[0].removeChild(e),t};var i=e.fn.modal;e.fn.modal=t,e.fn.modal.Constructor=n,e.fn.modal.noConflict=function(){return e.fn.modal=i,this},e(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(n){var i=e(this),o=i.attr("href"),r=e(i.attr("data-target")||o&&o.replace(/.*(?=#[^\s]+$)/,"")),s=r.data("bs.modal")?"toggle":e.extend({remote:!/#/.test(o)&&o},r.data(),i.data());i.is("a")&&n.preventDefault(),r.one("show.bs.modal",function(e){e.isDefaultPrevented()||r.one("hidden.bs.modal",function(){i.is(":visible")&&i.trigger("focus")})}),t.call(r,s,this)})}(jQuery),+function(e){function t(t){return this.each(function(){var i=e(this),o=i.data("bs.tooltip"),r="object"==typeof t&&t;
(o||!/destroy|hide/.test(t))&&(o||i.data("bs.tooltip",o=new n(this,r)),"string"==typeof t&&o[t]())})}var n=function(e,t){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.init("tooltip",e,t)};n.VERSION="3.3.4",n.TRANSITION_DURATION=150,n.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},n.prototype.init=function(t,n,i){if(this.enabled=!0,this.type=t,this.$element=e(n),this.options=this.getOptions(i),this.$viewport=this.options.viewport&&e(this.options.viewport.selector||this.options.viewport),this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var o=this.options.trigger.split(" "),r=o.length;r--;){var s=o[r];if("click"==s)this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this));else if("manual"!=s){var a="hover"==s?"mouseenter":"focusin",l="hover"==s?"mouseleave":"focusout";this.$element.on(a+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,e.proxy(this.leave,this))}}this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.getOptions=function(t){return t=e.extend({},this.getDefaults(),this.$element.data(),t),t.delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},n.prototype.getDelegateOptions=function(){var t={},n=this.getDefaults();return this._options&&e.each(this._options,function(e,i){n[e]!=i&&(t[e]=i)}),t},n.prototype.enter=function(t){var n=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);return n&&n.$tip&&n.$tip.is(":visible")?void(n.hoverState="in"):(n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n)),clearTimeout(n.timeout),n.hoverState="in",n.options.delay&&n.options.delay.show?void(n.timeout=setTimeout(function(){"in"==n.hoverState&&n.show()},n.options.delay.show)):n.show())},n.prototype.leave=function(t){var n=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);return n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n)),clearTimeout(n.timeout),n.hoverState="out",n.options.delay&&n.options.delay.hide?void(n.timeout=setTimeout(function(){"out"==n.hoverState&&n.hide()},n.options.delay.hide)):n.hide()},n.prototype.show=function(){var t=e.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(t);var i=e.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(t.isDefaultPrevented()||!i)return;var o=this,r=this.tip(),s=this.getUID(this.type);this.setContent(),r.attr("id",s),this.$element.attr("aria-describedby",s),this.options.animation&&r.addClass("fade");var a="function"==typeof this.options.placement?this.options.placement.call(this,r[0],this.$element[0]):this.options.placement,l=/\s?auto?\s?/i,c=l.test(a);c&&(a=a.replace(l,"")||"top"),r.detach().css({top:0,left:0,display:"block"}).addClass(a).data("bs."+this.type,this),this.options.container?r.appendTo(this.options.container):r.insertAfter(this.$element);var u=this.getPosition(),d=r[0].offsetWidth,h=r[0].offsetHeight;if(c){var p=a,f=this.options.container?e(this.options.container):this.$element.parent(),m=this.getPosition(f);a="bottom"==a&&u.bottom+h>m.bottom?"top":"top"==a&&u.top-h<m.top?"bottom":"right"==a&&u.right+d>m.width?"left":"left"==a&&u.left-d<m.left?"right":a,r.removeClass(p).addClass(a)}var g=this.getCalculatedOffset(a,u,d,h);this.applyPlacement(g,a);var v=function(){var e=o.hoverState;o.$element.trigger("shown.bs."+o.type),o.hoverState=null,"out"==e&&o.leave(o)};e.support.transition&&this.$tip.hasClass("fade")?r.one("bsTransitionEnd",v).emulateTransitionEnd(n.TRANSITION_DURATION):v()}},n.prototype.applyPlacement=function(t,n){var i=this.tip(),o=i[0].offsetWidth,r=i[0].offsetHeight,s=parseInt(i.css("margin-top"),10),a=parseInt(i.css("margin-left"),10);isNaN(s)&&(s=0),isNaN(a)&&(a=0),t.top=t.top+s,t.left=t.left+a,e.offset.setOffset(i[0],e.extend({using:function(e){i.css({top:Math.round(e.top),left:Math.round(e.left)})}},t),0),i.addClass("in");var l=i[0].offsetWidth,c=i[0].offsetHeight;"top"==n&&c!=r&&(t.top=t.top+r-c);var u=this.getViewportAdjustedDelta(n,t,l,c);u.left?t.left+=u.left:t.top+=u.top;var d=/top|bottom/.test(n),h=d?2*u.left-o+l:2*u.top-r+c,p=d?"offsetWidth":"offsetHeight";i.offset(t),this.replaceArrow(h,i[0][p],d)},n.prototype.replaceArrow=function(e,t,n){this.arrow().css(n?"left":"top",50*(1-e/t)+"%").css(n?"top":"left","")},n.prototype.setContent=function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},n.prototype.hide=function(t){function i(){"in"!=o.hoverState&&r.detach(),o.$element.removeAttr("aria-describedby").trigger("hidden.bs."+o.type),t&&t()}var o=this,r=e(this.$tip),s=e.Event("hide.bs."+this.type);return this.$element.trigger(s),s.isDefaultPrevented()?void 0:(r.removeClass("in"),e.support.transition&&r.hasClass("fade")?r.one("bsTransitionEnd",i).emulateTransitionEnd(n.TRANSITION_DURATION):i(),this.hoverState=null,this)},n.prototype.fixTitle=function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("data-original-title"))&&e.attr("data-original-title",e.attr("title")||"").attr("title","")},n.prototype.hasContent=function(){return this.getTitle()},n.prototype.getPosition=function(t){t=t||this.$element;var n=t[0],i="BODY"==n.tagName,o=n.getBoundingClientRect();null==o.width&&(o=e.extend({},o,{width:o.right-o.left,height:o.bottom-o.top}));var r=i?{top:0,left:0}:t.offset(),s={scroll:i?document.documentElement.scrollTop||document.body.scrollTop:t.scrollTop()},a=i?{width:e(window).width(),height:e(window).height()}:null;return e.extend({},o,s,a,r)},n.prototype.getCalculatedOffset=function(e,t,n,i){return"bottom"==e?{top:t.top+t.height,left:t.left+t.width/2-n/2}:"top"==e?{top:t.top-i,left:t.left+t.width/2-n/2}:"left"==e?{top:t.top+t.height/2-i/2,left:t.left-n}:{top:t.top+t.height/2-i/2,left:t.left+t.width}},n.prototype.getViewportAdjustedDelta=function(e,t,n,i){var o={top:0,left:0};if(!this.$viewport)return o;var r=this.options.viewport&&this.options.viewport.padding||0,s=this.getPosition(this.$viewport);if(/right|left/.test(e)){var a=t.top-r-s.scroll,l=t.top+r-s.scroll+i;a<s.top?o.top=s.top-a:l>s.top+s.height&&(o.top=s.top+s.height-l)}else{var c=t.left-r,u=t.left+r+n;c<s.left?o.left=s.left-c:u>s.width&&(o.left=s.left+s.width-u)}return o},n.prototype.getTitle=function(){var e,t=this.$element,n=this.options;return e=t.attr("data-original-title")||("function"==typeof n.title?n.title.call(t[0]):n.title)},n.prototype.getUID=function(e){do e+=~~(1e6*Math.random());while(document.getElementById(e));return e},n.prototype.tip=function(){return this.$tip=this.$tip||e(this.options.template)},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},n.prototype.enable=function(){this.enabled=!0},n.prototype.disable=function(){this.enabled=!1},n.prototype.toggleEnabled=function(){this.enabled=!this.enabled},n.prototype.toggle=function(t){var n=this;t&&(n=e(t.currentTarget).data("bs."+this.type),n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n))),n.tip().hasClass("in")?n.leave(n):n.enter(n)},n.prototype.destroy=function(){var e=this;clearTimeout(this.timeout),this.hide(function(){e.$element.off("."+e.type).removeData("bs."+e.type)})};var i=e.fn.tooltip;e.fn.tooltip=t,e.fn.tooltip.Constructor=n,e.fn.tooltip.noConflict=function(){return e.fn.tooltip=i,this}}(jQuery),+function(e){function t(t){return this.each(function(){var i=e(this),o=i.data("bs.popover"),r="object"==typeof t&&t;(o||!/destroy|hide/.test(t))&&(o||i.data("bs.popover",o=new n(this,r)),"string"==typeof t&&o[t]())})}var n=function(e,t){this.init("popover",e,t)};if(!e.fn.tooltip)throw new Error("Popover requires tooltip.js");n.VERSION="3.3.4",n.DEFAULTS=e.extend({},e.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),n.prototype=e.extend({},e.fn.tooltip.Constructor.prototype),n.prototype.constructor=n,n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.setContent=function(){var e=this.tip(),t=this.getTitle(),n=this.getContent();e.find(".popover-title")[this.options.html?"html":"text"](t),e.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof n?"html":"append":"text"](n),e.removeClass("fade top bottom left right in"),e.find(".popover-title").html()||e.find(".popover-title").hide()},n.prototype.hasContent=function(){return this.getTitle()||this.getContent()},n.prototype.getContent=function(){var e=this.$element,t=this.options;return e.attr("data-content")||("function"==typeof t.content?t.content.call(e[0]):t.content)},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var i=e.fn.popover;e.fn.popover=t,e.fn.popover.Constructor=n,e.fn.popover.noConflict=function(){return e.fn.popover=i,this}}(jQuery),+function(e){function t(n,i){this.$body=e(document.body),this.$scrollElement=e(e(n).is(document.body)?window:n),this.options=e.extend({},t.DEFAULTS,i),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",e.proxy(this.process,this)),this.refresh(),this.process()}function n(n){return this.each(function(){var i=e(this),o=i.data("bs.scrollspy"),r="object"==typeof n&&n;o||i.data("bs.scrollspy",o=new t(this,r)),"string"==typeof n&&o[n]()})}t.VERSION="3.3.4",t.DEFAULTS={offset:10},t.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},t.prototype.refresh=function(){var t=this,n="offset",i=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),e.isWindow(this.$scrollElement[0])||(n="position",i=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var t=e(this),o=t.data("target")||t.attr("href"),r=/^#./.test(o)&&e(o);return r&&r.length&&r.is(":visible")&&[[r[n]().top+i,o]]||null}).sort(function(e,t){return e[0]-t[0]}).each(function(){t.offsets.push(this[0]),t.targets.push(this[1])})},t.prototype.process=function(){var e,t=this.$scrollElement.scrollTop()+this.options.offset,n=this.getScrollHeight(),i=this.options.offset+n-this.$scrollElement.height(),o=this.offsets,r=this.targets,s=this.activeTarget;if(this.scrollHeight!=n&&this.refresh(),t>=i)return s!=(e=r[r.length-1])&&this.activate(e);if(s&&t<o[0])return this.activeTarget=null,this.clear();for(e=o.length;e--;)s!=r[e]&&t>=o[e]&&(void 0===o[e+1]||t<o[e+1])&&this.activate(r[e])},t.prototype.activate=function(t){this.activeTarget=t,this.clear();var n=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',i=e(n).parents("li").addClass("active");i.parent(".dropdown-menu").length&&(i=i.closest("li.dropdown").addClass("active")),i.trigger("activate.bs.scrollspy")},t.prototype.clear=function(){e(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var i=e.fn.scrollspy;e.fn.scrollspy=n,e.fn.scrollspy.Constructor=t,e.fn.scrollspy.noConflict=function(){return e.fn.scrollspy=i,this},e(window).on("load.bs.scrollspy.data-api",function(){e('[data-spy="scroll"]').each(function(){var t=e(this);n.call(t,t.data())})})}(jQuery),+function(e){function t(t){return this.each(function(){var i=e(this),o=i.data("bs.tab");o||i.data("bs.tab",o=new n(this)),"string"==typeof t&&o[t]()})}var n=function(t){this.element=e(t)};n.VERSION="3.3.4",n.TRANSITION_DURATION=150,n.prototype.show=function(){var t=this.element,n=t.closest("ul:not(.dropdown-menu)"),i=t.data("target");if(i||(i=t.attr("href"),i=i&&i.replace(/.*(?=#[^\s]*$)/,"")),!t.parent("li").hasClass("active")){var o=n.find(".active:last a"),r=e.Event("hide.bs.tab",{relatedTarget:t[0]}),s=e.Event("show.bs.tab",{relatedTarget:o[0]});if(o.trigger(r),t.trigger(s),!s.isDefaultPrevented()&&!r.isDefaultPrevented()){var a=e(i);this.activate(t.closest("li"),n),this.activate(a,a.parent(),function(){o.trigger({type:"hidden.bs.tab",relatedTarget:t[0]}),t.trigger({type:"shown.bs.tab",relatedTarget:o[0]})})}}},n.prototype.activate=function(t,i,o){function r(){s.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),t.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),a?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu").length&&t.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),o&&o()}var s=i.find("> .active"),a=o&&e.support.transition&&(s.length&&s.hasClass("fade")||!!i.find("> .fade").length);s.length&&a?s.one("bsTransitionEnd",r).emulateTransitionEnd(n.TRANSITION_DURATION):r(),s.removeClass("in")};var i=e.fn.tab;e.fn.tab=t,e.fn.tab.Constructor=n,e.fn.tab.noConflict=function(){return e.fn.tab=i,this};var o=function(n){n.preventDefault(),t.call(e(this),"show")};e(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',o).on("click.bs.tab.data-api",'[data-toggle="pill"]',o)}(jQuery),+function(e){function t(t){return this.each(function(){var i=e(this),o=i.data("bs.affix"),r="object"==typeof t&&t;o||i.data("bs.affix",o=new n(this,r)),"string"==typeof t&&o[t]()})}var n=function(t,i){this.options=e.extend({},n.DEFAULTS,i),this.$target=e(this.options.target).on("scroll.bs.affix.data-api",e.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",e.proxy(this.checkPositionWithEventLoop,this)),this.$element=e(t),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};n.VERSION="3.3.4",n.RESET="affix affix-top affix-bottom",n.DEFAULTS={offset:0,target:window},n.prototype.getState=function(e,t,n,i){var o=this.$target.scrollTop(),r=this.$element.offset(),s=this.$target.height();if(null!=n&&"top"==this.affixed)return n>o?"top":!1;if("bottom"==this.affixed)return null!=n?o+this.unpin<=r.top?!1:"bottom":e-i>=o+s?!1:"bottom";var a=null==this.affixed,l=a?o:r.top,c=a?s:t;return null!=n&&n>=o?"top":null!=i&&l+c>=e-i?"bottom":!1},n.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(n.RESET).addClass("affix");var e=this.$target.scrollTop(),t=this.$element.offset();return this.pinnedOffset=t.top-e},n.prototype.checkPositionWithEventLoop=function(){setTimeout(e.proxy(this.checkPosition,this),1)},n.prototype.checkPosition=function(){if(this.$element.is(":visible")){var t=this.$element.height(),i=this.options.offset,o=i.top,r=i.bottom,s=e(document.body).height();"object"!=typeof i&&(r=o=i),"function"==typeof o&&(o=i.top(this.$element)),"function"==typeof r&&(r=i.bottom(this.$element));var a=this.getState(s,t,o,r);if(this.affixed!=a){null!=this.unpin&&this.$element.css("top","");var l="affix"+(a?"-"+a:""),c=e.Event(l+".bs.affix");if(this.$element.trigger(c),c.isDefaultPrevented())return;this.affixed=a,this.unpin="bottom"==a?this.getPinnedOffset():null,this.$element.removeClass(n.RESET).addClass(l).trigger(l.replace("affix","affixed")+".bs.affix")}"bottom"==a&&this.$element.offset({top:s-t-r})}};var i=e.fn.affix;e.fn.affix=t,e.fn.affix.Constructor=n,e.fn.affix.noConflict=function(){return e.fn.affix=i,this},e(window).on("load",function(){e('[data-spy="affix"]').each(function(){var n=e(this),i=n.data();i.offset=i.offset||{},null!=i.offsetBottom&&(i.offset.bottom=i.offsetBottom),null!=i.offsetTop&&(i.offset.top=i.offsetTop),t.call(n,i)})})}(jQuery)}.apply(e,arguments)})}(this),function(e){"function"==typeof define&&define.amd?define("jqueryScrollTo",["jquery"],e):e(jQuery)}(function(e){function t(t){return e.isFunction(t)||"object"==typeof t?t:{top:t,left:t}}var n=e.scrollTo=function(t,n,i){return e(window).scrollTo(t,n,i)};return n.defaults={axis:"xy",duration:parseFloat(e.fn.jquery)>=1.3?0:1,limit:!0},n.window=function(){return e(window)._scrollable()},e.fn._scrollable=function(){return this.map(function(){var t=this,n=!t.nodeName||-1!=e.inArray(t.nodeName.toLowerCase(),["iframe","#document","html","body"]);if(!n)return t;var i=(t.contentWindow||t).document||t.ownerDocument||t;return/webkit/i.test(navigator.userAgent)||"BackCompat"==i.compatMode?i.body:i.documentElement})},e.fn.scrollTo=function(i,o,r){return"object"==typeof o&&(r=o,o=0),"function"==typeof r&&(r={onAfter:r}),"max"==i&&(i=9e9),r=e.extend({},n.defaults,r),o=o||r.duration,r.queue=r.queue&&r.axis.length>1,r.queue&&(o/=2),r.offset=t(r.offset),r.over=t(r.over),this._scrollable().each(function(){function s(e){c.animate(d,o,r.easing,e&&function(){e.call(this,u,r)})}if(null!=i){var a,l=this,c=e(l),u=i,d={},h=c.is("html,body");switch(typeof u){case"number":case"string":if(/^([+-]=?)?\d+(\.\d+)?(px|%)?$/.test(u)){u=t(u);break}if(u=e(u,this),!u.length)return;case"object":(u.is||u.style)&&(a=(u=e(u)).offset())}var p=e.isFunction(r.offset)&&r.offset(l,u)||r.offset;e.each(r.axis.split(""),function(e,t){var i="x"==t?"Left":"Top",o=i.toLowerCase(),f="scroll"+i,m=l[f],g=n.max(l,t);if(a)d[f]=a[o]+(h?0:m-c.offset()[o]),r.margin&&(d[f]-=parseInt(u.css("margin"+i))||0,d[f]-=parseInt(u.css("border"+i+"Width"))||0),d[f]+=p[o]||0,r.over[o]&&(d[f]+=u["x"==t?"width":"height"]()*r.over[o]);else{var v=u[o];d[f]=v&&v.slice&&"%"==v.slice(-1)?parseFloat(v)/100*g:v}r.limit&&/^\d+$/.test(d[f])&&(d[f]=d[f]<=0?0:Math.min(d[f],g)),!e&&r.queue&&(m!=d[f]&&s(r.onAfterFirst),delete d[f])}),s(r.onAfter)}}).end()},n.max=function(t,n){var i="x"==n?"Width":"Height",o="scroll"+i;if(!e(t).is("html,body"))return t[o]-e(t)[i.toLowerCase()]();var r="client"+i,s=t.ownerDocument.documentElement,a=t.ownerDocument.body;return Math.max(s[o],a[o])-Math.min(s[r],a[r])},n}),function(e){function t(e,t,n){switch(arguments.length){case 2:return null!=e?e:t;case 3:return null!=e?e:null!=t?t:n;default:throw new Error("Implement me")}}function n(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function i(e,t){function n(){ht.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}var i=!0;return c(function(){return i&&(n(),i=!1),t.apply(this,arguments)},t)}function o(e,t){return function(n){return h(e.call(this,n),t)}}function r(e,t){return function(n){return this.lang().ordinal(e.call(this,n),t)}}function s(){}function a(e){S(e),c(this,e)}function l(e){var t=y(e),n=t.year||0,i=t.quarter||0,o=t.month||0,r=t.week||0,s=t.day||0,a=t.hour||0,l=t.minute||0,c=t.second||0,u=t.millisecond||0;this._milliseconds=+u+1e3*c+6e4*l+36e5*a,this._days=+s+7*r,this._months=+o+3*i+12*n,this._data={},this._bubble()}function c(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return t.hasOwnProperty("toString")&&(e.toString=t.toString),t.hasOwnProperty("valueOf")&&(e.valueOf=t.valueOf),e}function u(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&Tt.hasOwnProperty(t)&&(n[t]=e[t]);return n}function d(e){return 0>e?Math.ceil(e):Math.floor(e)}function h(e,t,n){for(var i=""+Math.abs(e),o=e>=0;i.length<t;)i="0"+i;return(o?n?"+":"":"-")+i}function p(e,t,n,i){var o=t._milliseconds,r=t._days,s=t._months;i=null==i?!0:i,o&&e._d.setTime(+e._d+o*n),r&&at(e,"Date",st(e,"Date")+r*n),s&&rt(e,st(e,"Month")+s*n),i&&ht.updateOffset(e,r||s)}function f(e){return"[object Array]"===Object.prototype.toString.call(e)}function m(e){return"[object Date]"===Object.prototype.toString.call(e)||e instanceof Date}function g(e,t,n){var i,o=Math.min(e.length,t.length),r=Math.abs(e.length-t.length),s=0;for(i=0;o>i;i++)(n&&e[i]!==t[i]||!n&&w(e[i])!==w(t[i]))&&s++;return s+r}function v(e){if(e){var t=e.toLowerCase().replace(/(.)s$/,"$1");e=tn[e]||nn[t]||t}return e}function y(e){var t,n,i={};for(n in e)e.hasOwnProperty(n)&&(t=v(n),t&&(i[t]=e[n]));return i}function b(t){var n,i;if(0===t.indexOf("week"))n=7,i="day";else{if(0!==t.indexOf("month"))return;n=12,i="month"}ht[t]=function(o,r){var s,a,l=ht.fn._lang[t],c=[];if("number"==typeof o&&(r=o,o=e),a=function(e){var t=ht().utc().set(i,e);return l.call(ht.fn._lang,t,o||"")},null!=r)return a(r);for(s=0;n>s;s++)c.push(a(s));return c}}function w(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=t>=0?Math.floor(t):Math.ceil(t)),n}function x(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}function C(e,t,n){return tt(ht([e,11,31+t-n]),t,n).week}function _(e){return k(e)?366:365}function k(e){return e%4===0&&e%100!==0||e%400===0}function S(e){var t;e._a&&-2===e._pf.overflow&&(t=e._a[bt]<0||e._a[bt]>11?bt:e._a[wt]<1||e._a[wt]>x(e._a[yt],e._a[bt])?wt:e._a[xt]<0||e._a[xt]>23?xt:e._a[Ct]<0||e._a[Ct]>59?Ct:e._a[_t]<0||e._a[_t]>59?_t:e._a[kt]<0||e._a[kt]>999?kt:-1,e._pf._overflowDayOfYear&&(yt>t||t>wt)&&(t=wt),e._pf.overflow=t)}function T(e){return null==e._isValid&&(e._isValid=!isNaN(e._d.getTime())&&e._pf.overflow<0&&!e._pf.empty&&!e._pf.invalidMonth&&!e._pf.nullInput&&!e._pf.invalidFormat&&!e._pf.userInvalidated,e._strict&&(e._isValid=e._isValid&&0===e._pf.charsLeftOver&&0===e._pf.unusedTokens.length)),e._isValid}function E(e){return e?e.toLowerCase().replace("_","-"):e}function P(e,t){return t._isUTC?ht(e).zone(t._offset||0):ht(e).local()}function M(e,t){return t.abbr=e,St[e]||(St[e]=new s),St[e].set(t),St[e]}function A(e){delete St[e]}function I(e){var t,n,i,o,r=0,s=function(e){if(!St[e]&&Et)try{require("./lang/"+e)}catch(t){}return St[e]};if(!e)return ht.fn._lang;if(!f(e)){if(n=s(e))return n;e=[e]}for(;r<e.length;){for(o=E(e[r]).split("-"),t=o.length,i=E(e[r+1]),i=i?i.split("-"):null;t>0;){if(n=s(o.slice(0,t).join("-")))return n;if(i&&i.length>=t&&g(o,i,!0)>=t-1)break;t--}r++}return ht.fn._lang}function D(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function O(e){var t,n,i=e.match(It);for(t=0,n=i.length;n>t;t++)i[t]=ln[i[t]]?ln[i[t]]:D(i[t]);return function(o){var r="";for(t=0;n>t;t++)r+=i[t]instanceof Function?i[t].call(o,e):i[t];return r}}function N(e,t){return e.isValid()?(t=R(t,e.lang()),on[t]||(on[t]=O(t)),on[t](e)):e.lang().invalidDate()}function R(e,t){function n(e){return t.longDateFormat(e)||e}var i=5;for(Dt.lastIndex=0;i>=0&&Dt.test(e);)e=e.replace(Dt,n),Dt.lastIndex=0,i-=1;return e}function F(e,t){var n,i=t._strict;switch(e){case"Q":return Ht;case"DDDD":return Ut;case"YYYY":case"GGGG":case"gggg":return i?Wt:Rt;case"Y":case"G":case"g":return Yt;case"YYYYYY":case"YYYYY":case"GGGGG":case"ggggg":return i?Gt:Ft;case"S":if(i)return Ht;case"SS":if(i)return Vt;case"SSS":if(i)return Ut;case"DDD":return Nt;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return jt;case"a":case"A":return I(t._l)._meridiemParse;case"X":return qt;case"Z":case"ZZ":return Lt;case"T":return Bt;case"SSSS":return $t;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"ww":case"WW":return i?Vt:Ot;case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"W":case"e":case"E":return Ot;case"Do":return zt;default:return n=new RegExp(U(V(e.replace("\\","")),"i"))}}function $(e){e=e||"";var t=e.match(Lt)||[],n=t[t.length-1]||[],i=(n+"").match(Zt)||["-",0,0],o=+(60*i[1])+w(i[2]);return"+"===i[0]?-o:o}function j(e,t,n){var i,o=n._a;switch(e){case"Q":null!=t&&(o[bt]=3*(w(t)-1));break;case"M":case"MM":null!=t&&(o[bt]=w(t)-1);break;case"MMM":case"MMMM":i=I(n._l).monthsParse(t),null!=i?o[bt]=i:n._pf.invalidMonth=t;break;case"D":case"DD":null!=t&&(o[wt]=w(t));break;case"Do":null!=t&&(o[wt]=w(parseInt(t,10)));break;case"DDD":case"DDDD":null!=t&&(n._dayOfYear=w(t));break;case"YY":o[yt]=ht.parseTwoDigitYear(t);break;case"YYYY":case"YYYYY":case"YYYYYY":o[yt]=w(t);break;case"a":case"A":n._isPm=I(n._l).isPM(t);break;case"H":case"HH":case"h":case"hh":o[xt]=w(t);break;case"m":case"mm":o[Ct]=w(t);break;case"s":case"ss":o[_t]=w(t);break;case"S":case"SS":case"SSS":case"SSSS":o[kt]=w(1e3*("0."+t));break;case"X":n._d=new Date(1e3*parseFloat(t));break;case"Z":case"ZZ":n._useUTC=!0,n._tzm=$(t);break;case"dd":case"ddd":case"dddd":i=I(n._l).weekdaysParse(t),null!=i?(n._w=n._w||{},n._w.d=i):n._pf.invalidWeekday=t;break;case"w":case"ww":case"W":case"WW":case"d":case"e":case"E":e=e.substr(0,1);case"gggg":case"GGGG":case"GGGGG":e=e.substr(0,2),t&&(n._w=n._w||{},n._w[e]=w(t));break;case"gg":case"GG":n._w=n._w||{},n._w[e]=ht.parseTwoDigitYear(t)}}function L(e){var n,i,o,r,s,a,l,c;n=e._w,null!=n.GG||null!=n.W||null!=n.E?(s=1,a=4,i=t(n.GG,e._a[yt],tt(ht(),1,4).year),o=t(n.W,1),r=t(n.E,1)):(c=I(e._l),s=c._week.dow,a=c._week.doy,i=t(n.gg,e._a[yt],tt(ht(),s,a).year),o=t(n.w,1),null!=n.d?(r=n.d,s>r&&++o):r=null!=n.e?n.e+s:s),l=nt(i,o,r,a,s),e._a[yt]=l.year,e._dayOfYear=l.dayOfYear}function B(e){var n,i,o,r,s=[];if(!e._d){for(o=z(e),e._w&&null==e._a[wt]&&null==e._a[bt]&&L(e),e._dayOfYear&&(r=t(e._a[yt],o[yt]),e._dayOfYear>_(r)&&(e._pf._overflowDayOfYear=!0),i=J(r,0,e._dayOfYear),e._a[bt]=i.getUTCMonth(),e._a[wt]=i.getUTCDate()),n=0;3>n&&null==e._a[n];++n)e._a[n]=s[n]=o[n];for(;7>n;n++)e._a[n]=s[n]=null==e._a[n]?2===n?1:0:e._a[n];e._d=(e._useUTC?J:Q).apply(null,s),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()+e._tzm)}}function q(e){var t;e._d||(t=y(e._i),e._a=[t.year,t.month,t.day,t.hour,t.minute,t.second,t.millisecond],B(e))}function z(e){var t=new Date;return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function H(e){if(e._f===ht.ISO_8601)return void G(e);e._a=[],e._pf.empty=!0;var t,n,i,o,r,s=I(e._l),a=""+e._i,l=a.length,c=0;for(i=R(e._f,s).match(It)||[],t=0;t<i.length;t++)o=i[t],n=(a.match(F(o,e))||[])[0],n&&(r=a.substr(0,a.indexOf(n)),r.length>0&&e._pf.unusedInput.push(r),a=a.slice(a.indexOf(n)+n.length),c+=n.length),ln[o]?(n?e._pf.empty=!1:e._pf.unusedTokens.push(o),j(o,n,e)):e._strict&&!n&&e._pf.unusedTokens.push(o);e._pf.charsLeftOver=l-c,a.length>0&&e._pf.unusedInput.push(a),e._isPm&&e._a[xt]<12&&(e._a[xt]+=12),e._isPm===!1&&12===e._a[xt]&&(e._a[xt]=0),B(e),S(e)}function V(e){return e.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,i,o){return t||n||i||o})}function U(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function W(e){var t,i,o,r,s;if(0===e._f.length)return e._pf.invalidFormat=!0,void(e._d=new Date(0/0));for(r=0;r<e._f.length;r++)s=0,t=c({},e),t._pf=n(),t._f=e._f[r],H(t),T(t)&&(s+=t._pf.charsLeftOver,s+=10*t._pf.unusedTokens.length,t._pf.score=s,(null==o||o>s)&&(o=s,i=t));c(e,i||t)}function G(e){var t,n,i=e._i,o=Kt.exec(i);if(o){for(e._pf.iso=!0,t=0,n=Jt.length;n>t;t++)if(Jt[t][1].exec(i)){e._f=Jt[t][0]+(o[6]||" ");break}for(t=0,n=Xt.length;n>t;t++)if(Xt[t][1].exec(i)){e._f+=Xt[t][0];break}i.match(Lt)&&(e._f+="Z"),H(e)}else e._isValid=!1}function Y(e){G(e),e._isValid===!1&&(delete e._isValid,ht.createFromInputFallback(e))}function K(t){var n=t._i,i=Pt.exec(n);n===e?t._d=new Date:i?t._d=new Date(+i[1]):"string"==typeof n?Y(t):f(n)?(t._a=n.slice(0),B(t)):m(n)?t._d=new Date(+n):"object"==typeof n?q(t):"number"==typeof n?t._d=new Date(n):ht.createFromInputFallback(t)}function Q(e,t,n,i,o,r,s){var a=new Date(e,t,n,i,o,r,s);return 1970>e&&a.setFullYear(e),a}function J(e){var t=new Date(Date.UTC.apply(null,arguments));return 1970>e&&t.setUTCFullYear(e),t}function X(e,t){if("string"==typeof e)if(isNaN(e)){if(e=t.weekdaysParse(e),"number"!=typeof e)return null}else e=parseInt(e,10);return e}function Z(e,t,n,i,o){return o.relativeTime(t||1,!!n,e,i)}function et(e,t,n){var i=vt(Math.abs(e)/1e3),o=vt(i/60),r=vt(o/60),s=vt(r/24),a=vt(s/365),l=i<rn.s&&["s",i]||1===o&&["m"]||o<rn.m&&["mm",o]||1===r&&["h"]||r<rn.h&&["hh",r]||1===s&&["d"]||s<=rn.dd&&["dd",s]||s<=rn.dm&&["M"]||s<rn.dy&&["MM",vt(s/30)]||1===a&&["y"]||["yy",a];return l[2]=t,l[3]=e>0,l[4]=n,Z.apply({},l)}function tt(e,t,n){var i,o=n-t,r=n-e.day();return r>o&&(r-=7),o-7>r&&(r+=7),i=ht(e).add("d",r),{week:Math.ceil(i.dayOfYear()/7),year:i.year()}}function nt(e,t,n,i,o){var r,s,a=J(e,0,1).getUTCDay();return a=0===a?7:a,n=null!=n?n:o,r=o-a+(a>i?7:0)-(o>a?7:0),s=7*(t-1)+(n-o)+r+1,{year:s>0?e:e-1,dayOfYear:s>0?s:_(e-1)+s}}function it(t){var n=t._i,i=t._f;return null===n||i===e&&""===n?ht.invalid({nullInput:!0}):("string"==typeof n&&(t._i=n=I().preparse(n)),ht.isMoment(n)?(t=u(n),t._d=new Date(+n._d)):i?f(i)?W(t):H(t):K(t),new a(t))}function ot(e,t){var n,i;if(1===t.length&&f(t[0])&&(t=t[0]),!t.length)return ht();for(n=t[0],i=1;i<t.length;++i)t[i][e](n)&&(n=t[i]);return n}function rt(e,t){var n;return"string"==typeof t&&(t=e.lang().monthsParse(t),"number"!=typeof t)?e:(n=Math.min(e.date(),x(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e)}function st(e,t){return e._d["get"+(e._isUTC?"UTC":"")+t]()}function at(e,t,n){return"Month"===t?rt(e,n):e._d["set"+(e._isUTC?"UTC":"")+t](n)}function lt(e,t){return function(n){return null!=n?(at(this,e,n),ht.updateOffset(this,t),this):st(this,e)}}function ct(e){ht.duration.fn[e]=function(){return this._data[e]}}function ut(e,t){ht.duration.fn["as"+e]=function(){return+this/t}}function dt(e){"undefined"==typeof ender&&(pt=gt.moment,gt.moment=e?i("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.",ht):ht)}for(var ht,pt,ft,mt="2.7.0",gt="undefined"!=typeof global?global:this,vt=Math.round,yt=0,bt=1,wt=2,xt=3,Ct=4,_t=5,kt=6,St={},Tt={_isAMomentObject:null,_i:null,_f:null,_l:null,_strict:null,_tzm:null,_isUTC:null,_offset:null,_pf:null,_lang:null},Et="undefined"!=typeof module&&module.exports,Pt=/^\/?Date\((\-?\d+)/i,Mt=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,At=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,It=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|X|zz?|ZZ?|.)/g,Dt=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,Ot=/\d\d?/,Nt=/\d{1,3}/,Rt=/\d{1,4}/,Ft=/[+\-]?\d{1,6}/,$t=/\d+/,jt=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Lt=/Z|[\+\-]\d\d:?\d\d/gi,Bt=/T/i,qt=/[\+\-]?\d+(\.\d{1,3})?/,zt=/\d{1,2}/,Ht=/\d/,Vt=/\d\d/,Ut=/\d{3}/,Wt=/\d{4}/,Gt=/[+-]?\d{6}/,Yt=/[+-]?\d+/,Kt=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Qt="YYYY-MM-DDTHH:mm:ssZ",Jt=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],Xt=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],Zt=/([\+\-]|\d\d)/gi,en=("Date|Hours|Minutes|Seconds|Milliseconds".split("|"),{Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6}),tn={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",Q:"quarter",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},nn={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},on={},rn={s:45,m:45,h:22,dd:25,dm:45,dy:345},sn="DDD w W M D d".split(" "),an="M D H h m s w W".split(" "),ln={M:function(){return this.month()+1},MMM:function(e){return this.lang().monthsShort(this,e)},MMMM:function(e){return this.lang().months(this,e)},D:function(){return this.date()
},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(e){return this.lang().weekdaysMin(this,e)},ddd:function(e){return this.lang().weekdaysShort(this,e)},dddd:function(e){return this.lang().weekdays(this,e)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return h(this.year()%100,2)},YYYY:function(){return h(this.year(),4)},YYYYY:function(){return h(this.year(),5)},YYYYYY:function(){var e=this.year(),t=e>=0?"+":"-";return t+h(Math.abs(e),6)},gg:function(){return h(this.weekYear()%100,2)},gggg:function(){return h(this.weekYear(),4)},ggggg:function(){return h(this.weekYear(),5)},GG:function(){return h(this.isoWeekYear()%100,2)},GGGG:function(){return h(this.isoWeekYear(),4)},GGGGG:function(){return h(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.lang().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return w(this.milliseconds()/100)},SS:function(){return h(w(this.milliseconds()/10),2)},SSS:function(){return h(this.milliseconds(),3)},SSSS:function(){return h(this.milliseconds(),3)},Z:function(){var e=-this.zone(),t="+";return 0>e&&(e=-e,t="-"),t+h(w(e/60),2)+":"+h(w(e)%60,2)},ZZ:function(){var e=-this.zone(),t="+";return 0>e&&(e=-e,t="-"),t+h(w(e/60),2)+h(w(e)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},X:function(){return this.unix()},Q:function(){return this.quarter()}},cn=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"];sn.length;)ft=sn.pop(),ln[ft+"o"]=r(ln[ft],ft);for(;an.length;)ft=an.pop(),ln[ft+ft]=o(ln[ft],2);for(ln.DDDD=o(ln.DDD,3),c(s.prototype,{set:function(e){var t,n;for(n in e)t=e[n],"function"==typeof t?this[n]=t:this["_"+n]=t},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(e){return this._months[e.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(e){return this._monthsShort[e.month()]},monthsParse:function(e){var t,n,i;for(this._monthsParse||(this._monthsParse=[]),t=0;12>t;t++)if(this._monthsParse[t]||(n=ht.utc([2e3,t]),i="^"+this.months(n,"")+"|^"+this.monthsShort(n,""),this._monthsParse[t]=new RegExp(i.replace(".",""),"i")),this._monthsParse[t].test(e))return t},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(e){return this._weekdays[e.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(e){return this._weekdaysShort[e.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(e){return this._weekdaysMin[e.day()]},weekdaysParse:function(e){var t,n,i;for(this._weekdaysParse||(this._weekdaysParse=[]),t=0;7>t;t++)if(this._weekdaysParse[t]||(n=ht([2e3,1]).day(t),i="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[t]=new RegExp(i.replace(".",""),"i")),this._weekdaysParse[t].test(e))return t},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},longDateFormat:function(e){var t=this._longDateFormat[e];return!t&&this._longDateFormat[e.toUpperCase()]&&(t=this._longDateFormat[e.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e]=t),t},isPM:function(e){return"p"===(e+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(e,t){var n=this._calendar[e];return"function"==typeof n?n.apply(t):n},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(e,t,n,i){var o=this._relativeTime[n];return"function"==typeof o?o(e,t,n,i):o.replace(/%d/i,e)},pastFuture:function(e,t){var n=this._relativeTime[e>0?"future":"past"];return"function"==typeof n?n(t):n.replace(/%s/i,t)},ordinal:function(e){return this._ordinal.replace("%d",e)},_ordinal:"%d",preparse:function(e){return e},postformat:function(e){return e},week:function(e){return tt(e,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}}),ht=function(t,i,o,r){var s;return"boolean"==typeof o&&(r=o,o=e),s={},s._isAMomentObject=!0,s._i=t,s._f=i,s._l=o,s._strict=r,s._isUTC=!1,s._pf=n(),it(s)},ht.suppressDeprecationWarnings=!1,ht.createFromInputFallback=i("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(e){e._d=new Date(e._i)}),ht.min=function(){var e=[].slice.call(arguments,0);return ot("isBefore",e)},ht.max=function(){var e=[].slice.call(arguments,0);return ot("isAfter",e)},ht.utc=function(t,i,o,r){var s;return"boolean"==typeof o&&(r=o,o=e),s={},s._isAMomentObject=!0,s._useUTC=!0,s._isUTC=!0,s._l=o,s._i=t,s._f=i,s._strict=r,s._pf=n(),it(s).utc()},ht.unix=function(e){return ht(1e3*e)},ht.duration=function(e,t){var n,i,o,r=e,s=null;return ht.isDuration(e)?r={ms:e._milliseconds,d:e._days,M:e._months}:"number"==typeof e?(r={},t?r[t]=e:r.milliseconds=e):(s=Mt.exec(e))?(n="-"===s[1]?-1:1,r={y:0,d:w(s[wt])*n,h:w(s[xt])*n,m:w(s[Ct])*n,s:w(s[_t])*n,ms:w(s[kt])*n}):(s=At.exec(e))&&(n="-"===s[1]?-1:1,o=function(e){var t=e&&parseFloat(e.replace(",","."));return(isNaN(t)?0:t)*n},r={y:o(s[2]),M:o(s[3]),d:o(s[4]),h:o(s[5]),m:o(s[6]),s:o(s[7]),w:o(s[8])}),i=new l(r),ht.isDuration(e)&&e.hasOwnProperty("_lang")&&(i._lang=e._lang),i},ht.version=mt,ht.defaultFormat=Qt,ht.ISO_8601=function(){},ht.momentProperties=Tt,ht.updateOffset=function(){},ht.relativeTimeThreshold=function(t,n){return rn[t]===e?!1:(rn[t]=n,!0)},ht.lang=function(e,t){var n;return e?(t?M(E(e),t):null===t?(A(e),e="en"):St[e]||I(e),n=ht.duration.fn._lang=ht.fn._lang=I(e),n._abbr):ht.fn._lang._abbr},ht.langData=function(e){return e&&e._lang&&e._lang._abbr&&(e=e._lang._abbr),I(e)},ht.isMoment=function(e){return e instanceof a||null!=e&&e.hasOwnProperty("_isAMomentObject")},ht.isDuration=function(e){return e instanceof l},ft=cn.length-1;ft>=0;--ft)b(cn[ft]);ht.normalizeUnits=function(e){return v(e)},ht.invalid=function(e){var t=ht.utc(0/0);return null!=e?c(t._pf,e):t._pf.userInvalidated=!0,t},ht.parseZone=function(){return ht.apply(null,arguments).parseZone()},ht.parseTwoDigitYear=function(e){return w(e)+(w(e)>68?1900:2e3)},c(ht.fn=a.prototype,{clone:function(){return ht(this)},valueOf:function(){return+this._d+6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().lang("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var e=ht(this).utc();return 0<e.year()&&e.year()<=9999?N(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):N(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var e=this;return[e.year(),e.month(),e.date(),e.hours(),e.minutes(),e.seconds(),e.milliseconds()]},isValid:function(){return T(this)},isDSTShifted:function(){return this._a?this.isValid()&&g(this._a,(this._isUTC?ht.utc(this._a):ht(this._a)).toArray())>0:!1},parsingFlags:function(){return c({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(){return this.zone(0)},local:function(){return this.zone(0),this._isUTC=!1,this},format:function(e){var t=N(this,e||ht.defaultFormat);return this.lang().postformat(t)},add:function(e,t){var n;return n="string"==typeof e&&"string"==typeof t?ht.duration(isNaN(+t)?+e:+t,isNaN(+t)?t:e):"string"==typeof e?ht.duration(+t,e):ht.duration(e,t),p(this,n,1),this},subtract:function(e,t){var n;return n="string"==typeof e&&"string"==typeof t?ht.duration(isNaN(+t)?+e:+t,isNaN(+t)?t:e):"string"==typeof e?ht.duration(+t,e):ht.duration(e,t),p(this,n,-1),this},diff:function(e,t,n){var i,o,r=P(e,this),s=6e4*(this.zone()-r.zone());return t=v(t),"year"===t||"month"===t?(i=432e5*(this.daysInMonth()+r.daysInMonth()),o=12*(this.year()-r.year())+(this.month()-r.month()),o+=(this-ht(this).startOf("month")-(r-ht(r).startOf("month")))/i,o-=6e4*(this.zone()-ht(this).startOf("month").zone()-(r.zone()-ht(r).startOf("month").zone()))/i,"year"===t&&(o/=12)):(i=this-r,o="second"===t?i/1e3:"minute"===t?i/6e4:"hour"===t?i/36e5:"day"===t?(i-s)/864e5:"week"===t?(i-s)/6048e5:i),n?o:d(o)},from:function(e,t){return ht.duration(this.diff(e)).lang(this.lang()._abbr).humanize(!t)},fromNow:function(e){return this.from(ht(),e)},calendar:function(e){var t=e||ht(),n=P(t,this).startOf("day"),i=this.diff(n,"days",!0),o=-6>i?"sameElse":-1>i?"lastWeek":0>i?"lastDay":1>i?"sameDay":2>i?"nextDay":7>i?"nextWeek":"sameElse";return this.format(this.lang().calendar(o,this))},isLeapYear:function(){return k(this.year())},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(e){var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=X(e,this.lang()),this.add({d:e-t})):t},month:lt("Month",!0),startOf:function(e){switch(e=v(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e?this.weekday(0):"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this},endOf:function(e){return e=v(e),this.startOf(e).add("isoWeek"===e?"week":e,1).subtract("ms",1)},isAfter:function(e,t){return t="undefined"!=typeof t?t:"millisecond",+this.clone().startOf(t)>+ht(e).startOf(t)},isBefore:function(e,t){return t="undefined"!=typeof t?t:"millisecond",+this.clone().startOf(t)<+ht(e).startOf(t)},isSame:function(e,t){return t=t||"ms",+this.clone().startOf(t)===+P(e,this).startOf(t)},min:i("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(e){return e=ht.apply(null,arguments),this>e?this:e}),max:i("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(e){return e=ht.apply(null,arguments),e>this?this:e}),zone:function(e,t){var n=this._offset||0;return null==e?this._isUTC?n:this._d.getTimezoneOffset():("string"==typeof e&&(e=$(e)),Math.abs(e)<16&&(e=60*e),this._offset=e,this._isUTC=!0,n!==e&&(!t||this._changeInProgress?p(this,ht.duration(n-e,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,ht.updateOffset(this,!0),this._changeInProgress=null)),this)},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){return this._tzm?this.zone(this._tzm):"string"==typeof this._i&&this.zone(this._i),this},hasAlignedHourOffset:function(e){return e=e?ht(e).zone():0,(this.zone()-e)%60===0},daysInMonth:function(){return x(this.year(),this.month())},dayOfYear:function(e){var t=vt((ht(this).startOf("day")-ht(this).startOf("year"))/864e5)+1;return null==e?t:this.add("d",e-t)},quarter:function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},weekYear:function(e){var t=tt(this,this.lang()._week.dow,this.lang()._week.doy).year;return null==e?t:this.add("y",e-t)},isoWeekYear:function(e){var t=tt(this,1,4).year;return null==e?t:this.add("y",e-t)},week:function(e){var t=this.lang().week(this);return null==e?t:this.add("d",7*(e-t))},isoWeek:function(e){var t=tt(this,1,4).week;return null==e?t:this.add("d",7*(e-t))},weekday:function(e){var t=(this.day()+7-this.lang()._week.dow)%7;return null==e?t:this.add("d",e-t)},isoWeekday:function(e){return null==e?this.day()||7:this.day(this.day()%7?e:e-7)},isoWeeksInYear:function(){return C(this.year(),1,4)},weeksInYear:function(){var e=this._lang._week;return C(this.year(),e.dow,e.doy)},get:function(e){return e=v(e),this[e]()},set:function(e,t){return e=v(e),"function"==typeof this[e]&&this[e](t),this},lang:function(t){return t===e?this._lang:(this._lang=I(t),this)}}),ht.fn.millisecond=ht.fn.milliseconds=lt("Milliseconds",!1),ht.fn.second=ht.fn.seconds=lt("Seconds",!1),ht.fn.minute=ht.fn.minutes=lt("Minutes",!1),ht.fn.hour=ht.fn.hours=lt("Hours",!0),ht.fn.date=lt("Date",!0),ht.fn.dates=i("dates accessor is deprecated. Use date instead.",lt("Date",!0)),ht.fn.year=lt("FullYear",!0),ht.fn.years=i("years accessor is deprecated. Use year instead.",lt("FullYear",!0)),ht.fn.days=ht.fn.day,ht.fn.months=ht.fn.month,ht.fn.weeks=ht.fn.week,ht.fn.isoWeeks=ht.fn.isoWeek,ht.fn.quarters=ht.fn.quarter,ht.fn.toJSON=ht.fn.toISOString,c(ht.duration.fn=l.prototype,{_bubble:function(){var e,t,n,i,o=this._milliseconds,r=this._days,s=this._months,a=this._data;a.milliseconds=o%1e3,e=d(o/1e3),a.seconds=e%60,t=d(e/60),a.minutes=t%60,n=d(t/60),a.hours=n%24,r+=d(n/24),a.days=r%30,s+=d(r/30),a.months=s%12,i=d(s/12),a.years=i},weeks:function(){return d(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*w(this._months/12)},humanize:function(e){var t=+this,n=et(t,!e,this.lang());return e&&(n=this.lang().pastFuture(t,n)),this.lang().postformat(n)},add:function(e,t){var n=ht.duration(e,t);return this._milliseconds+=n._milliseconds,this._days+=n._days,this._months+=n._months,this._bubble(),this},subtract:function(e,t){var n=ht.duration(e,t);return this._milliseconds-=n._milliseconds,this._days-=n._days,this._months-=n._months,this._bubble(),this},get:function(e){return e=v(e),this[e.toLowerCase()+"s"]()},as:function(e){return e=v(e),this["as"+e.charAt(0).toUpperCase()+e.slice(1)+"s"]()},lang:ht.fn.lang,toIsoString:function(){var e=Math.abs(this.years()),t=Math.abs(this.months()),n=Math.abs(this.days()),i=Math.abs(this.hours()),o=Math.abs(this.minutes()),r=Math.abs(this.seconds()+this.milliseconds()/1e3);return this.asSeconds()?(this.asSeconds()<0?"-":"")+"P"+(e?e+"Y":"")+(t?t+"M":"")+(n?n+"D":"")+(i||o||r?"T":"")+(i?i+"H":"")+(o?o+"M":"")+(r?r+"S":""):"P0D"}});for(ft in en)en.hasOwnProperty(ft)&&(ut(ft,en[ft]),ct(ft.toLowerCase()));ut("Weeks",6048e5),ht.duration.fn.asMonths=function(){return(+this-31536e6*this.years())/2592e6+12*this.years()},ht.lang("en",{ordinal:function(e){var t=e%10,n=1===w(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n}}),Et?module.exports=ht:"function"==typeof define&&define.amd?(define("moment",["require","exports","module"],function(e,t,n){return n.config&&n.config()&&n.config().noGlobal===!0&&(gt.moment=pt),ht}),dt(!0)):dt()}.call(this),function(e){if("function"==typeof define&&define.amd)define("datetimepicker",["jquery","moment"],e);else{if(!jQuery)throw"bootstrap-datetimepicker requires jQuery to be loaded first";if(!moment)throw"bootstrap-datetimepicker requires moment.js to be loaded first";e(jQuery,moment)}}(function(e,t){if("undefined"==typeof t)throw alert("momentjs is requried"),new Error("momentjs is required");var n=0,o=t,r=function(t,r){var s=e.fn.datetimepicker.defaults,a={time:"glyphicon glyphicon-time",date:"glyphicon glyphicon-calendar",up:"glyphicon glyphicon-chevron-up",down:"glyphicon glyphicon-chevron-down"},l=this,c=function(){var i,c=!1;if(l.options=e.extend({},s,r),l.options.icons=e.extend({},a,l.options.icons),l.element=e(t),d(),!l.options.pickTime&&!l.options.pickDate)throw new Error("Must choose at least one picker");if(l.id=n++,o.lang(l.options.language),l.date=o(),l.unset=!1,l.isInput=l.element.is("input"),l.component=!1,l.element.hasClass("input-group")&&(l.component=l.element.find(0==l.element.find(".datepickerbutton").size()?"[class^='input-group-']":".datepickerbutton")),l.format=l.options.format,i=o()._lang._longDateFormat,l.format||(l.format=l.options.pickDate?i.L:"",l.options.pickDate&&l.options.pickTime&&(l.format+=" "),l.format+=l.options.pickTime?i.LT:"",l.options.useSeconds&&(~i.LT.indexOf(" A")?l.format=l.format.split(" A")[0]+":ss A":l.format+=":ss")),l.use24hours=l.format.toLowerCase().indexOf("a")<1,l.component&&(c=l.component.find("span")),l.options.pickTime&&c&&c.addClass(l.options.icons.time),l.options.pickDate&&c&&(c.removeClass(l.options.icons.time),c.addClass(l.options.icons.date)),l.widget=e(B()).appendTo("body"),l.options.useSeconds&&!l.use24hours&&l.widget.width(300),l.minViewMode=l.options.minViewMode||0,"string"==typeof l.minViewMode)switch(l.minViewMode){case"months":l.minViewMode=1;break;case"years":l.minViewMode=2;break;default:l.minViewMode=0}if(l.viewMode=l.options.viewMode||0,"string"==typeof l.viewMode)switch(l.viewMode){case"months":l.viewMode=1;break;case"years":l.viewMode=2;break;default:l.viewMode=0}if(l.options.disabledDates=j(l.options.disabledDates),l.options.enabledDates=j(l.options.enabledDates),l.startViewMode=l.viewMode,l.setMinDate(l.options.minDate),l.setMaxDate(l.options.maxDate),g(),v(),b(),w(),x(),m(),P(),M(),""!==l.options.defaultDate&&""==u().val()&&l.setValue(l.options.defaultDate),1!==l.options.minuteStepping){var h=l.options.minuteStepping;l.date.minutes(Math.round(l.date.minutes()/h)*h%60).seconds(0)}},u=function(){return l.isInput?l.element:dateStr=l.element.find("input")},d=function(){var e;e=(l.element.is("input"),l.element.data()),void 0!==e.dateFormat&&(l.options.format=e.dateFormat),void 0!==e.datePickdate&&(l.options.pickDate=e.datePickdate),void 0!==e.datePicktime&&(l.options.pickTime=e.datePicktime),void 0!==e.dateUseminutes&&(l.options.useMinutes=e.dateUseminutes),void 0!==e.dateUseseconds&&(l.options.useSeconds=e.dateUseseconds),void 0!==e.dateUsecurrent&&(l.options.useCurrent=e.dateUsecurrent),void 0!==e.dateMinutestepping&&(l.options.minuteStepping=e.dateMinutestepping),void 0!==e.dateMindate&&(l.options.minDate=e.dateMindate),void 0!==e.dateMaxdate&&(l.options.maxDate=e.dateMaxdate),void 0!==e.dateShowtoday&&(l.options.showToday=e.dateShowtoday),void 0!==e.dateCollapse&&(l.options.collapse=e.dateCollapse),void 0!==e.dateLanguage&&(l.options.language=e.dateLanguage),void 0!==e.dateDefaultdate&&(l.options.defaultDate=e.dateDefaultdate),void 0!==e.dateDisableddates&&(l.options.disabledDates=e.dateDisableddates),void 0!==e.dateEnableddates&&(l.options.enabledDates=e.dateEnableddates),void 0!==e.dateIcons&&(l.options.icons=e.dateIcons),void 0!==e.dateUsestrict&&(l.options.useStrict=e.dateUsestrict),void 0!==e.dateDirection&&(l.options.direction=e.dateDirection),void 0!==e.dateSidebyside&&(l.options.sideBySide=e.dateSidebyside)},h=function(){var t="absolute",n=l.component?l.component.offset():l.element.offset(),i=e(window);l.width=l.component?l.component.outerWidth():l.element.outerWidth(),n.top=n.top+l.element.outerHeight();var o;"up"===l.options.direction?o="top":"bottom"===l.options.direction?o="bottom":"auto"===l.options.direction&&(o=n.top+l.widget.height()>i.height()+i.scrollTop()&&l.widget.height()+l.element.outerHeight()<n.top?"top":"bottom"),"top"===o?(n.top-=l.widget.height()+l.element.outerHeight()+15,l.widget.addClass("top").removeClass("bottom")):(n.top+=1,l.widget.addClass("bottom").removeClass("top")),void 0!==l.options.width&&l.widget.width(l.options.width),"left"===l.options.orientation&&(l.widget.addClass("left-oriented"),n.left=n.left-l.widget.width()+20),O()&&(t="fixed",n.top-=i.scrollTop(),n.left-=i.scrollLeft()),i.width()<n.left+l.widget.outerWidth()?(n.right=i.width()-n.left-l.width,n.left="auto",l.widget.addClass("pull-right")):(n.right="auto",l.widget.removeClass("pull-right")),l.widget.css({position:t,top:n.top,left:n.left,right:n.right})},p=function(e,t){o(l.date).isSame(o(e))||(l.element.trigger({type:"dp.change",date:o(l.date),oldDate:o(e)}),"change"!==t&&l.element.change())},f=function(e){l.element.trigger({type:"dp.error",date:o(e)})},m=function(e){o.lang(l.options.language);var t=e;t||(t=u().val(),t&&(l.date=o(t,l.format,l.options.useStrict)),l.date||(l.date=o())),l.viewDate=o(l.date).startOf("month"),y(),C()},g=function(){o.lang(l.options.language);var t,n=e("<tr>"),i=o.weekdaysMin();if(0==o()._lang._week.dow)for(t=0;7>t;t++)n.append('<th class="dow">'+i[t]+"</th>");else for(t=1;8>t;t++)n.append(7==t?'<th class="dow">'+i[0]+"</th>":'<th class="dow">'+i[t]+"</th>");l.widget.find(".datepicker-days thead").append(n)},v=function(){o.lang(l.options.language);for(var e="",t=0,n=o.monthsShort();12>t;)e+='<span class="month">'+n[t++]+"</span>";l.widget.find(".datepicker-months td").append(e)},y=function(){if(l.options.pickDate){o.lang(l.options.language);var t,n,i,r,s,a,c,u,d,h=l.viewDate.year(),p=l.viewDate.month(),f=l.options.minDate.year(),m=l.options.minDate.month(),g=l.options.maxDate.year(),v=l.options.maxDate.month(),y=[],b=o.months();for(l.widget.find(".datepicker-days").find(".disabled").removeClass("disabled"),l.widget.find(".datepicker-months").find(".disabled").removeClass("disabled"),l.widget.find(".datepicker-years").find(".disabled").removeClass("disabled"),l.widget.find(".datepicker-days th:eq(1)").text(b[p]+" "+h),n=o(l.viewDate).subtract("months",1),c=n.daysInMonth(),n.date(c).startOf("week"),(h==f&&m>=p||f>h)&&l.widget.find(".datepicker-days th:eq(0)").addClass("disabled"),(h==g&&p>=v||h>g)&&l.widget.find(".datepicker-days th:eq(2)").addClass("disabled"),i=o(n).add(42,"d");n.isBefore(i);){if(n.weekday()===o().startOf("week").weekday()&&(r=e("<tr>"),y.push(r)),s="",n.year()<h||n.year()==h&&n.month()<p?s+=" old":(n.year()>h||n.year()==h&&n.month()>p)&&(s+=" new"),n.isSame(o({y:l.date.year(),M:l.date.month(),d:l.date.date()}))&&(s+=" active"),(F(n)||!$(n))&&(s+=" disabled"),l.options.showToday===!0&&n.isSame(o(),"day")&&(s+=" today"),l.options.daysOfWeekDisabled)for(a in l.options.daysOfWeekDisabled)if(n.day()==l.options.daysOfWeekDisabled[a]){s+=" disabled";break}r.append('<td class="day'+s+'">'+n.date()+"</td>"),t=n.date(),n.add(1,"d"),t==n.date()&&n.add(1,"d")}for(l.widget.find(".datepicker-days tbody").empty().append(y),d=l.date.year(),b=l.widget.find(".datepicker-months").find("th:eq(1)").text(h).end().find("span").removeClass("active"),d===h&&b.eq(l.date.month()).addClass("active"),f>d-1&&l.widget.find(".datepicker-months th:eq(0)").addClass("disabled"),d+1>g&&l.widget.find(".datepicker-months th:eq(2)").addClass("disabled"),a=0;12>a;a++)h==f&&m>a||f>h?e(b[a]).addClass("disabled"):(h==g&&a>v||h>g)&&e(b[a]).addClass("disabled");for(y="",h=10*parseInt(h/10,10),u=l.widget.find(".datepicker-years").find("th:eq(1)").text(h+"-"+(h+9)).end().find("td"),l.widget.find(".datepicker-years").find("th").removeClass("disabled"),f>h&&l.widget.find(".datepicker-years").find("th:eq(0)").addClass("disabled"),h+9>g&&l.widget.find(".datepicker-years").find("th:eq(2)").addClass("disabled"),h-=1,a=-1;11>a;a++)y+='<span class="year'+(-1===a||10===a?" old":"")+(d===h?" active":"")+(f>h||h>g?" disabled":"")+'">'+h+"</span>",h+=1;u.html(y)}},b=function(){o.lang(l.options.language);var e,t,n,i=l.widget.find(".timepicker .timepicker-hours table"),r="";if(i.parent().hide(),l.use24hours)for(e=0,t=0;6>t;t+=1){for(r+="<tr>",n=0;4>n;n+=1)r+='<td class="hour">'+L(e.toString())+"</td>",e++;r+="</tr>"}else for(e=1,t=0;3>t;t+=1){for(r+="<tr>",n=0;4>n;n+=1)r+='<td class="hour">'+L(e.toString())+"</td>",e++;r+="</tr>"}i.html(r)},w=function(){var e,t,n=l.widget.find(".timepicker .timepicker-minutes table"),i="",o=0,r=l.options.minuteStepping;for(n.parent().hide(),1==r&&(r=5),e=0;e<Math.ceil(60/r/4);e++){for(i+="<tr>",t=0;4>t;t+=1)60>o?(i+='<td class="minute">'+L(o.toString())+"</td>",o+=r):i+="<td></td>";i+="</tr>"}n.html(i)},x=function(){var e,t,n=l.widget.find(".timepicker .timepicker-seconds table"),i="",o=0;for(n.parent().hide(),e=0;3>e;e++){for(i+="<tr>",t=0;4>t;t+=1)i+='<td class="second">'+L(o.toString())+"</td>",o+=5;i+="</tr>"}n.html(i)},C=function(){if(l.date){var e=l.widget.find(".timepicker span[data-time-component]"),t=l.date.hours(),n="AM";l.use24hours||(t>=12&&(n="PM"),0===t?t=12:12!=t&&(t%=12),l.widget.find(".timepicker [data-action=togglePeriod]").text(n)),e.filter("[data-time-component=hours]").text(L(t)),e.filter("[data-time-component=minutes]").text(L(l.date.minutes())),e.filter("[data-time-component=seconds]").text(L(l.date.second()))}},_=function(t){t.stopPropagation(),t.preventDefault(),l.unset=!1;var n,i,r,s,a=e(t.target).closest("span, td, th"),c=o(l.date);if(1===a.length&&!a.is(".disabled"))switch(a[0].nodeName.toLowerCase()){case"th":switch(a[0].className){case"switch":P(1);break;case"prev":case"next":r=q.modes[l.viewMode].navStep,"prev"===a[0].className&&(r=-1*r),l.viewDate.add(r,q.modes[l.viewMode].navFnc),y()}break;case"span":a.is(".month")?(n=a.parent().find("span").index(a),l.viewDate.month(n)):(i=parseInt(a.text(),10)||0,l.viewDate.year(i)),l.viewMode===l.minViewMode&&(l.date=o({y:l.viewDate.year(),M:l.viewDate.month(),d:l.viewDate.date(),h:l.date.hours(),m:l.date.minutes(),s:l.date.seconds()}),p(c,t.type),N()),P(-1),y();break;case"td":a.is(".day")&&(s=parseInt(a.text(),10)||1,n=l.viewDate.month(),i=l.viewDate.year(),a.is(".old")?0===n?(n=11,i-=1):n-=1:a.is(".new")&&(11==n?(n=0,i+=1):n+=1),l.date=o({y:i,M:n,d:s,h:l.date.hours(),m:l.date.minutes(),s:l.date.seconds()}),l.viewDate=o({y:i,M:n,d:Math.min(28,s)}),y(),N(),p(c,t.type))}},k={incrementHours:function(){R("add","hours",1)},incrementMinutes:function(){R("add","minutes",l.options.minuteStepping)},incrementSeconds:function(){R("add","seconds",1)},decrementHours:function(){R("subtract","hours",1)},decrementMinutes:function(){R("subtract","minutes",l.options.minuteStepping)},decrementSeconds:function(){R("subtract","seconds",1)},togglePeriod:function(){var e=l.date.hours();e>=12?e-=12:e+=12,l.date.hours(e)},showPicker:function(){l.widget.find(".timepicker > div:not(.timepicker-picker)").hide(),l.widget.find(".timepicker .timepicker-picker").show()},showHours:function(){l.widget.find(".timepicker .timepicker-picker").hide(),l.widget.find(".timepicker .timepicker-hours").show()},showMinutes:function(){l.widget.find(".timepicker .timepicker-picker").hide(),l.widget.find(".timepicker .timepicker-minutes").show()},showSeconds:function(){l.widget.find(".timepicker .timepicker-picker").hide(),l.widget.find(".timepicker .timepicker-seconds").show()},selectHour:function(t){var n=l.widget.find(".timepicker [data-action=togglePeriod]").text(),i=parseInt(e(t.target).text(),10);"PM"==n&&(i+=12),l.date.hours(i),k.showPicker.call(l)},selectMinute:function(t){l.date.minutes(parseInt(e(t.target).text(),10)),k.showPicker.call(l)},selectSecond:function(t){l.date.seconds(parseInt(e(t.target).text(),10)),k.showPicker.call(l)}},S=function(t){var n=o(l.date),i=e(t.currentTarget).data("action"),r=k[i].apply(l,arguments);return T(t),l.date||(l.date=o({y:1970})),N(),C(),p(n,t.type),r},T=function(e){e.stopPropagation(),e.preventDefault()},E=function(t){o.lang(l.options.language);var n=e(t.target),i=o(l.date),r=o(n.val(),l.format,l.options.useStrict);return i.isSame(r)?!1:void(r.isValid()&&!F(r)&&$(r)?(m(),l.setValue(r),p(i,t.type),N()):(l.viewDate=i,p(i,t.type),f(r),l.unset=!0))},P=function(e){e&&(l.viewMode=Math.max(l.minViewMode,Math.min(2,l.viewMode+e)));q.modes[l.viewMode].clsName;l.widget.find(".datepicker > div").hide().filter(".datepicker-"+q.modes[l.viewMode].clsName).show()},M=function(){var t,n,i,o,r;l.widget.on("click",".datepicker *",e.proxy(_,this)),l.widget.on("click","[data-action]",e.proxy(S,this)),l.widget.on("mousedown",e.proxy(T,this)),l.options.pickDate&&l.options.pickTime&&l.widget.on("click.togglePicker",".accordion-toggle",function(s){if(s.stopPropagation(),t=e(this),n=t.closest("ul"),i=n.find(".in"),o=n.find(".collapse:not(.in)"),i&&i.length){if(r=i.data("collapse"),r&&r.date-transitioning)return;i.collapse("hide"),o.collapse("show"),t.find("span").toggleClass(l.options.icons.time+" "+l.options.icons.date),l.element.find(".input-group-addon span").toggleClass(l.options.icons.time+" "+l.options.icons.date)}}),l.isInput?l.element.on({focus:e.proxy(l.show,this),change:e.proxy(E,this),blur:e.proxy(l.hide,this)}):(l.element.on({change:e.proxy(E,this)},"input"),l.component?l.component.on("click",e.proxy(l.show,this)):l.element.on("click",e.proxy(l.show,this)))},A=function(){e(window).on("resize.datetimepicker"+l.id,e.proxy(h,this)),l.isInput||e(document).on("mousedown.datetimepicker"+l.id,e.proxy(l.hide,this))},I=function(){l.widget.off("click",".datepicker *",l.click),l.widget.off("click","[data-action]"),l.widget.off("mousedown",l.stopEvent),l.options.pickDate&&l.options.pickTime&&l.widget.off("click.togglePicker"),l.isInput?l.element.off({focus:l.show,change:l.change}):(l.element.off({change:l.change},"input"),l.component?l.component.off("click",l.show):l.element.off("click",l.show))},D=function(){e(window).off("resize.datetimepicker"+l.id),l.isInput||e(document).off("mousedown.datetimepicker"+l.id)},O=function(){if(l.element){var t,n=l.element.parents(),i=!1;for(t=0;t<n.length;t++)if("fixed"==e(n[t]).css("position")){i=!0;break}return i}return!1},N=function(){o.lang(l.options.language);var e="";l.unset||(e=o(l.date).format(l.format)),u().val(e),l.element.data("date",e),l.options.pickTime||l.hide()},R=function(e,t,n){o.lang(l.options.language);var i;return"add"==e?(i=o(l.date),23==i.hours()&&i.add(n,t),i.add(n,t)):i=o(l.date).subtract(n,t),F(o(i.subtract(n,t)))||F(i)?void f(i.format(l.format)):("add"==e?l.date.add(n,t):l.date.subtract(n,t),void(l.unset=!1))},F=function(e){return o.lang(l.options.language),e.isAfter(l.options.maxDate)||e.isBefore(l.options.minDate)?!0:l.options.disabledDates===!1?!1:l.options.disabledDates[o(e).format("YYYY-MM-DD")]===!0},$=function(e){return o.lang(l.options.language),l.options.enabledDates===!1?!0:l.options.enabledDates[o(e).format("YYYY-MM-DD")]===!0},j=function(e){var t={},n=0;for(i=0;i<e.length;i++)dDate=o(e[i]),dDate.isValid()&&(t[dDate.format("YYYY-MM-DD")]=!0,n++);return n>0?t:!1},L=function(e){return e=e.toString(),e.length>=2?e:"0"+e},B=function(){if(l.options.pickDate&&l.options.pickTime){var e="";return e='<div class="bootstrap-datetimepicker-widget'+(l.options.sideBySide?" timepicker-sbs":"")+' dropdown-menu" style="z-index:9999 !important;">',e+=l.options.sideBySide?'<div class="row"><div class="col-sm-6 datepicker">'+q.template+'</div><div class="col-sm-6 timepicker">'+z.getTemplate()+"</div></div>":'<ul class="list-unstyled"><li'+(l.options.collapse?' class="collapse in"':"")+'><div class="datepicker">'+q.template+'</div></li><li class="picker-switch accordion-toggle"><a class="btn" style="width:100%"><span class="'+l.options.icons.time+'"></span></a></li><li'+(l.options.collapse?' class="collapse"':"")+'><div class="timepicker">'+z.getTemplate()+"</div></li></ul>",e+="</div>"}return l.options.pickTime?'<div class="bootstrap-datetimepicker-widget dropdown-menu"><div class="timepicker">'+z.getTemplate()+"</div></div>":'<div class="bootstrap-datetimepicker-widget dropdown-menu"><div class="datepicker">'+q.template+"</div></div>"},q={modes:[{clsName:"days",navFnc:"month",navStep:1},{clsName:"months",navFnc:"year",navStep:1},{clsName:"years",navFnc:"year",navStep:10}],headTemplate:'<thead><tr><th class="prev">&lsaquo;</th><th colspan="5" class="switch"></th><th class="next">&rsaquo;</th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>'},z={hourTemplate:'<span data-action="showHours"   data-time-component="hours"   class="timepicker-hour"></span>',minuteTemplate:'<span data-action="showMinutes" data-time-component="minutes" class="timepicker-minute"></span>',secondTemplate:'<span data-action="showSeconds"  data-time-component="seconds" class="timepicker-second"></span>'};q.template='<div class="datepicker-days"><table class="table-condensed">'+q.headTemplate+'<tbody></tbody></table></div><div class="datepicker-months"><table class="table-condensed">'+q.headTemplate+q.contTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+q.headTemplate+q.contTemplate+"</table></div>",z.getTemplate=function(){return'<div class="timepicker-picker"><table class="table-condensed"><tr><td><a href="#" class="btn" data-action="incrementHours"><span class="'+l.options.icons.up+'"></span></a></td><td class="separator"></td><td>'+(l.options.useMinutes?'<a href="#" class="btn" data-action="incrementMinutes"><span class="'+l.options.icons.up+'"></span></a>':"")+"</td>"+(l.options.useSeconds?'<td class="separator"></td><td><a href="#" class="btn" data-action="incrementSeconds"><span class="'+l.options.icons.up+'"></span></a></td>':"")+(l.use24hours?"":'<td class="separator"></td>')+'</tr><tr><td> <a href="#" class="btn">'+z.hourTemplate+'</a></td> <td class="separator">:</td><td> <a href="#" class="btn">'+(l.options.useMinutes?z.minuteTemplate:'<span class="timepicker-minute">00</span>')+"</a></td> "+(l.options.useSeconds?'<td class="separator">:</td><td>'+z.secondTemplate+"</td>":"")+(l.use24hours?"":'<td class="separator"></td><td><button type="button" class="btn btn-primary" data-action="togglePeriod"></button></td>')+'</tr><tr><td><a href="#" class="btn" data-action="decrementHours"><span class="'+l.options.icons.down+'"></span></a></td><td class="separator"></td><td>'+(l.options.useMinutes?'<a href="#" class="btn" data-action="decrementMinutes"><span class="'+l.options.icons.down+'"></span></a>':"")+"</td>"+(l.options.useSeconds?'<td class="separator"></td><td><a href="#" class="btn" data-action="decrementSeconds"><span class="'+l.options.icons.down+'"></span></a></td>':"")+(l.use24hours?"":'<td class="separator"></td>')+'</tr></table></div><div class="timepicker-hours" data-action="selectHour"><table class="table-condensed"></table></div><div class="timepicker-minutes" data-action="selectMinute"><table class="table-condensed"></table></div>'+(l.options.useSeconds?'<div class="timepicker-seconds" data-action="selectSecond"><table class="table-condensed"></table></div>':"")
},l.destroy=function(){I(),D(),l.widget.remove(),l.element.removeData("DateTimePicker"),l.component&&l.component.removeData("DateTimePicker")},l.show=function(e){if(l.options.useCurrent&&""==u().val())if(1!==l.options.minuteStepping){var t=o(),n=l.options.minuteStepping;t.minutes(Math.round(t.minutes()/n)*n%60).seconds(0),l.setValue(t.format(l.format))}else l.setValue(o().format(l.format));l.widget.hasClass("picker-open")?(l.widget.hide(),l.widget.removeClass("picker-open")):(l.widget.show(),l.widget.addClass("picker-open")),l.height=l.component?l.component.outerHeight():l.element.outerHeight(),h(),l.element.trigger({type:"dp.show",date:o(l.date)}),A(),e&&T(e)},l.disable=function(){var e=l.element.find("input");e.prop("disabled")||(e.prop("disabled",!0),I())},l.enable=function(){var e=l.element.find("input");e.prop("disabled")&&(e.prop("disabled",!1),M())},l.hide=function(t){if(!t||!e(t.target).is(l.element.attr("id"))){var n,i,r=l.widget.find(".collapse");for(n=0;n<r.length;n++)if(i=r.eq(n).data("collapse"),i&&i.date-transitioning)return;l.widget.hide(),l.widget.removeClass("picker-open"),l.viewMode=l.startViewMode,P(),l.element.trigger({type:"dp.hide",date:o(l.date)}),D()}},l.setValue=function(e){o.lang(l.options.language),e?l.unset=!1:(l.unset=!0,N()),o.isMoment(e)||(e=o(e,l.format)),e.isValid()?(l.date=e,N(),l.viewDate=o({y:l.date.year(),M:l.date.month()}),y(),C()):f(e)},l.getDate=function(){return l.unset?null:l.date},l.setDate=function(e){var t=o(l.date);l.setValue(e?e:null),p(t,"function")},l.setDisabledDates=function(e){l.options.disabledDates=j(e),l.viewDate&&m()},l.setEnabledDates=function(e){l.options.enabledDates=j(e),l.viewDate&&m()},l.setMaxDate=function(e){void 0!=e&&(l.options.maxDate=o(e),l.viewDate&&m())},l.setMinDate=function(e){void 0!=e&&(l.options.minDate=o(e),l.viewDate&&m())},c()};e.fn.datetimepicker=function(t){return this.each(function(){var n=e(this),i=n.data("DateTimePicker");i||n.data("DateTimePicker",new r(this,t))})},e.fn.datetimepicker.defaults={pickDate:!0,pickTime:!0,useMinutes:!0,useSeconds:!1,useCurrent:!0,minuteStepping:1,minDate:new o({y:1900}),maxDate:(new o).add(100,"y"),showToday:!0,collapse:!0,language:"en",defaultDate:"",disabledDates:!1,enabledDates:!1,icons:{},useStrict:!1,direction:"auto",sideBySide:!1,daysOfWeekDisabled:!1}}),function(e){"function"==typeof define&&define.amd?define("datetimepicker_lang_pt_BR",["moment"],e):"object"==typeof exports?module.exports=e(require("../moment")):e(window.moment)}(function(e){return e.lang("pt-br",{months:"Janeiro_Fevereiro_Março_Abril_Maio_Junho_Julho_Agosto_Setembro_Outubro_Novembro_Dezembro".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),weekdays:"Domingo_Segunda-feira_Terça-feira_Quarta-feira_Quinta-feira_Sexta-feira_Sábado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_Sáb".split("_"),weekdaysMin:"Dom_2ª_3ª_4ª_5ª_6ª_Sáb".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY LT",LLLL:"dddd, D [de] MMMM [de] YYYY LT"},calendar:{sameDay:"[Hoje às] LT",nextDay:"[Amanhã às] LT",nextWeek:"dddd [às] LT",lastDay:"[Ontem às] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[Último] dddd [às] LT":"[Última] dddd [às] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"%s atrás",s:"segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um mês",MM:"%d meses",y:"um ano",yy:"%d anos"},ordinal:"%dº"})}),function(e){define("jqueryUI",[],function(){return function(){!function(e,t){function n(t,n){var o,r,s,a=t.nodeName.toLowerCase();return"area"===a?(o=t.parentNode,r=o.name,t.href&&r&&"map"===o.nodeName.toLowerCase()?(s=e("img[usemap=#"+r+"]")[0],!!s&&i(s)):!1):(/input|select|textarea|button|object/.test(a)?!t.disabled:"a"===a?t.href||n:n)&&i(t)}function i(t){return e.expr.filters.visible(t)&&!e(t).parents().addBack().filter(function(){return"hidden"===e.css(this,"visibility")}).length}var o=0,r=/^ui-id-\d+$/;e.ui=e.ui||{},e.extend(e.ui,{version:"1.10.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({focus:function(t){return function(n,i){return"number"==typeof n?this.each(function(){var t=this;setTimeout(function(){e(t).focus(),i&&i.call(t)},n)}):t.apply(this,arguments)}}(e.fn.focus),scrollParent:function(){var t;return t=e.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(e.css(this,"position"))&&/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!t.length?e(document):t},zIndex:function(n){if(n!==t)return this.css("zIndex",n);if(this.length)for(var i,o,r=e(this[0]);r.length&&r[0]!==document;){if(i=r.css("position"),("absolute"===i||"relative"===i||"fixed"===i)&&(o=parseInt(r.css("zIndex"),10),!isNaN(o)&&0!==o))return o;r=r.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++o)})},removeUniqueId:function(){return this.each(function(){r.test(this.id)&&e(this).removeAttr("id")})}}),e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(n){return!!e.data(n,t)}}):function(t,n,i){return!!e.data(t,i[3])},focusable:function(t){return n(t,!isNaN(e.attr(t,"tabindex")))},tabbable:function(t){var i=e.attr(t,"tabindex"),o=isNaN(i);return(o||i>=0)&&n(t,!o)}}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],function(n,i){function o(t,n,i,o){return e.each(r,function(){n-=parseFloat(e.css(t,"padding"+this))||0,i&&(n-=parseFloat(e.css(t,"border"+this+"Width"))||0),o&&(n-=parseFloat(e.css(t,"margin"+this))||0)}),n}var r="Width"===i?["Left","Right"]:["Top","Bottom"],s=i.toLowerCase(),a={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+i]=function(n){return n===t?a["inner"+i].call(this):this.each(function(){e(this).css(s,o(this,n)+"px")})},e.fn["outer"+i]=function(t,n){return"number"!=typeof t?a["outer"+i].call(this,t):this.each(function(){e(this).css(s,o(this,t,!0,n)+"px")})}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(e.fn.removeData=function(t){return function(n){return arguments.length?t.call(this,e.camelCase(n)):t.call(this)}}(e.fn.removeData)),e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),e.support.selectstart="onselectstart"in document.createElement("div"),e.fn.extend({disableSelection:function(){return this.bind((e.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(e){e.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),e.extend(e.ui,{plugin:{add:function(t,n,i){var o,r=e.ui[t].prototype;for(o in i)r.plugins[o]=r.plugins[o]||[],r.plugins[o].push([n,i[o]])},call:function(e,t,n){var i,o=e.plugins[t];if(o&&e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType)for(i=0;o.length>i;i++)e.options[o[i][0]]&&o[i][1].apply(e.element,n)}},hasScroll:function(t,n){if("hidden"===e(t).css("overflow"))return!1;var i=n&&"left"===n?"scrollLeft":"scrollTop",o=!1;return t[i]>0?!0:(t[i]=1,o=t[i]>0,t[i]=0,o)}})}(jQuery),function(e,t){var n=0,i=Array.prototype.slice,o=e.cleanData;e.cleanData=function(t){for(var n,i=0;null!=(n=t[i]);i++)try{e(n).triggerHandler("remove")}catch(r){}o(t)},e.widget=function(n,i,o){var r,s,a,l,c={},u=n.split(".")[0];n=n.split(".")[1],r=u+"-"+n,o||(o=i,i=e.Widget),e.expr[":"][r.toLowerCase()]=function(t){return!!e.data(t,r)},e[u]=e[u]||{},s=e[u][n],a=e[u][n]=function(e,n){return this._createWidget?(arguments.length&&this._createWidget(e,n),t):new a(e,n)},e.extend(a,s,{version:o.version,_proto:e.extend({},o),_childConstructors:[]}),l=new i,l.options=e.widget.extend({},l.options),e.each(o,function(n,o){return e.isFunction(o)?(c[n]=function(){var e=function(){return i.prototype[n].apply(this,arguments)},t=function(e){return i.prototype[n].apply(this,e)};return function(){var n,i=this._super,r=this._superApply;return this._super=e,this._superApply=t,n=o.apply(this,arguments),this._super=i,this._superApply=r,n}}(),t):(c[n]=o,t)}),a.prototype=e.widget.extend(l,{widgetEventPrefix:s?l.widgetEventPrefix||n:n},c,{constructor:a,namespace:u,widgetName:n,widgetFullName:r}),s?(e.each(s._childConstructors,function(t,n){var i=n.prototype;e.widget(i.namespace+"."+i.widgetName,a,n._proto)}),delete s._childConstructors):i._childConstructors.push(a),e.widget.bridge(n,a)},e.widget.extend=function(n){for(var o,r,s=i.call(arguments,1),a=0,l=s.length;l>a;a++)for(o in s[a])r=s[a][o],s[a].hasOwnProperty(o)&&r!==t&&(n[o]=e.isPlainObject(r)?e.isPlainObject(n[o])?e.widget.extend({},n[o],r):e.widget.extend({},r):r);return n},e.widget.bridge=function(n,o){var r=o.prototype.widgetFullName||n;e.fn[n]=function(s){var a="string"==typeof s,l=i.call(arguments,1),c=this;return s=!a&&l.length?e.widget.extend.apply(null,[s].concat(l)):s,this.each(a?function(){var i,o=e.data(this,r);return o?e.isFunction(o[s])&&"_"!==s.charAt(0)?(i=o[s].apply(o,l),i!==o&&i!==t?(c=i&&i.jquery?c.pushStack(i.get()):i,!1):t):e.error("no such method '"+s+"' for "+n+" widget instance"):e.error("cannot call methods on "+n+" prior to initialization; attempted to call method '"+s+"'")}:function(){var t=e.data(this,r);t?t.option(s||{})._init():e.data(this,r,new o(s,this))}),c}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,i){i=e(i||this.defaultElement||this)[0],this.element=e(i),this.uuid=n++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this.bindings=e(),this.hoverable=e(),this.focusable=e(),i!==this&&(e.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===i&&this.destroy()}}),this.document=e(i.style?i.ownerDocument:i.document||i),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(n,i){var o,r,s,a=n;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof n)if(a={},o=n.split("."),n=o.shift(),o.length){for(r=a[n]=e.widget.extend({},this.options[n]),s=0;o.length-1>s;s++)r[o[s]]=r[o[s]]||{},r=r[o[s]];if(n=o.pop(),1===arguments.length)return r[n]===t?null:r[n];r[n]=i}else{if(1===arguments.length)return this.options[n]===t?null:this.options[n];a[n]=i}return this._setOptions(a),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!t).attr("aria-disabled",t),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(n,i,o){var r,s=this;"boolean"!=typeof n&&(o=i,i=n,n=!1),o?(i=r=e(i),this.bindings=this.bindings.add(i)):(o=i,i=this.element,r=this.widget()),e.each(o,function(o,a){function l(){return n||s.options.disabled!==!0&&!e(this).hasClass("ui-state-disabled")?("string"==typeof a?s[a]:a).apply(s,arguments):t}"string"!=typeof a&&(l.guid=a.guid=a.guid||l.guid||e.guid++);var c=o.match(/^(\w+)\s*(.*)$/),u=c[1]+s.eventNamespace,d=c[2];d?r.delegate(d,u,l):i.bind(u,l)})},_off:function(e,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(t).undelegate(t)},_delay:function(e,t){function n(){return("string"==typeof e?i[e]:e).apply(i,arguments)}var i=this;return setTimeout(n,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,n,i){var o,r,s=this.options[t];if(i=i||{},n=e.Event(n),n.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),n.target=this.element[0],r=n.originalEvent)for(o in r)o in n||(n[o]=r[o]);return this.element.trigger(n,i),!(e.isFunction(s)&&s.apply(this.element[0],[n].concat(i))===!1||n.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,n){e.Widget.prototype["_"+t]=function(i,o,r){"string"==typeof o&&(o={effect:o});var s,a=o?o===!0||"number"==typeof o?n:o.effect||n:t;o=o||{},"number"==typeof o&&(o={duration:o}),s=!e.isEmptyObject(o),o.complete=r,o.delay&&i.delay(o.delay),s&&e.effects&&e.effects.effect[a]?i[t](o):a!==t&&i[a]?i[a](o.duration,o.easing,r):i.queue(function(n){e(this)[t](),r&&r.call(i[0]),n()})}})}(jQuery),function(e){var t=!1;e(document).mouseup(function(){t=!1}),e.widget("ui.mouse",{version:"1.10.4",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).bind("click."+this.widgetName,function(n){return!0===e.data(n.target,t.widgetName+".preventClickEvent")?(e.removeData(n.target,t.widgetName+".preventClickEvent"),n.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(n){if(!t){this._mouseStarted&&this._mouseUp(n),this._mouseDownEvent=n;var i=this,o=1===n.which,r="string"==typeof this.options.cancel&&n.target.nodeName?e(n.target).closest(this.options.cancel).length:!1;return o&&!r&&this._mouseCapture(n)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){i.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(n)&&this._mouseDelayMet(n)&&(this._mouseStarted=this._mouseStart(n)!==!1,!this._mouseStarted)?(n.preventDefault(),!0):(!0===e.data(n.target,this.widgetName+".preventClickEvent")&&e.removeData(n.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return i._mouseMove(e)},this._mouseUpDelegate=function(e){return i._mouseUp(e)},e(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),n.preventDefault(),t=!0,!0)):!0}},_mouseMove:function(t){return e.ui.ie&&(!document.documentMode||9>document.documentMode)&&!t.button?this._mouseUp(t):this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,t)!==!1,this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(t){return e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&e.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),!1},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}(jQuery),function(e){e.widget("ui.draggable",e.ui.mouse,{version:"1.10.4",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"!==this.options.helper||/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy()},_mouseCapture:function(t){var n=this.options;return this.helper||n.disabled||e(t.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(t),this.handle?(e(n.iframeFix===!0?"iframe":n.iframeFix).each(function(){e("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(e(this).offset()).appendTo("body")}),!0):!1)},_mouseStart:function(t){var n=this.options;return this.helper=this._createHelper(t),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),e.ui.ddmanager&&(e.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offsetParent=this.helper.offsetParent(),this.offsetParentCssPosition=this.offsetParent.css("position"),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},this.offset.scroll=!1,e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,n.cursorAt&&this._adjustOffsetFromHelper(n.cursorAt),this._setContainment(),this._trigger("start",t)===!1?(this._clear(),!1):(this._cacheHelperProportions(),e.ui.ddmanager&&!n.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this._mouseDrag(t,!0),e.ui.ddmanager&&e.ui.ddmanager.dragStart(this,t),!0)},_mouseDrag:function(t,n){if("fixed"===this.offsetParentCssPosition&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),!n){var i=this._uiHash();if(this._trigger("drag",t,i)===!1)return this._mouseUp({}),!1;this.position=i.position}return this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var n=this,i=!1;return e.ui.ddmanager&&!this.options.dropBehaviour&&(i=e.ui.ddmanager.drop(this,t)),this.dropped&&(i=this.dropped,this.dropped=!1),"original"!==this.options.helper||e.contains(this.element[0].ownerDocument,this.element[0])?("invalid"===this.options.revert&&!i||"valid"===this.options.revert&&i||this.options.revert===!0||e.isFunction(this.options.revert)&&this.options.revert.call(this.element,i)?e(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){n._trigger("stop",t)!==!1&&n._clear()}):this._trigger("stop",t)!==!1&&this._clear(),!1):!1},_mouseUp:function(t){return e("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),e.ui.ddmanager&&e.ui.ddmanager.dragStop(this,t),e.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(t){return this.options.handle?!!e(t.target).closest(this.element.find(this.options.handle)).length:!0},_createHelper:function(t){var n=this.options,i=e.isFunction(n.helper)?e(n.helper.apply(this.element[0],[t])):"clone"===n.helper?this.element.clone().removeAttr("id"):this.element;return i.parents("body").length||i.appendTo("parent"===n.appendTo?this.element[0].parentNode:n.appendTo),i[0]===this.element[0]||/(fixed|absolute)/.test(i.css("position"))||i.css("position","absolute"),i},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){var t=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&e.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var e=this.element.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,n,i,o=this.options;return o.containment?"window"===o.containment?void(this.containment=[e(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,e(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,e(window).scrollLeft()+e(window).width()-this.helperProportions.width-this.margins.left,e(window).scrollTop()+(e(window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):"document"===o.containment?void(this.containment=[0,0,e(document).width()-this.helperProportions.width-this.margins.left,(e(document).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):o.containment.constructor===Array?void(this.containment=o.containment):("parent"===o.containment&&(o.containment=this.helper[0].parentNode),n=e(o.containment),i=n[0],void(i&&(t="hidden"!==n.css("overflow"),this.containment=[(parseInt(n.css("borderLeftWidth"),10)||0)+(parseInt(n.css("paddingLeft"),10)||0),(parseInt(n.css("borderTopWidth"),10)||0)+(parseInt(n.css("paddingTop"),10)||0),(t?Math.max(i.scrollWidth,i.offsetWidth):i.offsetWidth)-(parseInt(n.css("borderRightWidth"),10)||0)-(parseInt(n.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(t?Math.max(i.scrollHeight,i.offsetHeight):i.offsetHeight)-(parseInt(n.css("borderBottomWidth"),10)||0)-(parseInt(n.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=n))):void(this.containment=null)},_convertPositionTo:function(t,n){n||(n=this.position);var i="absolute"===t?1:-1,o="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent;return this.offset.scroll||(this.offset.scroll={top:o.scrollTop(),left:o.scrollLeft()}),{top:n.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top)*i,left:n.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)*i}},_generatePosition:function(t){var n,i,o,r,s=this.options,a="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=t.pageX,c=t.pageY;return this.offset.scroll||(this.offset.scroll={top:a.scrollTop(),left:a.scrollLeft()}),this.originalPosition&&(this.containment&&(this.relative_container?(i=this.relative_container.offset(),n=[this.containment[0]+i.left,this.containment[1]+i.top,this.containment[2]+i.left,this.containment[3]+i.top]):n=this.containment,t.pageX-this.offset.click.left<n[0]&&(l=n[0]+this.offset.click.left),t.pageY-this.offset.click.top<n[1]&&(c=n[1]+this.offset.click.top),t.pageX-this.offset.click.left>n[2]&&(l=n[2]+this.offset.click.left),t.pageY-this.offset.click.top>n[3]&&(c=n[3]+this.offset.click.top)),s.grid&&(o=s.grid[1]?this.originalPageY+Math.round((c-this.originalPageY)/s.grid[1])*s.grid[1]:this.originalPageY,c=n?o-this.offset.click.top>=n[1]||o-this.offset.click.top>n[3]?o:o-this.offset.click.top>=n[1]?o-s.grid[1]:o+s.grid[1]:o,r=s.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/s.grid[0])*s.grid[0]:this.originalPageX,l=n?r-this.offset.click.left>=n[0]||r-this.offset.click.left>n[2]?r:r-this.offset.click.left>=n[0]?r-s.grid[0]:r+s.grid[0]:r)),{top:c-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(t,n,i){return i=i||this._uiHash(),e.ui.plugin.call(this,t,[n,i]),"drag"===t&&(this.positionAbs=this._convertPositionTo("absolute")),e.Widget.prototype._trigger.call(this,t,n,i)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),e.ui.plugin.add("draggable","connectToSortable",{start:function(t,n){var i=e(this).data("ui-draggable"),o=i.options,r=e.extend({},n,{item:i.element});i.sortables=[],e(o.connectToSortable).each(function(){var n=e.data(this,"ui-sortable");n&&!n.options.disabled&&(i.sortables.push({instance:n,shouldRevert:n.options.revert}),n.refreshPositions(),n._trigger("activate",t,r))})},stop:function(t,n){var i=e(this).data("ui-draggable"),o=e.extend({},n,{item:i.element});e.each(i.sortables,function(){this.instance.isOver?(this.instance.isOver=0,i.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=this.shouldRevert),this.instance._mouseStop(t),this.instance.options.helper=this.instance.options._helper,"original"===i.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",t,o))})},drag:function(t,n){var i=e(this).data("ui-draggable"),o=this;e.each(i.sortables,function(){var r=!1,s=this;this.instance.positionAbs=i.positionAbs,this.instance.helperProportions=i.helperProportions,this.instance.offset.click=i.offset.click,this.instance._intersectsWith(this.instance.containerCache)&&(r=!0,e.each(i.sortables,function(){return this.instance.positionAbs=i.positionAbs,this.instance.helperProportions=i.helperProportions,this.instance.offset.click=i.offset.click,this!==s&&this.instance._intersectsWith(this.instance.containerCache)&&e.contains(s.instance.element[0],this.instance.element[0])&&(r=!1),r})),r?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=e(o).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return n.helper[0]},t.target=this.instance.currentItem[0],this.instance._mouseCapture(t,!0),this.instance._mouseStart(t,!0,!0),this.instance.offset.click.top=i.offset.click.top,this.instance.offset.click.left=i.offset.click.left,this.instance.offset.parent.left-=i.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=i.offset.parent.top-this.instance.offset.parent.top,i._trigger("toSortable",t),i.dropped=this.instance.element,i.currentItem=i.element,this.instance.fromOutside=i),this.instance.currentItem&&this.instance._mouseDrag(t)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",t,this.instance._uiHash(this.instance)),this.instance._mouseStop(t,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),i._trigger("fromSortable",t),i.dropped=!1)})}}),e.ui.plugin.add("draggable","cursor",{start:function(){var t=e("body"),n=e(this).data("ui-draggable").options;t.css("cursor")&&(n._cursor=t.css("cursor")),t.css("cursor",n.cursor)},stop:function(){var t=e(this).data("ui-draggable").options;t._cursor&&e("body").css("cursor",t._cursor)}}),e.ui.plugin.add("draggable","opacity",{start:function(t,n){var i=e(n.helper),o=e(this).data("ui-draggable").options;i.css("opacity")&&(o._opacity=i.css("opacity")),i.css("opacity",o.opacity)},stop:function(t,n){var i=e(this).data("ui-draggable").options;i._opacity&&e(n.helper).css("opacity",i._opacity)}}),e.ui.plugin.add("draggable","scroll",{start:function(){var t=e(this).data("ui-draggable");t.scrollParent[0]!==document&&"HTML"!==t.scrollParent[0].tagName&&(t.overflowOffset=t.scrollParent.offset())},drag:function(t){var n=e(this).data("ui-draggable"),i=n.options,o=!1;n.scrollParent[0]!==document&&"HTML"!==n.scrollParent[0].tagName?(i.axis&&"x"===i.axis||(n.overflowOffset.top+n.scrollParent[0].offsetHeight-t.pageY<i.scrollSensitivity?n.scrollParent[0].scrollTop=o=n.scrollParent[0].scrollTop+i.scrollSpeed:t.pageY-n.overflowOffset.top<i.scrollSensitivity&&(n.scrollParent[0].scrollTop=o=n.scrollParent[0].scrollTop-i.scrollSpeed)),i.axis&&"y"===i.axis||(n.overflowOffset.left+n.scrollParent[0].offsetWidth-t.pageX<i.scrollSensitivity?n.scrollParent[0].scrollLeft=o=n.scrollParent[0].scrollLeft+i.scrollSpeed:t.pageX-n.overflowOffset.left<i.scrollSensitivity&&(n.scrollParent[0].scrollLeft=o=n.scrollParent[0].scrollLeft-i.scrollSpeed))):(i.axis&&"x"===i.axis||(t.pageY-e(document).scrollTop()<i.scrollSensitivity?o=e(document).scrollTop(e(document).scrollTop()-i.scrollSpeed):e(window).height()-(t.pageY-e(document).scrollTop())<i.scrollSensitivity&&(o=e(document).scrollTop(e(document).scrollTop()+i.scrollSpeed))),i.axis&&"y"===i.axis||(t.pageX-e(document).scrollLeft()<i.scrollSensitivity?o=e(document).scrollLeft(e(document).scrollLeft()-i.scrollSpeed):e(window).width()-(t.pageX-e(document).scrollLeft())<i.scrollSensitivity&&(o=e(document).scrollLeft(e(document).scrollLeft()+i.scrollSpeed)))),o!==!1&&e.ui.ddmanager&&!i.dropBehaviour&&e.ui.ddmanager.prepareOffsets(n,t)
}}),e.ui.plugin.add("draggable","snap",{start:function(){var t=e(this).data("ui-draggable"),n=t.options;t.snapElements=[],e(n.snap.constructor!==String?n.snap.items||":data(ui-draggable)":n.snap).each(function(){var n=e(this),i=n.offset();this!==t.element[0]&&t.snapElements.push({item:this,width:n.outerWidth(),height:n.outerHeight(),top:i.top,left:i.left})})},drag:function(t,n){var i,o,r,s,a,l,c,u,d,h,p=e(this).data("ui-draggable"),f=p.options,m=f.snapTolerance,g=n.offset.left,v=g+p.helperProportions.width,y=n.offset.top,b=y+p.helperProportions.height;for(d=p.snapElements.length-1;d>=0;d--)a=p.snapElements[d].left,l=a+p.snapElements[d].width,c=p.snapElements[d].top,u=c+p.snapElements[d].height,a-m>v||g>l+m||c-m>b||y>u+m||!e.contains(p.snapElements[d].item.ownerDocument,p.snapElements[d].item)?(p.snapElements[d].snapping&&p.options.snap.release&&p.options.snap.release.call(p.element,t,e.extend(p._uiHash(),{snapItem:p.snapElements[d].item})),p.snapElements[d].snapping=!1):("inner"!==f.snapMode&&(i=m>=Math.abs(c-b),o=m>=Math.abs(u-y),r=m>=Math.abs(a-v),s=m>=Math.abs(l-g),i&&(n.position.top=p._convertPositionTo("relative",{top:c-p.helperProportions.height,left:0}).top-p.margins.top),o&&(n.position.top=p._convertPositionTo("relative",{top:u,left:0}).top-p.margins.top),r&&(n.position.left=p._convertPositionTo("relative",{top:0,left:a-p.helperProportions.width}).left-p.margins.left),s&&(n.position.left=p._convertPositionTo("relative",{top:0,left:l}).left-p.margins.left)),h=i||o||r||s,"outer"!==f.snapMode&&(i=m>=Math.abs(c-y),o=m>=Math.abs(u-b),r=m>=Math.abs(a-g),s=m>=Math.abs(l-v),i&&(n.position.top=p._convertPositionTo("relative",{top:c,left:0}).top-p.margins.top),o&&(n.position.top=p._convertPositionTo("relative",{top:u-p.helperProportions.height,left:0}).top-p.margins.top),r&&(n.position.left=p._convertPositionTo("relative",{top:0,left:a}).left-p.margins.left),s&&(n.position.left=p._convertPositionTo("relative",{top:0,left:l-p.helperProportions.width}).left-p.margins.left)),!p.snapElements[d].snapping&&(i||o||r||s||h)&&p.options.snap.snap&&p.options.snap.snap.call(p.element,t,e.extend(p._uiHash(),{snapItem:p.snapElements[d].item})),p.snapElements[d].snapping=i||o||r||s||h)}}),e.ui.plugin.add("draggable","stack",{start:function(){var t,n=this.data("ui-draggable").options,i=e.makeArray(e(n.stack)).sort(function(t,n){return(parseInt(e(t).css("zIndex"),10)||0)-(parseInt(e(n).css("zIndex"),10)||0)});i.length&&(t=parseInt(e(i[0]).css("zIndex"),10)||0,e(i).each(function(n){e(this).css("zIndex",t+n)}),this.css("zIndex",t+i.length))}}),e.ui.plugin.add("draggable","zIndex",{start:function(t,n){var i=e(n.helper),o=e(this).data("ui-draggable").options;i.css("zIndex")&&(o._zIndex=i.css("zIndex")),i.css("zIndex",o.zIndex)},stop:function(t,n){var i=e(this).data("ui-draggable").options;i._zIndex&&e(n.helper).css("zIndex",i._zIndex)}})}(jQuery),function(e){function t(e,t,n){return e>t&&t+n>e}e.widget("ui.droppable",{version:"1.10.4",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var t,n=this.options,i=n.accept;this.isover=!1,this.isout=!0,this.accept=e.isFunction(i)?i:function(e){return e.is(i)},this.proportions=function(){return arguments.length?void(t=arguments[0]):t?t:t={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight}},e.ui.ddmanager.droppables[n.scope]=e.ui.ddmanager.droppables[n.scope]||[],e.ui.ddmanager.droppables[n.scope].push(this),n.addClasses&&this.element.addClass("ui-droppable")},_destroy:function(){for(var t=0,n=e.ui.ddmanager.droppables[this.options.scope];n.length>t;t++)n[t]===this&&n.splice(t,1);this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(t,n){"accept"===t&&(this.accept=e.isFunction(n)?n:function(e){return e.is(n)}),e.Widget.prototype._setOption.apply(this,arguments)},_activate:function(t){var n=e.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),n&&this._trigger("activate",t,this.ui(n))},_deactivate:function(t){var n=e.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),n&&this._trigger("deactivate",t,this.ui(n))},_over:function(t){var n=e.ui.ddmanager.current;n&&(n.currentItem||n.element)[0]!==this.element[0]&&this.accept.call(this.element[0],n.currentItem||n.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",t,this.ui(n)))},_out:function(t){var n=e.ui.ddmanager.current;n&&(n.currentItem||n.element)[0]!==this.element[0]&&this.accept.call(this.element[0],n.currentItem||n.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",t,this.ui(n)))},_drop:function(t,n){var i=n||e.ui.ddmanager.current,o=!1;return i&&(i.currentItem||i.element)[0]!==this.element[0]?(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var t=e.data(this,"ui-droppable");return t.options.greedy&&!t.options.disabled&&t.options.scope===i.options.scope&&t.accept.call(t.element[0],i.currentItem||i.element)&&e.ui.intersect(i,e.extend(t,{offset:t.element.offset()}),t.options.tolerance)?(o=!0,!1):void 0}),o?!1:this.accept.call(this.element[0],i.currentItem||i.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",t,this.ui(i)),this.element):!1):!1},ui:function(e){return{draggable:e.currentItem||e.element,helper:e.helper,position:e.position,offset:e.positionAbs}}}),e.ui.intersect=function(e,n,i){if(!n.offset)return!1;var o,r,s=(e.positionAbs||e.position.absolute).left,a=(e.positionAbs||e.position.absolute).top,l=s+e.helperProportions.width,c=a+e.helperProportions.height,u=n.offset.left,d=n.offset.top,h=u+n.proportions().width,p=d+n.proportions().height;switch(i){case"fit":return s>=u&&h>=l&&a>=d&&p>=c;case"intersect":return s+e.helperProportions.width/2>u&&h>l-e.helperProportions.width/2&&a+e.helperProportions.height/2>d&&p>c-e.helperProportions.height/2;case"pointer":return o=(e.positionAbs||e.position.absolute).left+(e.clickOffset||e.offset.click).left,r=(e.positionAbs||e.position.absolute).top+(e.clickOffset||e.offset.click).top,t(r,d,n.proportions().height)&&t(o,u,n.proportions().width);case"touch":return(a>=d&&p>=a||c>=d&&p>=c||d>a&&c>p)&&(s>=u&&h>=s||l>=u&&h>=l||u>s&&l>h);default:return!1}},e.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(t,n){var i,o,r=e.ui.ddmanager.droppables[t.options.scope]||[],s=n?n.type:null,a=(t.currentItem||t.element).find(":data(ui-droppable)").addBack();e:for(i=0;r.length>i;i++)if(!(r[i].options.disabled||t&&!r[i].accept.call(r[i].element[0],t.currentItem||t.element))){for(o=0;a.length>o;o++)if(a[o]===r[i].element[0]){r[i].proportions().height=0;continue e}r[i].visible="none"!==r[i].element.css("display"),r[i].visible&&("mousedown"===s&&r[i]._activate.call(r[i],n),r[i].offset=r[i].element.offset(),r[i].proportions({width:r[i].element[0].offsetWidth,height:r[i].element[0].offsetHeight}))}},drop:function(t,n){var i=!1;return e.each((e.ui.ddmanager.droppables[t.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&e.ui.intersect(t,this,this.options.tolerance)&&(i=this._drop.call(this,n)||i),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,n)))}),i},dragStart:function(t,n){t.element.parentsUntil("body").bind("scroll.droppable",function(){t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,n)})},drag:function(t,n){t.options.refreshPositions&&e.ui.ddmanager.prepareOffsets(t,n),e.each(e.ui.ddmanager.droppables[t.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var i,o,r,s=e.ui.intersect(t,this,this.options.tolerance),a=!s&&this.isover?"isout":s&&!this.isover?"isover":null;a&&(this.options.greedy&&(o=this.options.scope,r=this.element.parents(":data(ui-droppable)").filter(function(){return e.data(this,"ui-droppable").options.scope===o}),r.length&&(i=e.data(r[0],"ui-droppable"),i.greedyChild="isover"===a)),i&&"isover"===a&&(i.isover=!1,i.isout=!0,i._out.call(i,n)),this[a]=!0,this["isout"===a?"isover":"isout"]=!1,this["isover"===a?"_over":"_out"].call(this,n),i&&"isout"===a&&(i.isout=!1,i.isover=!0,i._over.call(i,n)))}})},dragStop:function(t,n){t.element.parentsUntil("body").unbind("scroll.droppable"),t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,n)}}}(jQuery),function(e){function t(e){return parseInt(e,10)||0}function n(e){return!isNaN(parseInt(e,10))}e.widget("ui.resizable",e.ui.mouse,{version:"1.10.4",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_create:function(){var t,n,i,o,r,s=this,a=this.options;if(this.element.addClass("ui-resizable"),e.extend(this,{_aspectRatio:!!a.aspectRatio,aspectRatio:a.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:a.helper||a.ghost||a.animate?a.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(e("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.data("ui-resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=a.handles||(e(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),t=this.handles.split(","),this.handles={},n=0;t.length>n;n++)i=e.trim(t[n]),r="ui-resizable-"+i,o=e("<div class='ui-resizable-handle "+r+"'></div>"),o.css({zIndex:a.zIndex}),"se"===i&&o.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[i]=".ui-resizable-"+i,this.element.append(o);this._renderAxis=function(t){var n,i,o,r;t=t||this.element;for(n in this.handles)this.handles[n].constructor===String&&(this.handles[n]=e(this.handles[n],this.element).show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)&&(i=e(this.handles[n],this.element),r=/sw|ne|nw|se|n|s/.test(n)?i.outerHeight():i.outerWidth(),o=["padding",/ne|nw|n/.test(n)?"Top":/se|sw|s/.test(n)?"Bottom":/^e$/.test(n)?"Right":"Left"].join(""),t.css(o,r),this._proportionallyResize()),e(this.handles[n]).length},this._renderAxis(this.element),this._handles=e(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){s.resizing||(this.className&&(o=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),s.axis=o&&o[1]?o[1]:"se")}),a.autoHide&&(this._handles.hide(),e(this.element).addClass("ui-resizable-autohide").mouseenter(function(){a.disabled||(e(this).removeClass("ui-resizable-autohide"),s._handles.show())}).mouseleave(function(){a.disabled||s.resizing||(e(this).addClass("ui-resizable-autohide"),s._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var t,n=function(t){e(t).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(n(this.element),t=this.element,this.originalElement.css({position:t.css("position"),width:t.outerWidth(),height:t.outerHeight(),top:t.css("top"),left:t.css("left")}).insertAfter(t),t.remove()),this.originalElement.css("resize",this.originalResizeStyle),n(this.originalElement),this},_mouseCapture:function(t){var n,i,o=!1;for(n in this.handles)i=e(this.handles[n])[0],(i===t.target||e.contains(i,t.target))&&(o=!0);return!this.options.disabled&&o},_mouseStart:function(n){var i,o,r,s=this.options,a=this.element.position(),l=this.element;return this.resizing=!0,/absolute/.test(l.css("position"))?l.css({position:"absolute",top:l.css("top"),left:l.css("left")}):l.is(".ui-draggable")&&l.css({position:"absolute",top:a.top,left:a.left}),this._renderProxy(),i=t(this.helper.css("left")),o=t(this.helper.css("top")),s.containment&&(i+=e(s.containment).scrollLeft()||0,o+=e(s.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:i,top:o},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:l.width(),height:l.height()},this.originalSize=this._helper?{width:l.outerWidth(),height:l.outerHeight()}:{width:l.width(),height:l.height()},this.originalPosition={left:i,top:o},this.sizeDiff={width:l.outerWidth()-l.width(),height:l.outerHeight()-l.height()},this.originalMousePosition={left:n.pageX,top:n.pageY},this.aspectRatio="number"==typeof s.aspectRatio?s.aspectRatio:this.originalSize.width/this.originalSize.height||1,r=e(".ui-resizable-"+this.axis).css("cursor"),e("body").css("cursor","auto"===r?this.axis+"-resize":r),l.addClass("ui-resizable-resizing"),this._propagate("start",n),!0},_mouseDrag:function(t){var n,i=this.helper,o={},r=this.originalMousePosition,s=this.axis,a=this.position.top,l=this.position.left,c=this.size.width,u=this.size.height,d=t.pageX-r.left||0,h=t.pageY-r.top||0,p=this._change[s];return p?(n=p.apply(this,[t,d,h]),this._updateVirtualBoundaries(t.shiftKey),(this._aspectRatio||t.shiftKey)&&(n=this._updateRatio(n,t)),n=this._respectSize(n,t),this._updateCache(n),this._propagate("resize",t),this.position.top!==a&&(o.top=this.position.top+"px"),this.position.left!==l&&(o.left=this.position.left+"px"),this.size.width!==c&&(o.width=this.size.width+"px"),this.size.height!==u&&(o.height=this.size.height+"px"),i.css(o),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),e.isEmptyObject(o)||this._trigger("resize",t,this.ui()),!1):!1},_mouseStop:function(t){this.resizing=!1;var n,i,o,r,s,a,l,c=this.options,u=this;return this._helper&&(n=this._proportionallyResizeElements,i=n.length&&/textarea/i.test(n[0].nodeName),o=i&&e.ui.hasScroll(n[0],"left")?0:u.sizeDiff.height,r=i?0:u.sizeDiff.width,s={width:u.helper.width()-r,height:u.helper.height()-o},a=parseInt(u.element.css("left"),10)+(u.position.left-u.originalPosition.left)||null,l=parseInt(u.element.css("top"),10)+(u.position.top-u.originalPosition.top)||null,c.animate||this.element.css(e.extend(s,{top:l,left:a})),u.helper.height(u.size.height),u.helper.width(u.size.width),this._helper&&!c.animate&&this._proportionallyResize()),e("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updateVirtualBoundaries:function(e){var t,i,o,r,s,a=this.options;s={minWidth:n(a.minWidth)?a.minWidth:0,maxWidth:n(a.maxWidth)?a.maxWidth:1/0,minHeight:n(a.minHeight)?a.minHeight:0,maxHeight:n(a.maxHeight)?a.maxHeight:1/0},(this._aspectRatio||e)&&(t=s.minHeight*this.aspectRatio,o=s.minWidth/this.aspectRatio,i=s.maxHeight*this.aspectRatio,r=s.maxWidth/this.aspectRatio,t>s.minWidth&&(s.minWidth=t),o>s.minHeight&&(s.minHeight=o),s.maxWidth>i&&(s.maxWidth=i),s.maxHeight>r&&(s.maxHeight=r)),this._vBoundaries=s},_updateCache:function(e){this.offset=this.helper.offset(),n(e.left)&&(this.position.left=e.left),n(e.top)&&(this.position.top=e.top),n(e.height)&&(this.size.height=e.height),n(e.width)&&(this.size.width=e.width)},_updateRatio:function(e){var t=this.position,i=this.size,o=this.axis;return n(e.height)?e.width=e.height*this.aspectRatio:n(e.width)&&(e.height=e.width/this.aspectRatio),"sw"===o&&(e.left=t.left+(i.width-e.width),e.top=null),"nw"===o&&(e.top=t.top+(i.height-e.height),e.left=t.left+(i.width-e.width)),e},_respectSize:function(e){var t=this._vBoundaries,i=this.axis,o=n(e.width)&&t.maxWidth&&t.maxWidth<e.width,r=n(e.height)&&t.maxHeight&&t.maxHeight<e.height,s=n(e.width)&&t.minWidth&&t.minWidth>e.width,a=n(e.height)&&t.minHeight&&t.minHeight>e.height,l=this.originalPosition.left+this.originalSize.width,c=this.position.top+this.size.height,u=/sw|nw|w/.test(i),d=/nw|ne|n/.test(i);return s&&(e.width=t.minWidth),a&&(e.height=t.minHeight),o&&(e.width=t.maxWidth),r&&(e.height=t.maxHeight),s&&u&&(e.left=l-t.minWidth),o&&u&&(e.left=l-t.maxWidth),a&&d&&(e.top=c-t.minHeight),r&&d&&(e.top=c-t.maxHeight),e.width||e.height||e.left||!e.top?e.width||e.height||e.top||!e.left||(e.left=null):e.top=null,e},_proportionallyResize:function(){if(this._proportionallyResizeElements.length){var e,t,n,i,o,r=this.helper||this.element;for(e=0;this._proportionallyResizeElements.length>e;e++){if(o=this._proportionallyResizeElements[e],!this.borderDif)for(this.borderDif=[],n=[o.css("borderTopWidth"),o.css("borderRightWidth"),o.css("borderBottomWidth"),o.css("borderLeftWidth")],i=[o.css("paddingTop"),o.css("paddingRight"),o.css("paddingBottom"),o.css("paddingLeft")],t=0;n.length>t;t++)this.borderDif[t]=(parseInt(n[t],10)||0)+(parseInt(i[t],10)||0);o.css({height:r.height()-this.borderDif[0]-this.borderDif[2]||0,width:r.width()-this.borderDif[1]-this.borderDif[3]||0})}}},_renderProxy:function(){var t=this.element,n=this.options;this.elementOffset=t.offset(),this._helper?(this.helper=this.helper||e("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++n.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(e,t){return{width:this.originalSize.width+t}},w:function(e,t){var n=this.originalSize,i=this.originalPosition;return{left:i.left+t,width:n.width-t}},n:function(e,t,n){var i=this.originalSize,o=this.originalPosition;return{top:o.top+n,height:i.height-n}},s:function(e,t,n){return{height:this.originalSize.height+n}},se:function(t,n,i){return e.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,n,i]))},sw:function(t,n,i){return e.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,n,i]))},ne:function(t,n,i){return e.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,n,i]))},nw:function(t,n,i){return e.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,n,i]))}},_propagate:function(t,n){e.ui.plugin.call(this,t,[n,this.ui()]),"resize"!==t&&this._trigger(t,n,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),e.ui.plugin.add("resizable","animate",{stop:function(t){var n=e(this).data("ui-resizable"),i=n.options,o=n._proportionallyResizeElements,r=o.length&&/textarea/i.test(o[0].nodeName),s=r&&e.ui.hasScroll(o[0],"left")?0:n.sizeDiff.height,a=r?0:n.sizeDiff.width,l={width:n.size.width-a,height:n.size.height-s},c=parseInt(n.element.css("left"),10)+(n.position.left-n.originalPosition.left)||null,u=parseInt(n.element.css("top"),10)+(n.position.top-n.originalPosition.top)||null;n.element.animate(e.extend(l,u&&c?{top:u,left:c}:{}),{duration:i.animateDuration,easing:i.animateEasing,step:function(){var i={width:parseInt(n.element.css("width"),10),height:parseInt(n.element.css("height"),10),top:parseInt(n.element.css("top"),10),left:parseInt(n.element.css("left"),10)};o&&o.length&&e(o[0]).css({width:i.width,height:i.height}),n._updateCache(i),n._propagate("resize",t)}})}}),e.ui.plugin.add("resizable","containment",{start:function(){var n,i,o,r,s,a,l,c=e(this).data("ui-resizable"),u=c.options,d=c.element,h=u.containment,p=h instanceof e?h.get(0):/parent/.test(h)?d.parent().get(0):h;p&&(c.containerElement=e(p),/document/.test(h)||h===document?(c.containerOffset={left:0,top:0},c.containerPosition={left:0,top:0},c.parentData={element:e(document),left:0,top:0,width:e(document).width(),height:e(document).height()||document.body.parentNode.scrollHeight}):(n=e(p),i=[],e(["Top","Right","Left","Bottom"]).each(function(e,o){i[e]=t(n.css("padding"+o))}),c.containerOffset=n.offset(),c.containerPosition=n.position(),c.containerSize={height:n.innerHeight()-i[3],width:n.innerWidth()-i[1]},o=c.containerOffset,r=c.containerSize.height,s=c.containerSize.width,a=e.ui.hasScroll(p,"left")?p.scrollWidth:s,l=e.ui.hasScroll(p)?p.scrollHeight:r,c.parentData={element:p,left:o.left,top:o.top,width:a,height:l}))},resize:function(t){var n,i,o,r,s=e(this).data("ui-resizable"),a=s.options,l=s.containerOffset,c=s.position,u=s._aspectRatio||t.shiftKey,d={top:0,left:0},h=s.containerElement;h[0]!==document&&/static/.test(h.css("position"))&&(d=l),c.left<(s._helper?l.left:0)&&(s.size.width=s.size.width+(s._helper?s.position.left-l.left:s.position.left-d.left),u&&(s.size.height=s.size.width/s.aspectRatio),s.position.left=a.helper?l.left:0),c.top<(s._helper?l.top:0)&&(s.size.height=s.size.height+(s._helper?s.position.top-l.top:s.position.top),u&&(s.size.width=s.size.height*s.aspectRatio),s.position.top=s._helper?l.top:0),s.offset.left=s.parentData.left+s.position.left,s.offset.top=s.parentData.top+s.position.top,n=Math.abs((s._helper?s.offset.left-d.left:s.offset.left-d.left)+s.sizeDiff.width),i=Math.abs((s._helper?s.offset.top-d.top:s.offset.top-l.top)+s.sizeDiff.height),o=s.containerElement.get(0)===s.element.parent().get(0),r=/relative|absolute/.test(s.containerElement.css("position")),o&&r&&(n-=Math.abs(s.parentData.left)),n+s.size.width>=s.parentData.width&&(s.size.width=s.parentData.width-n,u&&(s.size.height=s.size.width/s.aspectRatio)),i+s.size.height>=s.parentData.height&&(s.size.height=s.parentData.height-i,u&&(s.size.width=s.size.height*s.aspectRatio))},stop:function(){var t=e(this).data("ui-resizable"),n=t.options,i=t.containerOffset,o=t.containerPosition,r=t.containerElement,s=e(t.helper),a=s.offset(),l=s.outerWidth()-t.sizeDiff.width,c=s.outerHeight()-t.sizeDiff.height;t._helper&&!n.animate&&/relative/.test(r.css("position"))&&e(this).css({left:a.left-o.left-i.left,width:l,height:c}),t._helper&&!n.animate&&/static/.test(r.css("position"))&&e(this).css({left:a.left-o.left-i.left,width:l,height:c})}}),e.ui.plugin.add("resizable","alsoResize",{start:function(){var t=e(this).data("ui-resizable"),n=t.options,i=function(t){e(t).each(function(){var t=e(this);t.data("ui-resizable-alsoresize",{width:parseInt(t.width(),10),height:parseInt(t.height(),10),left:parseInt(t.css("left"),10),top:parseInt(t.css("top"),10)})})};"object"!=typeof n.alsoResize||n.alsoResize.parentNode?i(n.alsoResize):n.alsoResize.length?(n.alsoResize=n.alsoResize[0],i(n.alsoResize)):e.each(n.alsoResize,function(e){i(e)})},resize:function(t,n){var i=e(this).data("ui-resizable"),o=i.options,r=i.originalSize,s=i.originalPosition,a={height:i.size.height-r.height||0,width:i.size.width-r.width||0,top:i.position.top-s.top||0,left:i.position.left-s.left||0},l=function(t,i){e(t).each(function(){var t=e(this),o=e(this).data("ui-resizable-alsoresize"),r={},s=i&&i.length?i:t.parents(n.originalElement[0]).length?["width","height"]:["width","height","top","left"];e.each(s,function(e,t){var n=(o[t]||0)+(a[t]||0);n&&n>=0&&(r[t]=n||null)}),t.css(r)})};"object"!=typeof o.alsoResize||o.alsoResize.nodeType?l(o.alsoResize):e.each(o.alsoResize,function(e,t){l(e,t)})},stop:function(){e(this).removeData("resizable-alsoresize")}}),e.ui.plugin.add("resizable","ghost",{start:function(){var t=e(this).data("ui-resizable"),n=t.options,i=t.size;t.ghost=t.originalElement.clone(),t.ghost.css({opacity:.25,display:"block",position:"relative",height:i.height,width:i.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof n.ghost?n.ghost:""),t.ghost.appendTo(t.helper)},resize:function(){var t=e(this).data("ui-resizable");t.ghost&&t.ghost.css({position:"relative",height:t.size.height,width:t.size.width})},stop:function(){var t=e(this).data("ui-resizable");t.ghost&&t.helper&&t.helper.get(0).removeChild(t.ghost.get(0))}}),e.ui.plugin.add("resizable","grid",{resize:function(){var t=e(this).data("ui-resizable"),n=t.options,i=t.size,o=t.originalSize,r=t.originalPosition,s=t.axis,a="number"==typeof n.grid?[n.grid,n.grid]:n.grid,l=a[0]||1,c=a[1]||1,u=Math.round((i.width-o.width)/l)*l,d=Math.round((i.height-o.height)/c)*c,h=o.width+u,p=o.height+d,f=n.maxWidth&&h>n.maxWidth,m=n.maxHeight&&p>n.maxHeight,g=n.minWidth&&n.minWidth>h,v=n.minHeight&&n.minHeight>p;n.grid=a,g&&(h+=l),v&&(p+=c),f&&(h-=l),m&&(p-=c),/^(se|s|e)$/.test(s)?(t.size.width=h,t.size.height=p):/^(ne)$/.test(s)?(t.size.width=h,t.size.height=p,t.position.top=r.top-d):/^(sw)$/.test(s)?(t.size.width=h,t.size.height=p,t.position.left=r.left-u):(p-c>0?(t.size.height=p,t.position.top=r.top-d):(t.size.height=c,t.position.top=r.top+o.height-c),h-l>0?(t.size.width=h,t.position.left=r.left-u):(t.size.width=l,t.position.left=r.left+o.width-l))}})}(jQuery),function(e){e.widget("ui.selectable",e.ui.mouse,{version:"1.10.4",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var t,n=this;this.element.addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){t=e(n.options.filter,n.element[0]),t.addClass("ui-selectee"),t.each(function(){var t=e(this),n=t.offset();e.data(this,"selectable-item",{element:this,$element:t,left:n.left,top:n.top,right:n.left+t.outerWidth(),bottom:n.top+t.outerHeight(),startselected:!1,selected:t.hasClass("ui-selected"),selecting:t.hasClass("ui-selecting"),unselecting:t.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=t.addClass("ui-selectee"),this._mouseInit(),this.helper=e("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled"),this._mouseDestroy()},_mouseStart:function(t){var n=this,i=this.options;this.opos=[t.pageX,t.pageY],this.options.disabled||(this.selectees=e(i.filter,this.element[0]),this._trigger("start",t),e(i.appendTo).append(this.helper),this.helper.css({left:t.pageX,top:t.pageY,width:0,height:0}),i.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var i=e.data(this,"selectable-item");i.startselected=!0,t.metaKey||t.ctrlKey||(i.$element.removeClass("ui-selected"),i.selected=!1,i.$element.addClass("ui-unselecting"),i.unselecting=!0,n._trigger("unselecting",t,{unselecting:i.element}))}),e(t.target).parents().addBack().each(function(){var i,o=e.data(this,"selectable-item");return o?(i=!t.metaKey&&!t.ctrlKey||!o.$element.hasClass("ui-selected"),o.$element.removeClass(i?"ui-unselecting":"ui-selected").addClass(i?"ui-selecting":"ui-unselecting"),o.unselecting=!i,o.selecting=i,o.selected=i,i?n._trigger("selecting",t,{selecting:o.element}):n._trigger("unselecting",t,{unselecting:o.element}),!1):void 0}))},_mouseDrag:function(t){if(this.dragged=!0,!this.options.disabled){var n,i=this,o=this.options,r=this.opos[0],s=this.opos[1],a=t.pageX,l=t.pageY;return r>a&&(n=a,a=r,r=n),s>l&&(n=l,l=s,s=n),this.helper.css({left:r,top:s,width:a-r,height:l-s}),this.selectees.each(function(){var n=e.data(this,"selectable-item"),c=!1;n&&n.element!==i.element[0]&&("touch"===o.tolerance?c=!(n.left>a||r>n.right||n.top>l||s>n.bottom):"fit"===o.tolerance&&(c=n.left>r&&a>n.right&&n.top>s&&l>n.bottom),c?(n.selected&&(n.$element.removeClass("ui-selected"),n.selected=!1),n.unselecting&&(n.$element.removeClass("ui-unselecting"),n.unselecting=!1),n.selecting||(n.$element.addClass("ui-selecting"),n.selecting=!0,i._trigger("selecting",t,{selecting:n.element}))):(n.selecting&&((t.metaKey||t.ctrlKey)&&n.startselected?(n.$element.removeClass("ui-selecting"),n.selecting=!1,n.$element.addClass("ui-selected"),n.selected=!0):(n.$element.removeClass("ui-selecting"),n.selecting=!1,n.startselected&&(n.$element.addClass("ui-unselecting"),n.unselecting=!0),i._trigger("unselecting",t,{unselecting:n.element}))),n.selected&&(t.metaKey||t.ctrlKey||n.startselected||(n.$element.removeClass("ui-selected"),n.selected=!1,n.$element.addClass("ui-unselecting"),n.unselecting=!0,i._trigger("unselecting",t,{unselecting:n.element})))))}),!1}},_mouseStop:function(t){var n=this;return this.dragged=!1,e(".ui-unselecting",this.element[0]).each(function(){var i=e.data(this,"selectable-item");i.$element.removeClass("ui-unselecting"),i.unselecting=!1,i.startselected=!1,n._trigger("unselected",t,{unselected:i.element})}),e(".ui-selecting",this.element[0]).each(function(){var i=e.data(this,"selectable-item");i.$element.removeClass("ui-selecting").addClass("ui-selected"),i.selecting=!1,i.selected=!0,i.startselected=!0,n._trigger("selected",t,{selected:i.element})}),this._trigger("stop",t),this.helper.remove(),!1}})}(jQuery),function(e){function t(e,t,n){return e>t&&t+n>e}function n(e){return/left|right/.test(e.css("float"))||/inline|table-cell/.test(e.css("display"))}e.widget("ui.sortable",e.ui.mouse,{version:"1.10.4",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_create:function(){var e=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=this.items.length?"x"===e.axis||n(this.items[0].item):!1,this.offset=this.element.offset(),this._mouseInit(),this.ready=!0},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled"),this._mouseDestroy();for(var e=this.items.length-1;e>=0;e--)this.items[e].item.removeData(this.widgetName+"-item");return this},_setOption:function(t,n){"disabled"===t?(this.options[t]=n,this.widget().toggleClass("ui-sortable-disabled",!!n)):e.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(t,n){var i=null,o=!1,r=this;return this.reverting?!1:this.options.disabled||"static"===this.options.type?!1:(this._refreshItems(t),e(t.target).parents().each(function(){return e.data(this,r.widgetName+"-item")===r?(i=e(this),!1):void 0}),e.data(t.target,r.widgetName+"-item")===r&&(i=e(t.target)),i&&(!this.options.handle||n||(e(this.options.handle,i).find("*").addBack().each(function(){this===t.target&&(o=!0)}),o))?(this.currentItem=i,this._removeCurrentsFromItems(),!0):!1)},_mouseStart:function(t,n,i){var o,r,s=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,s.cursorAt&&this._adjustOffsetFromHelper(s.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),s.containment&&this._setContainment(),s.cursor&&"auto"!==s.cursor&&(r=this.document.find("body"),this.storedCursor=r.css("cursor"),r.css("cursor",s.cursor),this.storedStylesheet=e("<style>*{ cursor: "+s.cursor+" !important; }</style>").appendTo(r)),s.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",s.opacity)),s.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",s.zIndex)),this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!i)for(o=this.containers.length-1;o>=0;o--)this.containers[o]._trigger("activate",t,this._uiHash(this));
return e.ui.ddmanager&&(e.ui.ddmanager.current=this),e.ui.ddmanager&&!s.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(t),!0},_mouseDrag:function(t){var n,i,o,r,s=this.options,a=!1;for(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<s.scrollSensitivity?this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop+s.scrollSpeed:t.pageY-this.overflowOffset.top<s.scrollSensitivity&&(this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop-s.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<s.scrollSensitivity?this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft+s.scrollSpeed:t.pageX-this.overflowOffset.left<s.scrollSensitivity&&(this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft-s.scrollSpeed)):(t.pageY-e(document).scrollTop()<s.scrollSensitivity?a=e(document).scrollTop(e(document).scrollTop()-s.scrollSpeed):e(window).height()-(t.pageY-e(document).scrollTop())<s.scrollSensitivity&&(a=e(document).scrollTop(e(document).scrollTop()+s.scrollSpeed)),t.pageX-e(document).scrollLeft()<s.scrollSensitivity?a=e(document).scrollLeft(e(document).scrollLeft()-s.scrollSpeed):e(window).width()-(t.pageX-e(document).scrollLeft())<s.scrollSensitivity&&(a=e(document).scrollLeft(e(document).scrollLeft()+s.scrollSpeed))),a!==!1&&e.ui.ddmanager&&!s.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),n=this.items.length-1;n>=0;n--)if(i=this.items[n],o=i.item[0],r=this._intersectsWithPointer(i),r&&i.instance===this.currentContainer&&o!==this.currentItem[0]&&this.placeholder[1===r?"next":"prev"]()[0]!==o&&!e.contains(this.placeholder[0],o)&&("semi-dynamic"===this.options.type?!e.contains(this.element[0],o):!0)){if(this.direction=1===r?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(i))break;this._rearrange(t,i),this._trigger("change",t,this._uiHash());break}return this._contactContainers(t),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,n){if(t){if(e.ui.ddmanager&&!this.options.dropBehaviour&&e.ui.ddmanager.drop(this,t),this.options.revert){var i=this,o=this.placeholder.offset(),r=this.options.axis,s={};r&&"x"!==r||(s.left=o.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft)),r&&"y"!==r||(s.top=o.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,e(this.helper).animate(s,parseInt(this.options.revert,10)||500,function(){i._clear(t)})}else this._clear(t,n);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var t=this.containers.length-1;t>=0;t--)this.containers[t]._trigger("deactivate",null,this._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",null,this._uiHash(this)),this.containers[t].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),e.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?e(this.domPosition.prev).after(this.currentItem):e(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(t){var n=this._getItemsAsjQuery(t&&t.connected),i=[];return t=t||{},e(n).each(function(){var n=(e(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[\-=_](.+)/);n&&i.push((t.key||n[1]+"[]")+"="+(t.key&&t.expression?n[1]:n[2]))}),!i.length&&t.key&&i.push(t.key+"="),i.join("&")},toArray:function(t){var n=this._getItemsAsjQuery(t&&t.connected),i=[];return t=t||{},n.each(function(){i.push(e(t.item||this).attr(t.attribute||"id")||"")}),i},_intersectsWith:function(e){var t=this.positionAbs.left,n=t+this.helperProportions.width,i=this.positionAbs.top,o=i+this.helperProportions.height,r=e.left,s=r+e.width,a=e.top,l=a+e.height,c=this.offset.click.top,u=this.offset.click.left,d="x"===this.options.axis||i+c>a&&l>i+c,h="y"===this.options.axis||t+u>r&&s>t+u,p=d&&h;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>e[this.floating?"width":"height"]?p:t+this.helperProportions.width/2>r&&s>n-this.helperProportions.width/2&&i+this.helperProportions.height/2>a&&l>o-this.helperProportions.height/2},_intersectsWithPointer:function(e){var n="x"===this.options.axis||t(this.positionAbs.top+this.offset.click.top,e.top,e.height),i="y"===this.options.axis||t(this.positionAbs.left+this.offset.click.left,e.left,e.width),o=n&&i,r=this._getDragVerticalDirection(),s=this._getDragHorizontalDirection();return o?this.floating?s&&"right"===s||"down"===r?2:1:r&&("down"===r?2:1):!1},_intersectsWithSides:function(e){var n=t(this.positionAbs.top+this.offset.click.top,e.top+e.height/2,e.height),i=t(this.positionAbs.left+this.offset.click.left,e.left+e.width/2,e.width),o=this._getDragVerticalDirection(),r=this._getDragHorizontalDirection();return this.floating&&r?"right"===r&&i||"left"===r&&!i:o&&("down"===o&&n||"up"===o&&!n)},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return 0!==e&&(e>0?"down":"up")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return 0!==e&&(e>0?"right":"left")},refresh:function(e){return this._refreshItems(e),this.refreshPositions(),this},_connectWith:function(){var e=this.options;return e.connectWith.constructor===String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(t){function n(){a.push(this)}var i,o,r,s,a=[],l=[],c=this._connectWith();if(c&&t)for(i=c.length-1;i>=0;i--)for(r=e(c[i]),o=r.length-1;o>=0;o--)s=e.data(r[o],this.widgetFullName),s&&s!==this&&!s.options.disabled&&l.push([e.isFunction(s.options.items)?s.options.items.call(s.element):e(s.options.items,s.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),s]);for(l.push([e.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):e(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),i=l.length-1;i>=0;i--)l[i][0].each(n);return e(a)},_removeCurrentsFromItems:function(){var t=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=e.grep(this.items,function(e){for(var n=0;t.length>n;n++)if(t[n]===e.item[0])return!1;return!0})},_refreshItems:function(t){this.items=[],this.containers=[this];var n,i,o,r,s,a,l,c,u=this.items,d=[[e.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):e(this.options.items,this.element),this]],h=this._connectWith();if(h&&this.ready)for(n=h.length-1;n>=0;n--)for(o=e(h[n]),i=o.length-1;i>=0;i--)r=e.data(o[i],this.widgetFullName),r&&r!==this&&!r.options.disabled&&(d.push([e.isFunction(r.options.items)?r.options.items.call(r.element[0],t,{item:this.currentItem}):e(r.options.items,r.element),r]),this.containers.push(r));for(n=d.length-1;n>=0;n--)for(s=d[n][1],a=d[n][0],i=0,c=a.length;c>i;i++)l=e(a[i]),l.data(this.widgetName+"-item",s),u.push({item:l,instance:s,width:0,height:0,left:0,top:0})},refreshPositions:function(t){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var n,i,o,r;for(n=this.items.length-1;n>=0;n--)i=this.items[n],i.instance!==this.currentContainer&&this.currentContainer&&i.item[0]!==this.currentItem[0]||(o=this.options.toleranceElement?e(this.options.toleranceElement,i.item):i.item,t||(i.width=o.outerWidth(),i.height=o.outerHeight()),r=o.offset(),i.left=r.left,i.top=r.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(n=this.containers.length-1;n>=0;n--)r=this.containers[n].element.offset(),this.containers[n].containerCache.left=r.left,this.containers[n].containerCache.top=r.top,this.containers[n].containerCache.width=this.containers[n].element.outerWidth(),this.containers[n].containerCache.height=this.containers[n].element.outerHeight();return this},_createPlaceholder:function(t){t=t||this;var n,i=t.options;i.placeholder&&i.placeholder.constructor!==String||(n=i.placeholder,i.placeholder={element:function(){var i=t.currentItem[0].nodeName.toLowerCase(),o=e("<"+i+">",t.document[0]).addClass(n||t.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tr"===i?t.currentItem.children().each(function(){e("<td>&#160;</td>",t.document[0]).attr("colspan",e(this).attr("colspan")||1).appendTo(o)}):"img"===i&&o.attr("src",t.currentItem.attr("src")),n||o.css("visibility","hidden"),o},update:function(e,o){(!n||i.forcePlaceholderSize)&&(o.height()||o.height(t.currentItem.innerHeight()-parseInt(t.currentItem.css("paddingTop")||0,10)-parseInt(t.currentItem.css("paddingBottom")||0,10)),o.width()||o.width(t.currentItem.innerWidth()-parseInt(t.currentItem.css("paddingLeft")||0,10)-parseInt(t.currentItem.css("paddingRight")||0,10)))}}),t.placeholder=e(i.placeholder.element.call(t.element,t.currentItem)),t.currentItem.after(t.placeholder),i.placeholder.update(t,t.placeholder)},_contactContainers:function(i){var o,r,s,a,l,c,u,d,h,p,f=null,m=null;for(o=this.containers.length-1;o>=0;o--)if(!e.contains(this.currentItem[0],this.containers[o].element[0]))if(this._intersectsWith(this.containers[o].containerCache)){if(f&&e.contains(this.containers[o].element[0],f.element[0]))continue;f=this.containers[o],m=o}else this.containers[o].containerCache.over&&(this.containers[o]._trigger("out",i,this._uiHash(this)),this.containers[o].containerCache.over=0);if(f)if(1===this.containers.length)this.containers[m].containerCache.over||(this.containers[m]._trigger("over",i,this._uiHash(this)),this.containers[m].containerCache.over=1);else{for(s=1e4,a=null,p=f.floating||n(this.currentItem),l=p?"left":"top",c=p?"width":"height",u=this.positionAbs[l]+this.offset.click[l],r=this.items.length-1;r>=0;r--)e.contains(this.containers[m].element[0],this.items[r].item[0])&&this.items[r].item[0]!==this.currentItem[0]&&(!p||t(this.positionAbs.top+this.offset.click.top,this.items[r].top,this.items[r].height))&&(d=this.items[r].item.offset()[l],h=!1,Math.abs(d-u)>Math.abs(d+this.items[r][c]-u)&&(h=!0,d+=this.items[r][c]),s>Math.abs(d-u)&&(s=Math.abs(d-u),a=this.items[r],this.direction=h?"up":"down"));if(!a&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[m])return;a?this._rearrange(i,a,null,!0):this._rearrange(i,null,this.containers[m].element,!0),this._trigger("change",i,this._uiHash()),this.containers[m]._trigger("change",i,this._uiHash(this)),this.currentContainer=this.containers[m],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[m]._trigger("over",i,this._uiHash(this)),this.containers[m].containerCache.over=1}},_createHelper:function(t){var n=this.options,i=e.isFunction(n.helper)?e(n.helper.apply(this.element[0],[t,this.currentItem])):"clone"===n.helper?this.currentItem.clone():this.currentItem;return i.parents("body").length||e("parent"!==n.appendTo?n.appendTo:this.currentItem[0].parentNode)[0].appendChild(i[0]),i[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!i[0].style.width||n.forceHelperSize)&&i.width(this.currentItem.width()),(!i[0].style.height||n.forceHelperSize)&&i.height(this.currentItem.height()),i},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&e.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,n,i,o=this.options;"parent"===o.containment&&(o.containment=this.helper[0].parentNode),("document"===o.containment||"window"===o.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,e("document"===o.containment?document:window).width()-this.helperProportions.width-this.margins.left,(e("document"===o.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(o.containment)||(t=e(o.containment)[0],n=e(o.containment).offset(),i="hidden"!==e(t).css("overflow"),this.containment=[n.left+(parseInt(e(t).css("borderLeftWidth"),10)||0)+(parseInt(e(t).css("paddingLeft"),10)||0)-this.margins.left,n.top+(parseInt(e(t).css("borderTopWidth"),10)||0)+(parseInt(e(t).css("paddingTop"),10)||0)-this.margins.top,n.left+(i?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(e(t).css("borderLeftWidth"),10)||0)-(parseInt(e(t).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,n.top+(i?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(e(t).css("borderTopWidth"),10)||0)-(parseInt(e(t).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(t,n){n||(n=this.position);var i="absolute"===t?1:-1,o="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,r=/(html|body)/i.test(o[0].tagName);return{top:n.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():r?0:o.scrollTop())*i,left:n.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():r?0:o.scrollLeft())*i}},_generatePosition:function(t){var n,i,o=this.options,r=t.pageX,s=t.pageY,a="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(a[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==document&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(r=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(s=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(r=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(s=this.containment[3]+this.offset.click.top)),o.grid&&(n=this.originalPageY+Math.round((s-this.originalPageY)/o.grid[1])*o.grid[1],s=this.containment?n-this.offset.click.top>=this.containment[1]&&n-this.offset.click.top<=this.containment[3]?n:n-this.offset.click.top>=this.containment[1]?n-o.grid[1]:n+o.grid[1]:n,i=this.originalPageX+Math.round((r-this.originalPageX)/o.grid[0])*o.grid[0],r=this.containment?i-this.offset.click.left>=this.containment[0]&&i-this.offset.click.left<=this.containment[2]?i:i-this.offset.click.left>=this.containment[0]?i-o.grid[0]:i+o.grid[0]:i)),{top:s-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:a.scrollTop()),left:r-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:a.scrollLeft())}},_rearrange:function(e,t,n,i){n?n[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?t.item[0]:t.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var o=this.counter;this._delay(function(){o===this.counter&&this.refreshPositions(!i)})},_clear:function(e,t){function n(e,t,n){return function(i){n._trigger(e,i,t._uiHash(t))}}this.reverting=!1;var i,o=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(i in this._storedCSS)("auto"===this._storedCSS[i]||"static"===this._storedCSS[i])&&(this._storedCSS[i]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!t&&o.push(function(e){this._trigger("receive",e,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||t||o.push(function(e){this._trigger("update",e,this._uiHash())}),this!==this.currentContainer&&(t||(o.push(function(e){this._trigger("remove",e,this._uiHash())}),o.push(function(e){return function(t){e._trigger("receive",t,this._uiHash(this))}}.call(this,this.currentContainer)),o.push(function(e){return function(t){e._trigger("update",t,this._uiHash(this))}}.call(this,this.currentContainer)))),i=this.containers.length-1;i>=0;i--)t||o.push(n("deactivate",this,this.containers[i])),this.containers[i].containerCache.over&&(o.push(n("out",this,this.containers[i])),this.containers[i].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!t){for(this._trigger("beforeStop",e,this._uiHash()),i=0;o.length>i;i++)o[i].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!1}if(t||this._trigger("beforeStop",e,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null,!t){for(i=0;o.length>i;i++)o[i].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){e.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(t){var n=t||this;return{helper:n.helper,placeholder:n.placeholder||e([]),position:n.position,originalPosition:n.originalPosition,offset:n.positionAbs,item:n.currentItem,sender:t?t.element:null}}})}(jQuery),function(e,t){var n="ui-effects-";e.effects={effect:{}},function(e,t){function n(e,t,n){var i=d[t.type]||{};return null==e?n||!t.def?null:t.def:(e=i.floor?~~e:parseFloat(e),isNaN(e)?t.def:i.mod?(e+i.mod)%i.mod:0>e?0:e>i.max?i.max:e)}function i(n){var i=c(),o=i._rgba=[];return n=n.toLowerCase(),f(l,function(e,r){var s,a=r.re.exec(n),l=a&&r.parse(a),c=r.space||"rgba";return l?(s=i[c](l),i[u[c].cache]=s[u[c].cache],o=i._rgba=s._rgba,!1):t}),o.length?("0,0,0,0"===o.join()&&e.extend(o,r.transparent),i):r[n]}function o(e,t,n){return n=(n+1)%1,1>6*n?e+6*(t-e)*n:1>2*n?t:2>3*n?e+6*(t-e)*(2/3-n):e}var r,s="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",a=/^([\-+])=\s*(\d+\.?\d*)/,l=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],e[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(e){return[e[1],e[2]/100,e[3]/100,e[4]]}}],c=e.Color=function(t,n,i,o){return new e.Color.fn.parse(t,n,i,o)},u={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},d={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},h=c.support={},p=e("<p>")[0],f=e.each;p.style.cssText="background-color:rgba(1,1,1,.5)",h.rgba=p.style.backgroundColor.indexOf("rgba")>-1,f(u,function(e,t){t.cache="_"+e,t.props.alpha={idx:3,type:"percent",def:1}}),c.fn=e.extend(c.prototype,{parse:function(o,s,a,l){if(o===t)return this._rgba=[null,null,null,null],this;(o.jquery||o.nodeType)&&(o=e(o).css(s),s=t);var d=this,h=e.type(o),p=this._rgba=[];return s!==t&&(o=[o,s,a,l],h="array"),"string"===h?this.parse(i(o)||r._default):"array"===h?(f(u.rgba.props,function(e,t){p[t.idx]=n(o[t.idx],t)}),this):"object"===h?(o instanceof c?f(u,function(e,t){o[t.cache]&&(d[t.cache]=o[t.cache].slice())}):f(u,function(t,i){var r=i.cache;f(i.props,function(e,t){if(!d[r]&&i.to){if("alpha"===e||null==o[e])return;d[r]=i.to(d._rgba)}d[r][t.idx]=n(o[e],t,!0)}),d[r]&&0>e.inArray(null,d[r].slice(0,3))&&(d[r][3]=1,i.from&&(d._rgba=i.from(d[r])))}),this):t},is:function(e){var n=c(e),i=!0,o=this;return f(u,function(e,r){var s,a=n[r.cache];return a&&(s=o[r.cache]||r.to&&r.to(o._rgba)||[],f(r.props,function(e,n){return null!=a[n.idx]?i=a[n.idx]===s[n.idx]:t})),i}),i},_space:function(){var e=[],t=this;return f(u,function(n,i){t[i.cache]&&e.push(n)}),e.pop()},transition:function(e,t){var i=c(e),o=i._space(),r=u[o],s=0===this.alpha()?c("transparent"):this,a=s[r.cache]||r.to(s._rgba),l=a.slice();return i=i[r.cache],f(r.props,function(e,o){var r=o.idx,s=a[r],c=i[r],u=d[o.type]||{};null!==c&&(null===s?l[r]=c:(u.mod&&(c-s>u.mod/2?s+=u.mod:s-c>u.mod/2&&(s-=u.mod)),l[r]=n((c-s)*t+s,o)))}),this[o](l)},blend:function(t){if(1===this._rgba[3])return this;var n=this._rgba.slice(),i=n.pop(),o=c(t)._rgba;return c(e.map(n,function(e,t){return(1-i)*o[t]+i*e}))},toRgbaString:function(){var t="rgba(",n=e.map(this._rgba,function(e,t){return null==e?t>2?1:0:e});return 1===n[3]&&(n.pop(),t="rgb("),t+n.join()+")"},toHslaString:function(){var t="hsla(",n=e.map(this.hsla(),function(e,t){return null==e&&(e=t>2?1:0),t&&3>t&&(e=Math.round(100*e)+"%"),e});return 1===n[3]&&(n.pop(),t="hsl("),t+n.join()+")"},toHexString:function(t){var n=this._rgba.slice(),i=n.pop();return t&&n.push(~~(255*i)),"#"+e.map(n,function(e){return e=(e||0).toString(16),1===e.length?"0"+e:e}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),c.fn.parse.prototype=c.fn,u.hsla.to=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t,n,i=e[0]/255,o=e[1]/255,r=e[2]/255,s=e[3],a=Math.max(i,o,r),l=Math.min(i,o,r),c=a-l,u=a+l,d=.5*u;return t=l===a?0:i===a?60*(o-r)/c+360:o===a?60*(r-i)/c+120:60*(i-o)/c+240,n=0===c?0:.5>=d?c/u:c/(2-u),[Math.round(t)%360,n,d,null==s?1:s]},u.hsla.from=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t=e[0]/360,n=e[1],i=e[2],r=e[3],s=.5>=i?i*(1+n):i+n-i*n,a=2*i-s;return[Math.round(255*o(a,s,t+1/3)),Math.round(255*o(a,s,t)),Math.round(255*o(a,s,t-1/3)),r]},f(u,function(i,o){var r=o.props,s=o.cache,l=o.to,u=o.from;c.fn[i]=function(i){if(l&&!this[s]&&(this[s]=l(this._rgba)),i===t)return this[s].slice();var o,a=e.type(i),d="array"===a||"object"===a?i:arguments,h=this[s].slice();return f(r,function(e,t){var i=d["object"===a?e:t.idx];null==i&&(i=h[t.idx]),h[t.idx]=n(i,t)}),u?(o=c(u(h)),o[s]=h,o):c(h)},f(r,function(t,n){c.fn[t]||(c.fn[t]=function(o){var r,s=e.type(o),l="alpha"===t?this._hsla?"hsla":"rgba":i,c=this[l](),u=c[n.idx];return"undefined"===s?u:("function"===s&&(o=o.call(this,u),s=e.type(o)),null==o&&n.empty?this:("string"===s&&(r=a.exec(o),r&&(o=u+parseFloat(r[2])*("+"===r[1]?1:-1))),c[n.idx]=o,this[l](c)))})})}),c.hook=function(t){var n=t.split(" ");f(n,function(t,n){e.cssHooks[n]={set:function(t,o){var r,s,a="";if("transparent"!==o&&("string"!==e.type(o)||(r=i(o)))){if(o=c(r||o),!h.rgba&&1!==o._rgba[3]){for(s="backgroundColor"===n?t.parentNode:t;(""===a||"transparent"===a)&&s&&s.style;)try{a=e.css(s,"backgroundColor"),s=s.parentNode}catch(l){}o=o.blend(a&&"transparent"!==a?a:"_default")}o=o.toRgbaString()}try{t.style[n]=o}catch(l){}}},e.fx.step[n]=function(t){t.colorInit||(t.start=c(t.elem,n),t.end=c(t.end),t.colorInit=!0),e.cssHooks[n].set(t.elem,t.start.transition(t.end,t.pos))}})},c.hook(s),e.cssHooks.borderColor={expand:function(e){var t={};return f(["Top","Right","Bottom","Left"],function(n,i){t["border"+i+"Color"]=e}),t}},r=e.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(jQuery),function(){function n(t){var n,i,o=t.ownerDocument.defaultView?t.ownerDocument.defaultView.getComputedStyle(t,null):t.currentStyle,r={};if(o&&o.length&&o[0]&&o[o[0]])for(i=o.length;i--;)n=o[i],"string"==typeof o[n]&&(r[e.camelCase(n)]=o[n]);else for(n in o)"string"==typeof o[n]&&(r[n]=o[n]);return r}function i(t,n){var i,o,s={};for(i in n)o=n[i],t[i]!==o&&(r[i]||(e.fx.step[i]||!isNaN(parseFloat(o)))&&(s[i]=o));return s}var o=["add","remove","toggle"],r={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};e.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(t,n){e.fx.step[n]=function(e){("none"!==e.end&&!e.setAttr||1===e.pos&&!e.setAttr)&&(jQuery.style(e.elem,n,e.end),e.setAttr=!0)}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e.effects.animateClass=function(t,r,s,a){var l=e.speed(r,s,a);return this.queue(function(){var r,s=e(this),a=s.attr("class")||"",c=l.children?s.find("*").addBack():s;c=c.map(function(){var t=e(this);return{el:t,start:n(this)}}),r=function(){e.each(o,function(e,n){t[n]&&s[n+"Class"](t[n])})},r(),c=c.map(function(){return this.end=n(this.el[0]),this.diff=i(this.start,this.end),this}),s.attr("class",a),c=c.map(function(){var t=this,n=e.Deferred(),i=e.extend({},l,{queue:!1,complete:function(){n.resolve(t)}});return this.el.animate(this.diff,i),n.promise()}),e.when.apply(e,c.get()).done(function(){r(),e.each(arguments,function(){var t=this.el;e.each(this.diff,function(e){t.css(e,"")})}),l.complete.call(s[0])})})},e.fn.extend({addClass:function(t){return function(n,i,o,r){return i?e.effects.animateClass.call(this,{add:n},i,o,r):t.apply(this,arguments)}}(e.fn.addClass),removeClass:function(t){return function(n,i,o,r){return arguments.length>1?e.effects.animateClass.call(this,{remove:n},i,o,r):t.apply(this,arguments)}}(e.fn.removeClass),toggleClass:function(n){return function(i,o,r,s,a){return"boolean"==typeof o||o===t?r?e.effects.animateClass.call(this,o?{add:i}:{remove:i},r,s,a):n.apply(this,arguments):e.effects.animateClass.call(this,{toggle:i},o,r,s)}}(e.fn.toggleClass),switchClass:function(t,n,i,o,r){return e.effects.animateClass.call(this,{add:n,remove:t},i,o,r)}})}(),function(){function i(t,n,i,o){return e.isPlainObject(t)&&(n=t,t=t.effect),t={effect:t},null==n&&(n={}),e.isFunction(n)&&(o=n,i=null,n={}),("number"==typeof n||e.fx.speeds[n])&&(o=i,i=n,n={}),e.isFunction(i)&&(o=i,i=null),n&&e.extend(t,n),i=i||n.duration,t.duration=e.fx.off?0:"number"==typeof i?i:i in e.fx.speeds?e.fx.speeds[i]:e.fx.speeds._default,t.complete=o||n.complete,t}function o(t){return!t||"number"==typeof t||e.fx.speeds[t]?!0:"string"!=typeof t||e.effects.effect[t]?e.isFunction(t)?!0:"object"!=typeof t||t.effect?!1:!0:!0}e.extend(e.effects,{version:"1.10.4",save:function(e,t){for(var i=0;t.length>i;i++)null!==t[i]&&e.data(n+t[i],e[0].style[t[i]])},restore:function(e,i){var o,r;for(r=0;i.length>r;r++)null!==i[r]&&(o=e.data(n+i[r]),o===t&&(o=""),e.css(i[r],o))},setMode:function(e,t){return"toggle"===t&&(t=e.is(":hidden")?"show":"hide"),t},getBaseline:function(e,t){var n,i;switch(e[0]){case"top":n=0;break;case"middle":n=.5;break;case"bottom":n=1;break;default:n=e[0]/t.height}switch(e[1]){case"left":i=0;break;case"center":i=.5;break;case"right":i=1;break;default:i=e[1]/t.width}return{x:i,y:n}},createWrapper:function(t){if(t.parent().is(".ui-effects-wrapper"))return t.parent();var n={width:t.outerWidth(!0),height:t.outerHeight(!0),"float":t.css("float")},i=e("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),o={width:t.width(),height:t.height()},r=document.activeElement;try{r.id}catch(s){r=document.body}return t.wrap(i),(t[0]===r||e.contains(t[0],r))&&e(r).focus(),i=t.parent(),"static"===t.css("position")?(i.css({position:"relative"}),t.css({position:"relative"})):(e.extend(n,{position:t.css("position"),zIndex:t.css("z-index")}),e.each(["top","left","bottom","right"],function(e,i){n[i]=t.css(i),isNaN(parseInt(n[i],10))&&(n[i]="auto")}),t.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),t.css(o),i.css(n).show()},removeWrapper:function(t){var n=document.activeElement;return t.parent().is(".ui-effects-wrapper")&&(t.parent().replaceWith(t),(t[0]===n||e.contains(t[0],n))&&e(n).focus()),t},setTransition:function(t,n,i,o){return o=o||{},e.each(n,function(e,n){var r=t.cssUnit(n);r[0]>0&&(o[n]=r[0]*i+r[1])}),o}}),e.fn.extend({effect:function(){function t(t){function i(){e.isFunction(r)&&r.call(o[0]),e.isFunction(t)&&t()}var o=e(this),r=n.complete,a=n.mode;(o.is(":hidden")?"hide"===a:"show"===a)?(o[a](),i()):s.call(o[0],n,i)}var n=i.apply(this,arguments),o=n.mode,r=n.queue,s=e.effects.effect[n.effect];return e.fx.off||!s?o?this[o](n.duration,n.complete):this.each(function(){n.complete&&n.complete.call(this)}):r===!1?this.each(t):this.queue(r||"fx",t)},show:function(e){return function(t){if(o(t))return e.apply(this,arguments);var n=i.apply(this,arguments);return n.mode="show",this.effect.call(this,n)
}}(e.fn.show),hide:function(e){return function(t){if(o(t))return e.apply(this,arguments);var n=i.apply(this,arguments);return n.mode="hide",this.effect.call(this,n)}}(e.fn.hide),toggle:function(e){return function(t){if(o(t)||"boolean"==typeof t)return e.apply(this,arguments);var n=i.apply(this,arguments);return n.mode="toggle",this.effect.call(this,n)}}(e.fn.toggle),cssUnit:function(t){var n=this.css(t),i=[];return e.each(["em","px","%","pt"],function(e,t){n.indexOf(t)>0&&(i=[parseFloat(n),t])}),i}})}(),function(){var t={};e.each(["Quad","Cubic","Quart","Quint","Expo"],function(e,n){t[n]=function(t){return Math.pow(t,e+2)}}),e.extend(t,{Sine:function(e){return 1-Math.cos(e*Math.PI/2)},Circ:function(e){return 1-Math.sqrt(1-e*e)},Elastic:function(e){return 0===e||1===e?e:-Math.pow(2,8*(e-1))*Math.sin((80*(e-1)-7.5)*Math.PI/15)},Back:function(e){return e*e*(3*e-2)},Bounce:function(e){for(var t,n=4;((t=Math.pow(2,--n))-1)/11>e;);return 1/Math.pow(4,3-n)-7.5625*Math.pow((3*t-2)/22-e,2)}}),e.each(t,function(t,n){e.easing["easeIn"+t]=n,e.easing["easeOut"+t]=function(e){return 1-n(1-e)},e.easing["easeInOut"+t]=function(e){return.5>e?n(2*e)/2:1-n(-2*e+2)/2}})}()}(jQuery),function(e){var t=/up|down|vertical/,n=/up|left|vertical|horizontal/;e.effects.effect.blind=function(i,o){var r,s,a,l=e(this),c=["position","top","bottom","left","right","height","width"],u=e.effects.setMode(l,i.mode||"hide"),d=i.direction||"up",h=t.test(d),p=h?"height":"width",f=h?"top":"left",m=n.test(d),g={},v="show"===u;l.parent().is(".ui-effects-wrapper")?e.effects.save(l.parent(),c):e.effects.save(l,c),l.show(),r=e.effects.createWrapper(l).css({overflow:"hidden"}),s=r[p](),a=parseFloat(r.css(f))||0,g[p]=v?s:0,m||(l.css(h?"bottom":"right",0).css(h?"top":"left","auto").css({position:"absolute"}),g[f]=v?a:s+a),v&&(r.css(p,0),m||r.css(f,a+s)),r.animate(g,{duration:i.duration,easing:i.easing,queue:!1,complete:function(){"hide"===u&&l.hide(),e.effects.restore(l,c),e.effects.removeWrapper(l),o()}})}}(jQuery),function(e){e.effects.effect.bounce=function(t,n){var i,o,r,s=e(this),a=["position","top","bottom","left","right","height","width"],l=e.effects.setMode(s,t.mode||"effect"),c="hide"===l,u="show"===l,d=t.direction||"up",h=t.distance,p=t.times||5,f=2*p+(u||c?1:0),m=t.duration/f,g=t.easing,v="up"===d||"down"===d?"top":"left",y="up"===d||"left"===d,b=s.queue(),w=b.length;for((u||c)&&a.push("opacity"),e.effects.save(s,a),s.show(),e.effects.createWrapper(s),h||(h=s["top"===v?"outerHeight":"outerWidth"]()/3),u&&(r={opacity:1},r[v]=0,s.css("opacity",0).css(v,y?2*-h:2*h).animate(r,m,g)),c&&(h/=Math.pow(2,p-1)),r={},r[v]=0,i=0;p>i;i++)o={},o[v]=(y?"-=":"+=")+h,s.animate(o,m,g).animate(r,m,g),h=c?2*h:h/2;c&&(o={opacity:0},o[v]=(y?"-=":"+=")+h,s.animate(o,m,g)),s.queue(function(){c&&s.hide(),e.effects.restore(s,a),e.effects.removeWrapper(s),n()}),w>1&&b.splice.apply(b,[1,0].concat(b.splice(w,f+1))),s.dequeue()}}(jQuery),function(e){e.effects.effect.clip=function(t,n){var i,o,r,s=e(this),a=["position","top","bottom","left","right","height","width"],l=e.effects.setMode(s,t.mode||"hide"),c="show"===l,u=t.direction||"vertical",d="vertical"===u,h=d?"height":"width",p=d?"top":"left",f={};e.effects.save(s,a),s.show(),i=e.effects.createWrapper(s).css({overflow:"hidden"}),o="IMG"===s[0].tagName?i:s,r=o[h](),c&&(o.css(h,0),o.css(p,r/2)),f[h]=c?r:0,f[p]=c?0:r/2,o.animate(f,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){c||s.hide(),e.effects.restore(s,a),e.effects.removeWrapper(s),n()}})}}(jQuery),function(e){e.effects.effect.drop=function(t,n){var i,o=e(this),r=["position","top","bottom","left","right","opacity","height","width"],s=e.effects.setMode(o,t.mode||"hide"),a="show"===s,l=t.direction||"left",c="up"===l||"down"===l?"top":"left",u="up"===l||"left"===l?"pos":"neg",d={opacity:a?1:0};e.effects.save(o,r),o.show(),e.effects.createWrapper(o),i=t.distance||o["top"===c?"outerHeight":"outerWidth"](!0)/2,a&&o.css("opacity",0).css(c,"pos"===u?-i:i),d[c]=(a?"pos"===u?"+=":"-=":"pos"===u?"-=":"+=")+i,o.animate(d,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===s&&o.hide(),e.effects.restore(o,r),e.effects.removeWrapper(o),n()}})}}(jQuery),function(e){e.effects.effect.explode=function(t,n){function i(){b.push(this),b.length===d*h&&o()}function o(){p.css({visibility:"visible"}),e(b).remove(),m||p.hide(),n()}var r,s,a,l,c,u,d=t.pieces?Math.round(Math.sqrt(t.pieces)):3,h=d,p=e(this),f=e.effects.setMode(p,t.mode||"hide"),m="show"===f,g=p.show().css("visibility","hidden").offset(),v=Math.ceil(p.outerWidth()/h),y=Math.ceil(p.outerHeight()/d),b=[];for(r=0;d>r;r++)for(l=g.top+r*y,u=r-(d-1)/2,s=0;h>s;s++)a=g.left+s*v,c=s-(h-1)/2,p.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-s*v,top:-r*y}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:v,height:y,left:a+(m?c*v:0),top:l+(m?u*y:0),opacity:m?0:1}).animate({left:a+(m?0:c*v),top:l+(m?0:u*y),opacity:m?1:0},t.duration||500,t.easing,i)}}(jQuery),function(e){e.effects.effect.fade=function(t,n){var i=e(this),o=e.effects.setMode(i,t.mode||"toggle");i.animate({opacity:o},{queue:!1,duration:t.duration,easing:t.easing,complete:n})}}(jQuery),function(e){e.effects.effect.fold=function(t,n){var i,o,r=e(this),s=["position","top","bottom","left","right","height","width"],a=e.effects.setMode(r,t.mode||"hide"),l="show"===a,c="hide"===a,u=t.size||15,d=/([0-9]+)%/.exec(u),h=!!t.horizFirst,p=l!==h,f=p?["width","height"]:["height","width"],m=t.duration/2,g={},v={};e.effects.save(r,s),r.show(),i=e.effects.createWrapper(r).css({overflow:"hidden"}),o=p?[i.width(),i.height()]:[i.height(),i.width()],d&&(u=parseInt(d[1],10)/100*o[c?0:1]),l&&i.css(h?{height:0,width:u}:{height:u,width:0}),g[f[0]]=l?o[0]:u,v[f[1]]=l?o[1]:0,i.animate(g,m,t.easing).animate(v,m,t.easing,function(){c&&r.hide(),e.effects.restore(r,s),e.effects.removeWrapper(r),n()})}}(jQuery),function(e){e.effects.effect.highlight=function(t,n){var i=e(this),o=["backgroundImage","backgroundColor","opacity"],r=e.effects.setMode(i,t.mode||"show"),s={backgroundColor:i.css("backgroundColor")};"hide"===r&&(s.opacity=0),e.effects.save(i,o),i.show().css({backgroundImage:"none",backgroundColor:t.color||"#ffff99"}).animate(s,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===r&&i.hide(),e.effects.restore(i,o),n()}})}}(jQuery),function(e){e.effects.effect.pulsate=function(t,n){var i,o=e(this),r=e.effects.setMode(o,t.mode||"show"),s="show"===r,a="hide"===r,l=s||"hide"===r,c=2*(t.times||5)+(l?1:0),u=t.duration/c,d=0,h=o.queue(),p=h.length;for((s||!o.is(":visible"))&&(o.css("opacity",0).show(),d=1),i=1;c>i;i++)o.animate({opacity:d},u,t.easing),d=1-d;o.animate({opacity:d},u,t.easing),o.queue(function(){a&&o.hide(),n()}),p>1&&h.splice.apply(h,[1,0].concat(h.splice(p,c+1))),o.dequeue()}}(jQuery),function(e){e.effects.effect.puff=function(t,n){var i=e(this),o=e.effects.setMode(i,t.mode||"hide"),r="hide"===o,s=parseInt(t.percent,10)||150,a=s/100,l={height:i.height(),width:i.width(),outerHeight:i.outerHeight(),outerWidth:i.outerWidth()};e.extend(t,{effect:"scale",queue:!1,fade:!0,mode:o,complete:n,percent:r?s:100,from:r?l:{height:l.height*a,width:l.width*a,outerHeight:l.outerHeight*a,outerWidth:l.outerWidth*a}}),i.effect(t)},e.effects.effect.scale=function(t,n){var i=e(this),o=e.extend(!0,{},t),r=e.effects.setMode(i,t.mode||"effect"),s=parseInt(t.percent,10)||(0===parseInt(t.percent,10)?0:"hide"===r?0:100),a=t.direction||"both",l=t.origin,c={height:i.height(),width:i.width(),outerHeight:i.outerHeight(),outerWidth:i.outerWidth()},u={y:"horizontal"!==a?s/100:1,x:"vertical"!==a?s/100:1};o.effect="size",o.queue=!1,o.complete=n,"effect"!==r&&(o.origin=l||["middle","center"],o.restore=!0),o.from=t.from||("show"===r?{height:0,width:0,outerHeight:0,outerWidth:0}:c),o.to={height:c.height*u.y,width:c.width*u.x,outerHeight:c.outerHeight*u.y,outerWidth:c.outerWidth*u.x},o.fade&&("show"===r&&(o.from.opacity=0,o.to.opacity=1),"hide"===r&&(o.from.opacity=1,o.to.opacity=0)),i.effect(o)},e.effects.effect.size=function(t,n){var i,o,r,s=e(this),a=["position","top","bottom","left","right","width","height","overflow","opacity"],l=["position","top","bottom","left","right","overflow","opacity"],c=["width","height","overflow"],u=["fontSize"],d=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],h=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],p=e.effects.setMode(s,t.mode||"effect"),f=t.restore||"effect"!==p,m=t.scale||"both",g=t.origin||["middle","center"],v=s.css("position"),y=f?a:l,b={height:0,width:0,outerHeight:0,outerWidth:0};"show"===p&&s.show(),i={height:s.height(),width:s.width(),outerHeight:s.outerHeight(),outerWidth:s.outerWidth()},"toggle"===t.mode&&"show"===p?(s.from=t.to||b,s.to=t.from||i):(s.from=t.from||("show"===p?b:i),s.to=t.to||("hide"===p?b:i)),r={from:{y:s.from.height/i.height,x:s.from.width/i.width},to:{y:s.to.height/i.height,x:s.to.width/i.width}},("box"===m||"both"===m)&&(r.from.y!==r.to.y&&(y=y.concat(d),s.from=e.effects.setTransition(s,d,r.from.y,s.from),s.to=e.effects.setTransition(s,d,r.to.y,s.to)),r.from.x!==r.to.x&&(y=y.concat(h),s.from=e.effects.setTransition(s,h,r.from.x,s.from),s.to=e.effects.setTransition(s,h,r.to.x,s.to))),("content"===m||"both"===m)&&r.from.y!==r.to.y&&(y=y.concat(u).concat(c),s.from=e.effects.setTransition(s,u,r.from.y,s.from),s.to=e.effects.setTransition(s,u,r.to.y,s.to)),e.effects.save(s,y),s.show(),e.effects.createWrapper(s),s.css("overflow","hidden").css(s.from),g&&(o=e.effects.getBaseline(g,i),s.from.top=(i.outerHeight-s.outerHeight())*o.y,s.from.left=(i.outerWidth-s.outerWidth())*o.x,s.to.top=(i.outerHeight-s.to.outerHeight)*o.y,s.to.left=(i.outerWidth-s.to.outerWidth)*o.x),s.css(s.from),("content"===m||"both"===m)&&(d=d.concat(["marginTop","marginBottom"]).concat(u),h=h.concat(["marginLeft","marginRight"]),c=a.concat(d).concat(h),s.find("*[width]").each(function(){var n=e(this),i={height:n.height(),width:n.width(),outerHeight:n.outerHeight(),outerWidth:n.outerWidth()};f&&e.effects.save(n,c),n.from={height:i.height*r.from.y,width:i.width*r.from.x,outerHeight:i.outerHeight*r.from.y,outerWidth:i.outerWidth*r.from.x},n.to={height:i.height*r.to.y,width:i.width*r.to.x,outerHeight:i.height*r.to.y,outerWidth:i.width*r.to.x},r.from.y!==r.to.y&&(n.from=e.effects.setTransition(n,d,r.from.y,n.from),n.to=e.effects.setTransition(n,d,r.to.y,n.to)),r.from.x!==r.to.x&&(n.from=e.effects.setTransition(n,h,r.from.x,n.from),n.to=e.effects.setTransition(n,h,r.to.x,n.to)),n.css(n.from),n.animate(n.to,t.duration,t.easing,function(){f&&e.effects.restore(n,c)})})),s.animate(s.to,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){0===s.to.opacity&&s.css("opacity",s.from.opacity),"hide"===p&&s.hide(),e.effects.restore(s,y),f||("static"===v?s.css({position:"relative",top:s.to.top,left:s.to.left}):e.each(["top","left"],function(e,t){s.css(t,function(t,n){var i=parseInt(n,10),o=e?s.to.left:s.to.top;return"auto"===n?o+"px":i+o+"px"})})),e.effects.removeWrapper(s),n()}})}}(jQuery),function(e){e.effects.effect.shake=function(t,n){var i,o=e(this),r=["position","top","bottom","left","right","height","width"],s=e.effects.setMode(o,t.mode||"effect"),a=t.direction||"left",l=t.distance||20,c=t.times||3,u=2*c+1,d=Math.round(t.duration/u),h="up"===a||"down"===a?"top":"left",p="up"===a||"left"===a,f={},m={},g={},v=o.queue(),y=v.length;for(e.effects.save(o,r),o.show(),e.effects.createWrapper(o),f[h]=(p?"-=":"+=")+l,m[h]=(p?"+=":"-=")+2*l,g[h]=(p?"-=":"+=")+2*l,o.animate(f,d,t.easing),i=1;c>i;i++)o.animate(m,d,t.easing).animate(g,d,t.easing);o.animate(m,d,t.easing).animate(f,d/2,t.easing).queue(function(){"hide"===s&&o.hide(),e.effects.restore(o,r),e.effects.removeWrapper(o),n()}),y>1&&v.splice.apply(v,[1,0].concat(v.splice(y,u+1))),o.dequeue()}}(jQuery),function(e){e.effects.effect.slide=function(t,n){var i,o=e(this),r=["position","top","bottom","left","right","width","height"],s=e.effects.setMode(o,t.mode||"show"),a="show"===s,l=t.direction||"left",c="up"===l||"down"===l?"top":"left",u="up"===l||"left"===l,d={};e.effects.save(o,r),o.show(),i=t.distance||o["top"===c?"outerHeight":"outerWidth"](!0),e.effects.createWrapper(o).css({overflow:"hidden"}),a&&o.css(c,u?isNaN(i)?"-"+i:-i:i),d[c]=(a?u?"+=":"-=":u?"-=":"+=")+i,o.animate(d,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===s&&o.hide(),e.effects.restore(o,r),e.effects.removeWrapper(o),n()}})}}(jQuery),function(e){e.effects.effect.transfer=function(t,n){var i=e(this),o=e(t.to),r="fixed"===o.css("position"),s=e("body"),a=r?s.scrollTop():0,l=r?s.scrollLeft():0,c=o.offset(),u={top:c.top-a,left:c.left-l,height:o.innerHeight(),width:o.innerWidth()},d=i.offset(),h=e("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(t.className).css({top:d.top-a,left:d.left-l,height:i.innerHeight(),width:i.innerWidth(),position:r?"fixed":"absolute"}).animate(u,t.duration,t.easing,function(){h.remove(),n()})}}(jQuery)}.apply(e,arguments)})}(this),function(e,t){"function"==typeof define&&define.amd?define("nprogress",t):"object"==typeof exports?module.exports=t():e.NProgress=t()}(this,function(){function e(e,t,n){return t>e?t:e>n?n:e}function t(e){return 100*(-1+e)}function n(e,n,i){var o;return o="translate3d"===c.positionUsing?{transform:"translate3d("+t(e)+"%,0,0)"}:"translate"===c.positionUsing?{transform:"translate("+t(e)+"%,0)"}:{"margin-left":t(e)+"%"},o.transition="all "+n+"ms "+i,o}function i(e,t){var n="string"==typeof e?e:s(e);return n.indexOf(" "+t+" ")>=0}function o(e,t){var n=s(e),o=n+t;i(n,t)||(e.className=o.substring(1))}function r(e,t){var n,o=s(e);i(e,t)&&(n=o.replace(" "+t+" "," "),e.className=n.substring(1,n.length-1))}function s(e){return(" "+(e.className||"")+" ").replace(/\s+/gi," ")}function a(e){e&&e.parentNode&&e.parentNode.removeChild(e)}var l={};l.version="0.1.6",l.callNumbers=0;var c=l.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",template:'<div class="bar" role="bar"><div  class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-ico"><img src="images/loading-bars.svg" width="40" height="40"></div></div>'};l.setBlockerPanel=function(e){l.blockerPanel=$("#"+e)},l.configure=function(e){var t,n;for(t in e)n=e[t],void 0!==n&&e.hasOwnProperty(t)&&(c[t]=n);return this},l.status=null,l.set=function(t){var i=l.isStarted();t=e(t,c.minimum,1),l.status=1===t?null:t;var o=l.render(!i),r=o.querySelector(c.barSelector),s=c.speed,a=c.easing;return o.offsetWidth,u(function(e){""===c.positionUsing&&(c.positionUsing=l.getPositioningCSS()),d(r,n(t,s,a)),1===t?(d(o,{transition:"none",opacity:1}),o.offsetWidth,setTimeout(function(){d(o,{transition:"all "+s+"ms linear",opacity:0}),setTimeout(function(){l.remove(),e()},s)},s)):setTimeout(e,s)}),this},l.isStarted=function(){return"number"==typeof l.status},l.start=function(e){e&&l.callNumbers++,l.status||l.set(0);var t=function(){setTimeout(function(){l.status&&(l.trickle(),t())},c.trickleSpeed)};return c.trickle&&t(),this},l.done=function(e,t){return t&&--l.callNumbers>0?l.inc(.3+.5*Math.random()).set(.6):e||l.status?l.inc(.3+.5*Math.random()).set(1):this},l.inc=function(t){var n=l.status;return n?("number"!=typeof t&&(t=(1-n)*e(Math.random()*n,.1,.95)),n=e(n+t,0,.994),l.set(n)):l.start()},l.trickle=function(){return l.inc(Math.random()*c.trickleRate)},function(){var e=0,t=0;l.promise=function(n){return n&&"resolved"!=n.state()?(0==t&&l.start(),e++,t++,n.always(function(){t--,0==t?(e=0,l.done()):l.set((e-t)/e)}),this):this}}(),l.render=function(e){if(l.blockerPanel&&(l.blockerPanel.css("z-index",999999999999),l.blockerPanel.css("height","1200px")),l.isRendered())return document.getElementById("nprogress");o(document.documentElement,"nprogress-busy");var n=document.createElement("div");n.id="nprogress",n.innerHTML=c.template;var i,r=n.querySelector(c.barSelector),s=e?"-100":t(l.status||0),u=document.querySelector(c.parent);return d(r,{transition:"all 0 linear",transform:"translate3d("+s+"%,0,0)"}),c.showSpinner||(i=n.querySelector(c.spinnerSelector),i&&a(i)),u!=document.body&&o(u,"nprogress-custom-parent"),u.appendChild(n),n},l.remove=function(){l.blockerPanel&&(l.blockerPanel.on("transitionend",function(){l.blockerPanel.css("height","0px"),l.blockerPanel.css("position","static"),l.blockerPanel.css("z-index",-999999999999)}),l.blockerPanel.hasClass("fadedOut")?(l.blockerPanel.css("z-index",-999999999999),l.blockerPanel.css("position","static"),l.blockerPanel.css("height","0px")):l.blockerPanel.addClass("fadedOut")),r(document.documentElement,"nprogress-busy"),r(document.querySelector(c.parent),"nprogress-custom-parent");var e=document.getElementById("nprogress");e&&a(e)},l.isRendered=function(){return!!document.getElementById("nprogress")},l.getPositioningCSS=function(){var e=document.body.style,t="WebkitTransform"in e?"Webkit":"MozTransform"in e?"Moz":"msTransform"in e?"ms":"OTransform"in e?"O":"";return t+"Perspective"in e?"translate3d":t+"Transform"in e?"translate":"margin"};var u=function(){function e(){var n=t.shift();n&&n(e)}var t=[];return function(n){t.push(n),1==t.length&&e()}}(),d=function(){function e(e){return e.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(e,t){return t.toUpperCase()})}function t(e){var t=document.body.style;if(e in t)return e;for(var n,i=o.length,r=e.charAt(0).toUpperCase()+e.slice(1);i--;)if(n=o[i]+r,n in t)return n;return e}function n(n){return n=e(n),r[n]||(r[n]=t(n))}function i(e,t,i){t=n(t),e.style[t]=i}var o=["Webkit","O","Moz","ms"],r={};return function(e,t){var n,o,r=arguments;if(2==r.length)for(n in t)o=t[n],void 0!==o&&t.hasOwnProperty(n)&&i(e,n,o);else i(e,r[1],r[2])}}();return l}),function(e,t){"function"==typeof define&&define.amd?define("sifter",t):"object"==typeof exports?module.exports=t():e.Sifter=t()}(this,function(){var e=function(e,t){this.items=e,this.settings=t||{diacritics:!0}};e.prototype.tokenize=function(e){if(e=i(String(e||"").toLowerCase()),!e||!e.length)return[];var t,n,r,a,l=[],c=e.split(/ +/);for(t=0,n=c.length;n>t;t++){if(r=o(c[t]),this.settings.diacritics)for(a in s)s.hasOwnProperty(a)&&(r=r.replace(new RegExp(a,"g"),s[a]));l.push({string:c[t],regex:new RegExp(r,"i")})}return l},e.prototype.iterator=function(e,t){var n;n=r(e)?Array.prototype.forEach||function(e){for(var t=0,n=this.length;n>t;t++)e(this[t],t,this)}:function(e){for(var t in this)this.hasOwnProperty(t)&&e(this[t],t,this)},n.apply(e,[t])},e.prototype.getScoreFunction=function(e,t){var n,i,o,r;n=this,e=n.prepareSearch(e,t),o=e.tokens,i=e.options.fields,r=o.length;var s=function(e,t){var n,i;return e?(e=String(e||""),i=e.search(t.regex),-1===i?0:(n=t.string.length/e.length,0===i&&(n+=.5),n)):0},a=function(){var e=i.length;return e?1===e?function(e,t){return s(t[i[0]],e)}:function(t,n){for(var o=0,r=0;e>o;o++)r+=s(n[i[o]],t);return r/e}:function(){return 0}}();return r?1===r?function(e){return a(o[0],e)}:"and"===e.options.conjunction?function(e){for(var t,n=0,i=0;r>n;n++){if(t=a(o[n],e),0>=t)return 0;i+=t}return i/r}:function(e){for(var t=0,n=0;r>t;t++)n+=a(o[t],e);return n/r}:function(){return 0}},e.prototype.getSortFunction=function(e,n){var i,o,r,s,a,l,c,u,d,h,p;if(r=this,e=r.prepareSearch(e,n),p=!e.query&&n.sort_empty||n.sort,d=function(e,t){return"$score"===e?t.score:r.items[t.id][e]},a=[],p)for(i=0,o=p.length;o>i;i++)(e.query||"$score"!==p[i].field)&&a.push(p[i]);if(e.query){for(h=!0,i=0,o=a.length;o>i;i++)if("$score"===a[i].field){h=!1;break}h&&a.unshift({field:"$score",direction:"desc"})}else for(i=0,o=a.length;o>i;i++)if("$score"===a[i].field){a.splice(i,1);break}for(u=[],i=0,o=a.length;o>i;i++)u.push("desc"===a[i].direction?-1:1);return l=a.length,l?1===l?(s=a[0].field,c=u[0],function(e,n){return c*t(d(s,e),d(s,n))}):function(e,n){var i,o,r;for(i=0;l>i;i++)if(r=a[i].field,o=u[i]*t(d(r,e),d(r,n)))return o;return 0}:null},e.prototype.prepareSearch=function(e,t){if("object"==typeof e)return e;t=n({},t);var i=t.fields,o=t.sort,s=t.sort_empty;return i&&!r(i)&&(t.fields=[i]),o&&!r(o)&&(t.sort=[o]),s&&!r(s)&&(t.sort_empty=[s]),{options:t,query:String(e||"").toLowerCase(),tokens:this.tokenize(e),total:0,items:[]}},e.prototype.search=function(e,t){var n,i,o,r,s=this;return i=this.prepareSearch(e,t),t=i.options,e=i.query,r=t.score||s.getScoreFunction(i),e.length?s.iterator(s.items,function(e,o){n=r(e),(t.filter===!1||n>0)&&i.items.push({score:n,id:o})}):s.iterator(s.items,function(e,t){i.items.push({score:1,id:t})}),o=s.getSortFunction(i,t),o&&i.items.sort(o),i.total=i.items.length,"number"==typeof t.limit&&(i.items=i.items.slice(0,t.limit)),i};var t=function(e,t){return"number"==typeof e&&"number"==typeof t?e>t?1:t>e?-1:0:(e=a(String(e||"")),t=a(String(t||"")),e>t?1:t>e?-1:0)},n=function(e){var t,n,i,o;for(t=1,n=arguments.length;n>t;t++)if(o=arguments[t])for(i in o)o.hasOwnProperty(i)&&(e[i]=o[i]);return e},i=function(e){return(e+"").replace(/^\s+|\s+$|/g,"")},o=function(e){return(e+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")},r=Array.isArray||$&&$.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},s={a:"[aÀÁÂÃÄÅàáâãäåĀāąĄ]",c:"[cÇçćĆčČ]",d:"[dđĐďĎ]",e:"[eÈÉÊËèéêëěĚĒēęĘ]",i:"[iÌÍÎÏìíîïĪī]",l:"[lłŁ]",n:"[nÑñňŇńŃ]",o:"[oÒÓÔÕÕÖØòóôõöøŌō]",r:"[rřŘ]",s:"[sŠšśŚ]",t:"[tťŤ]",u:"[uÙÚÛÜùúûüůŮŪū]",y:"[yŸÿýÝ]",z:"[zŽžżŻźŹ]"},a=function(){var e,t,n,i,o="",r={};for(n in s)if(s.hasOwnProperty(n))for(i=s[n].substring(2,s[n].length-1),o+=i,e=0,t=i.length;t>e;e++)r[i.charAt(e)]=n;var a=new RegExp("["+o+"]","g");return function(e){return e.replace(a,function(e){return r[e]}).toLowerCase()}}();return e}),function(e,t){"function"==typeof define&&define.amd?define("microplugin",t):"object"==typeof exports?module.exports=t():e.MicroPlugin=t()}(this,function(){var e={};e.mixin=function(e){e.plugins={},e.prototype.initializePlugins=function(e){var n,i,o,r=this,s=[];if(r.plugins={names:[],settings:{},requested:{},loaded:{}},t.isArray(e))for(n=0,i=e.length;i>n;n++)"string"==typeof e[n]?s.push(e[n]):(r.plugins.settings[e[n].name]=e[n].options,s.push(e[n].name));else if(e)for(o in e)e.hasOwnProperty(o)&&(r.plugins.settings[o]=e[o],s.push(o));for(;s.length;)r.require(s.shift())},e.prototype.loadPlugin=function(t){var n=this,i=n.plugins,o=e.plugins[t];if(!e.plugins.hasOwnProperty(t))throw new Error('Unable to find "'+t+'" plugin');i.requested[t]=!0,i.loaded[t]=o.fn.apply(n,[n.plugins.settings[t]||{}]),i.names.push(t)},e.prototype.require=function(e){var t=this,n=t.plugins;if(!t.plugins.loaded.hasOwnProperty(e)){if(n.requested[e])throw new Error('Plugin has circular dependency ("'+e+'")');t.loadPlugin(e)}return n.loaded[e]},e.define=function(t,n){e.plugins[t]={name:t,fn:n}}};var t={isArray:Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}};return e}),function(e,t){"function"==typeof define&&define.amd?define("selectize",["jquery","sifter","microplugin"],t):"object"==typeof exports?module.exports=t(require("jquery"),require("sifter"),require("microplugin")):e.Selectize=t(e.jQuery,e.Sifter,e.MicroPlugin)}(this,function(e,t,n){var i=function(e,t){if("string"!=typeof t||t.length){var n="string"==typeof t?new RegExp(t,"i"):t,i=function(e){var t=0;if(3===e.nodeType){var o=e.data.search(n);if(o>=0&&e.data.length>0){var r=e.data.match(n),s=document.createElement("span");s.className="highlight";var a=e.splitText(o),l=(a.splitText(r[0].length),a.cloneNode(!0));s.appendChild(l),a.parentNode.replaceChild(s,a),t=1}}else if(1===e.nodeType&&e.childNodes&&!/(script|style)/i.test(e.tagName))for(var c=0;c<e.childNodes.length;++c)c+=i(e.childNodes[c]);return t};return e.each(function(){i(this)})}},o=function(){};o.prototype={on:function(e,t){this._events=this._events||{},this._events[e]=this._events[e]||[],this._events[e].push(t)},off:function(e,t){var n=arguments.length;return 0===n?delete this._events:1===n?delete this._events[e]:(this._events=this._events||{},void(e in this._events!=!1&&this._events[e].splice(this._events[e].indexOf(t),1)))},trigger:function(e){if(this._events=this._events||{},e in this._events!=!1)for(var t=0;t<this._events[e].length;t++)this._events[e][t].apply(this,Array.prototype.slice.call(arguments,1))}},o.mixin=function(e){for(var t=["on","off","trigger"],n=0;n<t.length;n++)e.prototype[t[n]]=o.prototype[t[n]]};var r=/Mac/.test(navigator.userAgent),s=65,a=13,l=27,c=37,u=38,d=80,h=39,p=40,f=78,m=8,g=46,v=16,y=r?91:17,b=r?18:17,w=9,x=1,C=2,_=!/android/i.test(window.navigator.userAgent)&&!!document.createElement("form").validity,k=function(e){return"undefined"!=typeof e},S=function(e){return"undefined"==typeof e||null===e?null:"boolean"==typeof e?e?"1":"0":e+""},T=function(e){return(e+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},E=function(e){return(e+"").replace(/\$/g,"$$$$")},P={};P.before=function(e,t,n){var i=e[t];e[t]=function(){return n.apply(e,arguments),i.apply(e,arguments)}},P.after=function(e,t,n){var i=e[t];e[t]=function(){var t=i.apply(e,arguments);return n.apply(e,arguments),t}};var M=function(e){var t=!1;return function(){t||(t=!0,e.apply(this,arguments))}},A=function(e,t){var n;return function(){var i=this,o=arguments;window.clearTimeout(n),n=window.setTimeout(function(){e.apply(i,o)},t)}},I=function(e,t,n){var i,o=e.trigger,r={};e.trigger=function(){var n=arguments[0];return-1===t.indexOf(n)?o.apply(e,arguments):void(r[n]=arguments)},n.apply(e,[]),e.trigger=o;for(i in r)r.hasOwnProperty(i)&&o.apply(e,r[i])},D=function(e,t,n,i){e.on(t,n,function(t){for(var n=t.target;n&&n.parentNode!==e[0];)n=n.parentNode;return t.currentTarget=n,i.apply(this,[t])})},O=function(e){var t={};if("selectionStart"in e)t.start=e.selectionStart,t.length=e.selectionEnd-t.start;else if(document.selection){e.focus();var n=document.selection.createRange(),i=document.selection.createRange().text.length;n.moveStart("character",-e.value.length),t.start=n.text.length-i,t.length=i}return t},N=function(e,t,n){var i,o,r={};if(n)for(i=0,o=n.length;o>i;i++)r[n[i]]=e.css(n[i]);else r=e.css();t.css(r)},R=function(t,n){if(!t)return 0;var i=e("<test>").css({position:"absolute",top:-99999,left:-99999,width:"auto",padding:0,whiteSpace:"pre"}).text(t).appendTo("body");N(n,i,["letterSpacing","fontSize","fontFamily","fontWeight","textTransform"]);var o=i.width();return i.remove(),o},F=function(e){var t=null,n=function(n,i){var o,r,s,a,l,c,u,d;n=n||window.event||{},i=i||{},n.metaKey||n.altKey||(i.force||e.data("grow")!==!1)&&(o=e.val(),n.type&&"keydown"===n.type.toLowerCase()&&(r=n.keyCode,s=r>=97&&122>=r||r>=65&&90>=r||r>=48&&57>=r||32===r,r===g||r===m?(d=O(e[0]),d.length?o=o.substring(0,d.start)+o.substring(d.start+d.length):r===m&&d.start?o=o.substring(0,d.start-1)+o.substring(d.start+1):r===g&&"undefined"!=typeof d.start&&(o=o.substring(0,d.start)+o.substring(d.start+1))):s&&(c=n.shiftKey,u=String.fromCharCode(n.keyCode),u=c?u.toUpperCase():u.toLowerCase(),o+=u)),a=e.attr("placeholder"),!o&&a&&(o=a),l=R(o,e)+4,l!==t&&(t=l,e.width(l),e.triggerHandler("resize")))};e.on("keydown keyup update blur",n),n()},$=function(n,i){var o,r,s,a,l=this;a=n[0],a.selectize=l;var c=window.getComputedStyle&&window.getComputedStyle(a,null);if(s=c?c.getPropertyValue("direction"):a.currentStyle&&a.currentStyle.direction,s=s||n.parents("[dir]:first").attr("dir")||"",e.extend(l,{order:0,settings:i,$input:n,tabIndex:n.attr("tabindex")||"",tagType:"select"===a.tagName.toLowerCase()?x:C,rtl:/rtl/i.test(s),eventNS:".selectize"+ ++$.count,highlightedValue:null,isOpen:!1,isDisabled:!1,isRequired:n.is("[required]"),isInvalid:!1,isLocked:!1,isFocused:!1,isInputHidden:!1,isSetup:!1,isShiftDown:!1,isCmdDown:!1,isCtrlDown:!1,ignoreFocus:!1,ignoreBlur:!1,ignoreHover:!1,hasOptions:!1,currentResults:null,lastValue:"",caretPos:0,loading:0,loadedSearches:{},$activeOption:null,$activeItems:[],optgroups:{},options:{},userOptions:{},items:[],renderCache:{},onSearchChange:null===i.loadThrottle?l.onSearchChange:A(l.onSearchChange,i.loadThrottle)}),l.sifter=new t(this.options,{diacritics:i.diacritics}),l.settings.options){for(o=0,r=l.settings.options.length;r>o;o++)l.registerOption(l.settings.options[o]);delete l.settings.options}if(l.settings.optgroups){for(o=0,r=l.settings.optgroups.length;r>o;o++)l.registerOptionGroup(l.settings.optgroups[o]);delete l.settings.optgroups}l.settings.mode=l.settings.mode||(1===l.settings.maxItems?"single":"multi"),"boolean"!=typeof l.settings.hideSelected&&(l.settings.hideSelected="multi"===l.settings.mode),l.initializePlugins(l.settings.plugins),l.setupCallbacks(),l.setupTemplates(),l.setup()};return o.mixin($),n.mixin($),e.extend($.prototype,{setup:function(){var t,n,i,o,s,a,l,c,u,d=this,h=d.settings,p=d.eventNS,f=e(window),m=e(document),g=d.$input;if(l=d.settings.mode,c=g.attr("class")||"",t=e("<div>").addClass(h.wrapperClass).addClass(c).addClass(l),n=e("<div>").addClass(h.inputClass).addClass("items").appendTo(t),i=e('<input type="text" autocomplete="off" />').appendTo(n).attr("tabindex",g.is(":disabled")?"-1":d.tabIndex),a=e(h.dropdownParent||t),o=e("<div>").addClass(h.dropdownClass).addClass(l).hide().appendTo(a),s=e("<div>").addClass(h.dropdownContentClass).appendTo(o),d.settings.copyClassesToDropdown&&o.addClass(c),t.css({width:g[0].style.width}),d.plugins.names.length&&(u="plugin-"+d.plugins.names.join(" plugin-"),t.addClass(u),o.addClass(u)),(null===h.maxItems||h.maxItems>1)&&d.tagType===x&&g.attr("multiple","multiple"),d.settings.placeholder&&i.attr("placeholder",h.placeholder),!d.settings.splitOn&&d.settings.delimiter){var w=d.settings.delimiter.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&");d.settings.splitOn=new RegExp("\\s*"+w+"+\\s*")}g.attr("autocorrect")&&i.attr("autocorrect",g.attr("autocorrect")),g.attr("autocapitalize")&&i.attr("autocapitalize",g.attr("autocapitalize")),d.$wrapper=t,d.$control=n,d.$control_input=i,d.$dropdown=o,d.$dropdown_content=s,o.on("mouseenter","[data-selectable]",function(){return d.onOptionHover.apply(d,arguments)}),o.on("mousedown click","[data-selectable]",function(){return d.onOptionSelect.apply(d,arguments)}),D(n,"mousedown","*:not(input)",function(){return d.onItemSelect.apply(d,arguments)}),F(i),n.on({mousedown:function(){return d.onMouseDown.apply(d,arguments)},click:function(){return d.onClick.apply(d,arguments)}}),i.on({mousedown:function(e){e.stopPropagation()},keydown:function(){return d.onKeyDown.apply(d,arguments)},keyup:function(){return d.onKeyUp.apply(d,arguments)},keypress:function(){return d.onKeyPress.apply(d,arguments)},resize:function(){d.positionDropdown.apply(d,[])},blur:function(){return d.onBlur.apply(d,arguments)},focus:function(){return d.ignoreBlur=!1,d.onFocus.apply(d,arguments)},paste:function(){return d.onPaste.apply(d,arguments)}}),m.on("keydown"+p,function(e){d.isCmdDown=e[r?"metaKey":"ctrlKey"],d.isCtrlDown=e[r?"altKey":"ctrlKey"],d.isShiftDown=e.shiftKey}),m.on("keyup"+p,function(e){e.keyCode===b&&(d.isCtrlDown=!1),e.keyCode===v&&(d.isShiftDown=!1),e.keyCode===y&&(d.isCmdDown=!1)}),m.on("mousedown"+p,function(e){if(d.isFocused){if(e.target===d.$dropdown[0]||e.target.parentNode===d.$dropdown[0])return!1;d.$control.has(e.target).length||e.target===d.$control[0]||d.blur(e.target)}}),f.on(["scroll"+p,"resize"+p].join(" "),function(){d.isOpen&&d.positionDropdown.apply(d,arguments)}),f.on("mousemove"+p,function(){d.ignoreHover=!1}),this.revertSettings={$children:g.children().detach(),tabindex:g.attr("tabindex")},g.attr("tabindex",-1).hide().after(d.$wrapper),e.isArray(h.items)&&(d.setValue(h.items),delete h.items),_&&g.on("invalid"+p,function(e){e.preventDefault(),d.isInvalid=!0,d.refreshState()}),d.updateOriginalInput(),d.refreshItems(),d.refreshState(),d.updatePlaceholder(),d.isSetup=!0,g.is(":disabled")&&d.disable(),d.on("change",this.onChange),g.data("selectize",d),g.addClass("selectized"),d.trigger("initialize"),h.preload===!0&&d.onSearchChange("")
},setupTemplates:function(){var t=this,n=t.settings.labelField,i=t.settings.optgroupLabelField,o={optgroup:function(e){return'<div class="optgroup">'+e.html+"</div>"},optgroup_header:function(e,t){return'<div class="optgroup-header">'+t(e[i])+"</div>"},option:function(e,t){return'<div class="option">'+t(e[n])+"</div>"},item:function(e,t){return'<div class="item">'+t(e[n])+"</div>"},option_create:function(e,t){return'<div class="create">Add <strong>'+t(e.input)+"</strong>&hellip;</div>"}};t.settings.render=e.extend({},o,t.settings.render)},setupCallbacks:function(){var e,t,n={initialize:"onInitialize",change:"onChange",item_add:"onItemAdd",item_remove:"onItemRemove",clear:"onClear",option_add:"onOptionAdd",option_remove:"onOptionRemove",option_clear:"onOptionClear",optgroup_add:"onOptionGroupAdd",optgroup_remove:"onOptionGroupRemove",optgroup_clear:"onOptionGroupClear",dropdown_open:"onDropdownOpen",dropdown_close:"onDropdownClose",type:"onType",load:"onLoad",focus:"onFocus",blur:"onBlur"};for(e in n)n.hasOwnProperty(e)&&(t=this.settings[n[e]],t&&this.on(e,t))},onClick:function(e){var t=this;t.isFocused||(t.focus(),e.preventDefault())},onMouseDown:function(t){{var n=this,i=t.isDefaultPrevented();e(t.target)}if(n.isFocused){if(t.target!==n.$control_input[0])return"single"===n.settings.mode?n.isOpen?n.close():n.open():i||n.setActiveItem(null),!1}else i||window.setTimeout(function(){n.focus()},0)},onChange:function(){this.$input.trigger("change")},onPaste:function(t){var n=this;n.isFull()||n.isInputHidden||n.isLocked?t.preventDefault():n.settings.splitOn&&setTimeout(function(){for(var t=e.trim(n.$control_input.val()||"").split(n.settings.splitOn),i=0,o=t.length;o>i;i++)n.createItem(t[i])},0)},onKeyPress:function(e){if(this.isLocked)return e&&e.preventDefault();var t=String.fromCharCode(e.keyCode||e.which);return this.settings.create&&"multi"===this.settings.mode&&t===this.settings.delimiter?(this.createItem(),e.preventDefault(),!1):void 0},onKeyDown:function(e){var t=(e.target===this.$control_input[0],this);if(t.isLocked)return void(e.keyCode!==w&&e.preventDefault());switch(e.keyCode){case s:if(t.isCmdDown)return void t.selectAll();break;case l:return void(t.isOpen&&(e.preventDefault(),e.stopPropagation(),t.close()));case f:if(!e.ctrlKey||e.altKey)break;case p:if(!t.isOpen&&t.hasOptions)t.open();else if(t.$activeOption){t.ignoreHover=!0;var n=t.getAdjacentOption(t.$activeOption,1);n.length&&t.setActiveOption(n,!0,!0)}return void e.preventDefault();case d:if(!e.ctrlKey||e.altKey)break;case u:if(t.$activeOption){t.ignoreHover=!0;var i=t.getAdjacentOption(t.$activeOption,-1);i.length&&t.setActiveOption(i,!0,!0)}return void e.preventDefault();case a:return void(t.isOpen&&t.$activeOption&&(t.onOptionSelect({currentTarget:t.$activeOption}),e.preventDefault()));case c:return void t.advanceSelection(-1,e);case h:return void t.advanceSelection(1,e);case w:return t.settings.selectOnTab&&t.isOpen&&t.$activeOption&&(t.onOptionSelect({currentTarget:t.$activeOption}),t.isFull()||e.preventDefault()),void(t.settings.create&&t.createItem()&&e.preventDefault());case m:case g:return void t.deleteSelection(e)}return!t.isFull()&&!t.isInputHidden||(r?e.metaKey:e.ctrlKey)?void 0:void e.preventDefault()},onKeyUp:function(e){var t=this;if(t.isLocked)return e&&e.preventDefault();var n=t.$control_input.val()||"";t.lastValue!==n&&(t.lastValue=n,t.onSearchChange(n),t.refreshOptions(),t.trigger("type",n))},onSearchChange:function(e){var t=this,n=t.settings.load;n&&(t.loadedSearches.hasOwnProperty(e)||(t.loadedSearches[e]=!0,t.load(function(i){n.apply(t,[e,i])})))},onFocus:function(e){var t=this,n=t.isFocused;return t.isDisabled?(t.blur(),e&&e.preventDefault(),!1):void(t.ignoreFocus||(t.isFocused=!0,"focus"===t.settings.preload&&t.onSearchChange(""),n||t.trigger("focus"),t.$activeItems.length||(t.showInput(),t.setActiveItem(null),t.refreshOptions(!!t.settings.openOnFocus)),t.refreshState()))},onBlur:function(e,t){var n=this;if(n.isFocused&&(n.isFocused=!1,!n.ignoreFocus)){if(!n.ignoreBlur&&document.activeElement===n.$dropdown_content[0])return n.ignoreBlur=!0,void n.onFocus(e);var i=function(){n.close(),n.setTextboxValue(""),n.setActiveItem(null),n.setActiveOption(null),n.setCaret(n.items.length),n.refreshState(),(t||document.body).focus(),n.ignoreFocus=!1,n.trigger("blur")};n.ignoreFocus=!0,n.settings.create&&n.settings.createOnBlur?n.createItem(null,!1,i):i()}},onOptionHover:function(e){this.ignoreHover||this.setActiveOption(e.currentTarget,!1)},onOptionSelect:function(t){var n,i,o=this;t.preventDefault&&(t.preventDefault(),t.stopPropagation()),i=e(t.currentTarget),i.hasClass("create")?o.createItem(null,function(){o.settings.closeAfterSelect&&o.close()}):(n=i.attr("data-value"),"undefined"!=typeof n&&(o.lastQuery=null,o.setTextboxValue(""),o.addItem(n),o.settings.closeAfterSelect?o.close():!o.settings.hideSelected&&t.type&&/mouse/.test(t.type)&&o.setActiveOption(o.getOption(n))))},onItemSelect:function(e){var t=this;t.isLocked||"multi"===t.settings.mode&&(e.preventDefault(),t.setActiveItem(e.currentTarget,e))},load:function(e){var t=this,n=t.$wrapper.addClass(t.settings.loadingClass);t.loading++,e.apply(t,[function(e){t.loading=Math.max(t.loading-1,0),e&&e.length&&(t.addOption(e),t.refreshOptions(t.isFocused&&!t.isInputHidden)),t.loading||n.removeClass(t.settings.loadingClass),t.trigger("load",e)}])},setTextboxValue:function(e){var t=this.$control_input,n=t.val()!==e;n&&(t.val(e).triggerHandler("update"),this.lastValue=e)},getValue:function(){return this.tagType===x&&this.$input.attr("multiple")?this.items:this.items.join(this.settings.delimiter)},setValue:function(e,t){var n=t?[]:["change"];I(this,n,function(){this.clear(t),this.addItems(e,t)})},setActiveItem:function(t,n){var i,o,r,s,a,l,c,u,d=this;if("single"!==d.settings.mode){if(t=e(t),!t.length)return e(d.$activeItems).removeClass("active"),d.$activeItems=[],void(d.isFocused&&d.showInput());if(i=n&&n.type.toLowerCase(),"mousedown"===i&&d.isShiftDown&&d.$activeItems.length){for(u=d.$control.children(".active:last"),s=Array.prototype.indexOf.apply(d.$control[0].childNodes,[u[0]]),a=Array.prototype.indexOf.apply(d.$control[0].childNodes,[t[0]]),s>a&&(c=s,s=a,a=c),o=s;a>=o;o++)l=d.$control[0].childNodes[o],-1===d.$activeItems.indexOf(l)&&(e(l).addClass("active"),d.$activeItems.push(l));n.preventDefault()}else"mousedown"===i&&d.isCtrlDown||"keydown"===i&&this.isShiftDown?t.hasClass("active")?(r=d.$activeItems.indexOf(t[0]),d.$activeItems.splice(r,1),t.removeClass("active")):d.$activeItems.push(t.addClass("active")[0]):(e(d.$activeItems).removeClass("active"),d.$activeItems=[t.addClass("active")[0]]);d.hideInput(),this.isFocused||d.focus()}},setActiveOption:function(t,n,i){var o,r,s,a,l,c=this;c.$activeOption&&c.$activeOption.removeClass("active"),c.$activeOption=null,t=e(t),t.length&&(c.$activeOption=t.addClass("active"),(n||!k(n))&&(o=c.$dropdown_content.height(),r=c.$activeOption.outerHeight(!0),n=c.$dropdown_content.scrollTop()||0,s=c.$activeOption.offset().top-c.$dropdown_content.offset().top+n,a=s,l=s-o+r,s+r>o+n?c.$dropdown_content.stop().animate({scrollTop:l},i?c.settings.scrollDuration:0):n>s&&c.$dropdown_content.stop().animate({scrollTop:a},i?c.settings.scrollDuration:0)))},selectAll:function(){var e=this;"single"!==e.settings.mode&&(e.$activeItems=Array.prototype.slice.apply(e.$control.children(":not(input)").addClass("active")),e.$activeItems.length&&(e.hideInput(),e.close()),e.focus())},hideInput:function(){var e=this;e.setTextboxValue(""),e.$control_input.css({opacity:0,position:"absolute",left:e.rtl?1e4:-1e4}),e.isInputHidden=!0},showInput:function(){this.$control_input.css({opacity:1,position:"relative",left:0}),this.isInputHidden=!1},focus:function(){var e=this;e.isDisabled||(e.ignoreFocus=!0,e.$control_input[0].focus(),window.setTimeout(function(){e.ignoreFocus=!1,e.onFocus()},0))},blur:function(e){this.$control_input[0].blur(),this.onBlur(null,e)},getScoreFunction:function(e){return this.sifter.getScoreFunction(e,this.getSearchOptions())},getSearchOptions:function(){var e=this.settings,t=e.sortField;return"string"==typeof t&&(t=[{field:t}]),{fields:e.searchField,conjunction:e.searchConjunction,sort:t}},search:function(t){var n,i,o,r=this,s=r.settings,a=this.getSearchOptions();if(s.score&&(o=r.settings.score.apply(this,[t]),"function"!=typeof o))throw new Error('Selectize "score" setting must be a function that returns a function');if(t!==r.lastQuery?(r.lastQuery=t,i=r.sifter.search(t,e.extend(a,{score:o})),r.currentResults=i):i=e.extend(!0,{},r.currentResults),s.hideSelected)for(n=i.items.length-1;n>=0;n--)-1!==r.items.indexOf(S(i.items[n].id))&&i.items.splice(n,1);return i},refreshOptions:function(t){var n,o,r,s,a,l,c,u,d,h,p,f,m,g,v,y;"undefined"==typeof t&&(t=!0);var b=this,w=e.trim(b.$control_input.val()),x=b.search(w),C=b.$dropdown_content,_=b.$activeOption&&S(b.$activeOption.attr("data-value"));for(s=x.items.length,"number"==typeof b.settings.maxOptions&&(s=Math.min(s,b.settings.maxOptions)),a={},l=[],n=0;s>n;n++)for(c=b.options[x.items[n].id],u=b.render("option",c),d=c[b.settings.optgroupField]||"",h=e.isArray(d)?d:[d],o=0,r=h&&h.length;r>o;o++)d=h[o],b.optgroups.hasOwnProperty(d)||(d=""),a.hasOwnProperty(d)||(a[d]=[],l.push(d)),a[d].push(u);for(this.settings.lockOptgroupOrder&&l.sort(function(e,t){var n=b.optgroups[e].$order||0,i=b.optgroups[t].$order||0;return n-i}),p=[],n=0,s=l.length;s>n;n++)d=l[n],b.optgroups.hasOwnProperty(d)&&a[d].length?(f=b.render("optgroup_header",b.optgroups[d])||"",f+=a[d].join(""),p.push(b.render("optgroup",e.extend({},b.optgroups[d],{html:f})))):p.push(a[d].join(""));if(C.html(p.join("")),b.settings.highlight&&x.query.length&&x.tokens.length)for(n=0,s=x.tokens.length;s>n;n++)i(C,x.tokens[n].regex);if(!b.settings.hideSelected)for(n=0,s=b.items.length;s>n;n++)b.getOption(b.items[n]).addClass("selected");m=b.canCreate(w),m&&(C.prepend(b.render("option_create",{input:w})),y=e(C[0].childNodes[0])),b.hasOptions=x.items.length>0||m,b.hasOptions?(x.items.length>0?(v=_&&b.getOption(_),v&&v.length?g=v:"single"===b.settings.mode&&b.items.length&&(g=b.getOption(b.items[0])),g&&g.length||(g=y&&!b.settings.addPrecedence?b.getAdjacentOption(y,1):C.find("[data-selectable]:first"))):g=y,b.setActiveOption(g),t&&!b.isOpen&&b.open()):(b.setActiveOption(null),t&&b.isOpen&&b.close())},addOption:function(t){var n,i,o,r=this;if(e.isArray(t))for(n=0,i=t.length;i>n;n++)r.addOption(t[n]);else(o=r.registerOption(t))&&(r.userOptions[o]=!0,r.lastQuery=null,r.trigger("option_add",o,t))},registerOption:function(e){var t=S(e[this.settings.valueField]);return!t||this.options.hasOwnProperty(t)?!1:(e.$order=e.$order||++this.order,this.options[t]=e,t)},registerOptionGroup:function(e){var t=S(e[this.settings.optgroupValueField]);return t?(e.$order=e.$order||++this.order,this.optgroups[t]=e,t):!1},addOptionGroup:function(e,t){t[this.settings.optgroupValueField]=e,(e=this.registerOptionGroup(t))&&this.trigger("optgroup_add",e,t)},removeOptionGroup:function(e){this.optgroups.hasOwnProperty(e)&&(delete this.optgroups[e],this.renderCache={},this.trigger("optgroup_remove",e))},clearOptionGroups:function(){this.optgroups={},this.renderCache={},this.trigger("optgroup_clear")},updateOption:function(t,n){var i,o,r,s,a,l,c,u=this;if(t=S(t),r=S(n[u.settings.valueField]),null!==t&&u.options.hasOwnProperty(t)){if("string"!=typeof r)throw new Error("Value must be set in option data");c=u.options[t].$order,r!==t&&(delete u.options[t],s=u.items.indexOf(t),-1!==s&&u.items.splice(s,1,r)),n.$order=n.$order||c,u.options[r]=n,a=u.renderCache.item,l=u.renderCache.option,a&&(delete a[t],delete a[r]),l&&(delete l[t],delete l[r]),-1!==u.items.indexOf(r)&&(i=u.getItem(t),o=e(u.render("item",n)),i.hasClass("active")&&o.addClass("active"),i.replaceWith(o)),u.lastQuery=null,u.isOpen&&u.refreshOptions(!1)}},removeOption:function(e,t){var n=this;e=S(e);var i=n.renderCache.item,o=n.renderCache.option;i&&delete i[e],o&&delete o[e],delete n.userOptions[e],delete n.options[e],n.lastQuery=null,n.trigger("option_remove",e),n.removeItem(e,t)},clearOptions:function(){var e=this;e.loadedSearches={},e.userOptions={},e.renderCache={},e.options=e.sifter.items={},e.lastQuery=null,e.trigger("option_clear"),e.clear()},getOption:function(e){return this.getElementWithValue(e,this.$dropdown_content.find("[data-selectable]"))},getAdjacentOption:function(t,n){var i=this.$dropdown.find("[data-selectable]"),o=i.index(t)+n;return o>=0&&o<i.length?i.eq(o):e()},getElementWithValue:function(t,n){if(t=S(t),"undefined"!=typeof t&&null!==t)for(var i=0,o=n.length;o>i;i++)if(n[i].getAttribute("data-value")===t)return e(n[i]);return e()},getItem:function(e){return this.getElementWithValue(e,this.$control.children())},addItems:function(t,n){for(var i=e.isArray(t)?t:[t],o=0,r=i.length;r>o;o++)this.isPending=r-1>o,this.addItem(i[o],n)},addItem:function(t,n){var i=n?[]:["change"];I(this,i,function(){var i,o,r,s,a,l=this,c=l.settings.mode;return t=S(t),-1!==l.items.indexOf(t)?void("single"===c&&l.close()):void(l.options.hasOwnProperty(t)&&("single"===c&&l.clear(n),"multi"===c&&l.isFull()||(i=e(l.render("item",l.options[t])),a=l.isFull(),l.items.splice(l.caretPos,0,t),l.insertAtCaret(i),(!l.isPending||!a&&l.isFull())&&l.refreshState(),l.isSetup&&(r=l.$dropdown_content.find("[data-selectable]"),l.isPending||(o=l.getOption(t),s=l.getAdjacentOption(o,1).attr("data-value"),l.refreshOptions(l.isFocused&&"single"!==c),s&&l.setActiveOption(l.getOption(s))),!r.length||l.isFull()?l.close():l.positionDropdown(),l.updatePlaceholder(),l.trigger("item_add",t,i),l.updateOriginalInput({silent:n})))))})},removeItem:function(e,t){var n,i,o,r=this;n="object"==typeof e?e:r.getItem(e),e=S(n.attr("data-value")),i=r.items.indexOf(e),-1!==i&&(n.remove(),n.hasClass("active")&&(o=r.$activeItems.indexOf(n[0]),r.$activeItems.splice(o,1)),r.items.splice(i,1),r.lastQuery=null,!r.settings.persist&&r.userOptions.hasOwnProperty(e)&&r.removeOption(e,t),i<r.caretPos&&r.setCaret(r.caretPos-1),r.refreshState(),r.updatePlaceholder(),r.updateOriginalInput({silent:t}),r.positionDropdown(),r.trigger("item_remove",e,n))},createItem:function(t,n){var i=this,o=i.caretPos;t=t||e.trim(i.$control_input.val()||"");var r=arguments[arguments.length-1];if("function"!=typeof r&&(r=function(){}),"boolean"!=typeof n&&(n=!0),!i.canCreate(t))return r(),!1;i.lock();var s="function"==typeof i.settings.create?this.settings.create:function(e){var t={};return t[i.settings.labelField]=e,t[i.settings.valueField]=e,t},a=M(function(e){if(i.unlock(),!e||"object"!=typeof e)return r();var t=S(e[i.settings.valueField]);return"string"!=typeof t?r():(i.setTextboxValue(""),i.addOption(e),i.setCaret(o),i.addItem(t),i.refreshOptions(n&&"single"!==i.settings.mode),void r(e))}),l=s.apply(this,[t,a]);return"undefined"!=typeof l&&a(l),!0},refreshItems:function(){this.lastQuery=null,this.isSetup&&this.addItem(this.items),this.refreshState(),this.updateOriginalInput()},refreshState:function(){var e,t=this;t.isRequired&&(t.items.length&&(t.isInvalid=!1),t.$control_input.prop("required",e)),t.refreshClasses()},refreshClasses:function(){var t=this,n=t.isFull(),i=t.isLocked;t.$wrapper.toggleClass("rtl",t.rtl),t.$control.toggleClass("focus",t.isFocused).toggleClass("disabled",t.isDisabled).toggleClass("required",t.isRequired).toggleClass("invalid",t.isInvalid).toggleClass("locked",i).toggleClass("full",n).toggleClass("not-full",!n).toggleClass("input-active",t.isFocused&&!t.isInputHidden).toggleClass("dropdown-active",t.isOpen).toggleClass("has-options",!e.isEmptyObject(t.options)).toggleClass("has-items",t.items.length>0),t.$control_input.data("grow",!n&&!i)},isFull:function(){return null!==this.settings.maxItems&&this.items.length>=this.settings.maxItems},updateOriginalInput:function(e){var t,n,i,o,r=this;if(e=e||{},r.tagType===x){for(i=[],t=0,n=r.items.length;n>t;t++)o=r.options[r.items[t]][r.settings.labelField]||"",i.push('<option value="'+T(r.items[t])+'" selected="selected">'+T(o)+"</option>");i.length||this.$input.attr("multiple")||i.push('<option value="" selected="selected"></option>'),r.$input.html(i.join(""))}else r.$input.val(r.getValue()),r.$input.attr("value",r.$input.val());r.isSetup&&(e.silent||r.trigger("change",r.$input.val()))},updatePlaceholder:function(){if(this.settings.placeholder){var e=this.$control_input;this.items.length?e.removeAttr("placeholder"):e.attr("placeholder",this.settings.placeholder),e.triggerHandler("update",{force:!0})}},open:function(){var e=this;e.isLocked||e.isOpen||"multi"===e.settings.mode&&e.isFull()||(e.focus(),e.isOpen=!0,e.refreshState(),e.$dropdown.css({visibility:"hidden",display:"block"}),e.positionDropdown(),e.$dropdown.css({visibility:"visible"}),e.trigger("dropdown_open",e.$dropdown))},close:function(){var e=this,t=e.isOpen;"single"===e.settings.mode&&e.items.length&&e.hideInput(),e.isOpen=!1,e.$dropdown.hide(),e.setActiveOption(null),e.refreshState(),t&&e.trigger("dropdown_close",e.$dropdown)},positionDropdown:function(){var e=this.$control,t="body"===this.settings.dropdownParent?e.offset():e.position();t.top+=e.outerHeight(!0),this.$dropdown.css({width:e.outerWidth(),top:t.top,left:t.left})},clear:function(e){var t=this;t.items.length&&(t.$control.children(":not(input)").remove(),t.items=[],t.lastQuery=null,t.setCaret(0),t.setActiveItem(null),t.updatePlaceholder(),t.updateOriginalInput({silent:e}),t.refreshState(),t.showInput(),t.trigger("clear"))},insertAtCaret:function(t){var n=Math.min(this.caretPos,this.items.length);0===n?this.$control.prepend(t):e(this.$control[0].childNodes[n]).before(t),this.setCaret(n+1)},deleteSelection:function(t){var n,i,o,r,s,a,l,c,u,d=this;if(o=t&&t.keyCode===m?-1:1,r=O(d.$control_input[0]),d.$activeOption&&!d.settings.hideSelected&&(l=d.getAdjacentOption(d.$activeOption,-1).attr("data-value")),s=[],d.$activeItems.length){for(u=d.$control.children(".active:"+(o>0?"last":"first")),a=d.$control.children(":not(input)").index(u),o>0&&a++,n=0,i=d.$activeItems.length;i>n;n++)s.push(e(d.$activeItems[n]).attr("data-value"));t&&(t.preventDefault(),t.stopPropagation())}else(d.isFocused||"single"===d.settings.mode)&&d.items.length&&(0>o&&0===r.start&&0===r.length?s.push(d.items[d.caretPos-1]):o>0&&r.start===d.$control_input.val().length&&s.push(d.items[d.caretPos]));if(!s.length||"function"==typeof d.settings.onDelete&&d.settings.onDelete.apply(d,[s])===!1)return!1;for("undefined"!=typeof a&&d.setCaret(a);s.length;)d.removeItem(s.pop());return d.showInput(),d.positionDropdown(),d.refreshOptions(!0),l&&(c=d.getOption(l),c.length&&d.setActiveOption(c)),!0},advanceSelection:function(e,t){var n,i,o,r,s,a,l=this;0!==e&&(l.rtl&&(e*=-1),n=e>0?"last":"first",i=O(l.$control_input[0]),l.isFocused&&!l.isInputHidden?(r=l.$control_input.val().length,s=0>e?0===i.start&&0===i.length:i.start===r,s&&!r&&l.advanceCaret(e,t)):(a=l.$control.children(".active:"+n),a.length&&(o=l.$control.children(":not(input)").index(a),l.setActiveItem(null),l.setCaret(e>0?o+1:o))))},advanceCaret:function(e,t){var n,i,o=this;0!==e&&(n=e>0?"next":"prev",o.isShiftDown?(i=o.$control_input[n](),i.length&&(o.hideInput(),o.setActiveItem(i),t&&t.preventDefault())):o.setCaret(o.caretPos+e))},setCaret:function(t){var n=this;if(t="single"===n.settings.mode?n.items.length:Math.max(0,Math.min(n.items.length,t)),!n.isPending){var i,o,r,s;for(r=n.$control.children(":not(input)"),i=0,o=r.length;o>i;i++)s=e(r[i]).detach(),t>i?n.$control_input.before(s):n.$control.append(s)}n.caretPos=t},lock:function(){this.close(),this.isLocked=!0,this.refreshState()},unlock:function(){this.isLocked=!1,this.refreshState()},disable:function(){var e=this;e.$input.prop("disabled",!0),e.$control_input.prop("disabled",!0).prop("tabindex",-1),e.isDisabled=!0,e.lock()},enable:function(){var e=this;e.$input.prop("disabled",!1),e.$control_input.prop("disabled",!1).prop("tabindex",e.tabIndex),e.isDisabled=!1,e.unlock()},destroy:function(){var t=this,n=t.eventNS,i=t.revertSettings;t.trigger("destroy"),t.off(),t.$wrapper.remove(),t.$dropdown.remove(),t.$input.html("").append(i.$children).removeAttr("tabindex").removeClass("selectized").attr({tabindex:i.tabindex}).show(),t.$control_input.removeData("grow"),t.$input.removeData("selectize"),e(window).off(n),e(document).off(n),e(document.body).off(n),delete t.$input[0].selectize},render:function(e,t){var n,i,o="",r=!1,s=this,a=/^[\t \r\n]*<([a-z][a-z0-9\-_]*(?:\:[a-z][a-z0-9\-_]*)?)/i;return("option"===e||"item"===e)&&(n=S(t[s.settings.valueField]),r=!!n),r&&(k(s.renderCache[e])||(s.renderCache[e]={}),s.renderCache[e].hasOwnProperty(n))?s.renderCache[e][n]:(o=s.settings.render[e].apply(this,[t,T]),("option"===e||"option_create"===e)&&(o=o.replace(a,"<$1 data-selectable")),"optgroup"===e&&(i=t[s.settings.optgroupValueField]||"",o=o.replace(a,'<$1 data-group="'+E(T(i))+'"')),("option"===e||"item"===e)&&(o=o.replace(a,'<$1 data-value="'+E(T(n||""))+'"')),r&&(s.renderCache[e][n]=o),o)},clearCache:function(e){var t=this;"undefined"==typeof e?t.renderCache={}:delete t.renderCache[e]},canCreate:function(e){var t=this;if(!t.settings.create)return!1;var n=t.settings.createFilter;return!(!e.length||"function"==typeof n&&!n.apply(t,[e])||"string"==typeof n&&!new RegExp(n).test(e)||n instanceof RegExp&&!n.test(e))}}),$.count=0,$.defaults={options:[],optgroups:[],plugins:[],delimiter:",",splitOn:null,persist:!0,diacritics:!0,create:!1,createOnBlur:!1,createFilter:null,highlight:!0,openOnFocus:!0,maxOptions:1e3,maxItems:null,hideSelected:null,addPrecedence:!1,selectOnTab:!1,preload:!1,allowEmptyOption:!1,closeAfterSelect:!1,scrollDuration:60,loadThrottle:300,loadingClass:"loading",dataAttr:"data-data",optgroupField:"optgroup",valueField:"value",labelField:"text",optgroupLabelField:"label",optgroupValueField:"value",lockOptgroupOrder:!1,sortField:"$order",searchField:["text"],searchConjunction:"and",mode:null,wrapperClass:"selectize-control",inputClass:"selectize-input",dropdownClass:"selectize-dropdown",dropdownContentClass:"selectize-dropdown-content",dropdownParent:null,copyClassesToDropdown:!0,render:{}},e.fn.selectize=function(t){var n=e.fn.selectize.defaults,i=e.extend({},n,t),o=i.dataAttr,r=i.labelField,s=i.valueField,a=i.optgroupField,l=i.optgroupLabelField,c=i.optgroupValueField,u=function(t,n){var a,l,c,u,d=t.attr(o);if(d)for(n.options=JSON.parse(d),a=0,l=n.options.length;l>a;a++)n.items.push(n.options[a][s]);else{var h=e.trim(t.val()||"");if(!i.allowEmptyOption&&!h.length)return;for(c=h.split(i.delimiter),a=0,l=c.length;l>a;a++)u={},u[r]=c[a],u[s]=c[a],n.options.push(u);n.items=c}},d=function(t,n){var u,d,h,p,f=n.options,m={},g=function(e){var t=o&&e.attr(o);return"string"==typeof t&&t.length?JSON.parse(t):null},v=function(t,o){t=e(t);var l=S(t.attr("value"));if(l||i.allowEmptyOption)if(m.hasOwnProperty(l)){if(o){var c=m[l][a];c?e.isArray(c)?c.push(o):m[l][a]=[c,o]:m[l][a]=o}}else{var u=g(t)||{};u[r]=u[r]||t.text(),u[s]=u[s]||l,u[a]=u[a]||o,m[l]=u,f.push(u),t.is(":selected")&&n.items.push(l)}},y=function(t){var i,o,r,s,a;for(t=e(t),r=t.attr("label"),r&&(s=g(t)||{},s[l]=r,s[c]=r,n.optgroups.push(s)),a=e("option",t),i=0,o=a.length;o>i;i++)v(a[i],r)};for(n.maxItems=t.attr("multiple")?null:1,p=t.children(),u=0,d=p.length;d>u;u++)h=p[u].tagName.toLowerCase(),"optgroup"===h?y(p[u]):"option"===h&&v(p[u])};return this.each(function(){if(!this.selectize){var o,r=e(this),s=this.tagName.toLowerCase(),a=r.attr("placeholder")||r.attr("data-placeholder");a||i.allowEmptyOption||(a=r.children('option[value=""]').text());var l={placeholder:a,options:[],optgroups:[],items:[]};"select"===s?d(r,l):u(r,l),o=new $(r,e.extend(!0,{},n,l,t))}})},e.fn.selectize.defaults=$.defaults,e.fn.selectize.support={validity:_},$.define("drag_drop",function(){if(!e.fn.sortable)throw new Error('The "drag_drop" plugin requires jQuery UI "sortable".');if("multi"===this.settings.mode){var t=this;t.lock=function(){var e=t.lock;return function(){var n=t.$control.data("sortable");return n&&n.disable(),e.apply(t,arguments)}}(),t.unlock=function(){var e=t.unlock;return function(){var n=t.$control.data("sortable");return n&&n.enable(),e.apply(t,arguments)}}(),t.setup=function(){var n=t.setup;return function(){n.apply(this,arguments);var i=t.$control.sortable({items:"[data-value]",forcePlaceholderSize:!0,disabled:t.isLocked,start:function(e,t){t.placeholder.css("width",t.helper.css("width")),i.css({overflow:"visible"})},stop:function(){i.css({overflow:"hidden"});var n=t.$activeItems?t.$activeItems.slice():null,o=[];i.children("[data-value]").each(function(){o.push(e(this).attr("data-value"))}),t.setValue(o),t.setActiveItem(n)}})}}()}}),$.define("dropdown_header",function(t){var n=this;t=e.extend({title:"Untitled",headerClass:"selectize-dropdown-header",titleRowClass:"selectize-dropdown-header-title",labelClass:"selectize-dropdown-header-label",closeClass:"selectize-dropdown-header-close",html:function(e){return'<div class="'+e.headerClass+'"><div class="'+e.titleRowClass+'"><span class="'+e.labelClass+'">'+e.title+'</span><a href="javascript:void(0)" class="'+e.closeClass+'">&times;</a></div></div>'}},t),n.setup=function(){var i=n.setup;return function(){i.apply(n,arguments),n.$dropdown_header=e(t.html(t)),n.$dropdown.prepend(n.$dropdown_header)}}()}),$.define("optgroup_columns",function(t){var n=this;t=e.extend({equalizeWidth:!0,equalizeHeight:!0},t),this.getAdjacentOption=function(t,n){var i=t.closest("[data-group]").find("[data-selectable]"),o=i.index(t)+n;return o>=0&&o<i.length?i.eq(o):e()},this.onKeyDown=function(){var e=n.onKeyDown;return function(t){var i,o,r,s;return!this.isOpen||t.keyCode!==c&&t.keyCode!==h?e.apply(this,arguments):(n.ignoreHover=!0,s=this.$activeOption.closest("[data-group]"),i=s.find("[data-selectable]").index(this.$activeOption),s=t.keyCode===c?s.prev("[data-group]"):s.next("[data-group]"),r=s.find("[data-selectable]"),o=r.eq(Math.min(r.length-1,i)),void(o.length&&this.setActiveOption(o)))}}();var i=function(){var e,t=i.width,n=document;return"undefined"==typeof t&&(e=n.createElement("div"),e.innerHTML='<div style="width:50px;height:50px;position:absolute;left:-50px;top:-50px;overflow:auto;"><div style="width:1px;height:100px;"></div></div>',e=e.firstChild,n.body.appendChild(e),t=i.width=e.offsetWidth-e.clientWidth,n.body.removeChild(e)),t},o=function(){var o,r,s,a,l,c,u;if(u=e("[data-group]",n.$dropdown_content),r=u.length,r&&n.$dropdown_content.width()){if(t.equalizeHeight){for(s=0,o=0;r>o;o++)s=Math.max(s,u.eq(o).height());u.css({height:s})}t.equalizeWidth&&(c=n.$dropdown_content.innerWidth()-i(),a=Math.round(c/r),u.css({width:a}),r>1&&(l=c-a*(r-1),u.eq(r-1).css({width:l})))}};(t.equalizeHeight||t.equalizeWidth)&&(P.after(this,"positionDropdown",o),P.after(this,"refreshOptions",o))}),$.define("remove_button",function(t){if("single"!==this.settings.mode){t=e.extend({label:"&times;",title:"Remove",className:"remove",append:!0},t);var n=this,i='<a href="javascript:void(0)" class="'+t.className+'" tabindex="-1" title="'+T(t.title)+'">'+t.label+"</a>",o=function(e,t){var n=e.search(/(<\/[^>]+>\s*)$/);return e.substring(0,n)+t+e.substring(n)};this.setup=function(){var r=n.setup;return function(){if(t.append){var s=n.settings.render.item;n.settings.render.item=function(){return o(s.apply(this,arguments),i)}}r.apply(this,arguments),this.$control.on("click","."+t.className,function(t){if(t.preventDefault(),!n.isLocked){var i=e(t.currentTarget).parent();n.setActiveItem(i),n.deleteSelection()&&n.setCaret(n.items.length)}})}}()}}),$.define("restore_on_backspace",function(e){var t=this;e.text=e.text||function(e){return e[this.settings.labelField]},this.onKeyDown=function(){var n=t.onKeyDown;return function(t){var i,o;return t.keyCode===m&&""===this.$control_input.val()&&!this.$activeItems.length&&(i=this.caretPos-1,i>=0&&i<this.items.length)?(o=this.options[this.items[i]],this.deleteSelection(t)&&(this.setTextboxValue(e.text.apply(this,[o])),this.refreshOptions(!0)),void t.preventDefault()):n.apply(this,arguments)}}()}),$}),function(e){define("jqueryForm",[],function(){return function(){!function(e){function t(t){var n=t.data;t.isDefaultPrevented()||(t.preventDefault(),e(this).ajaxSubmit(n))}function n(t){var n=t.target,i=e(n);if(!i.is("[type=submit],[type=image]")){var o=i.closest("[type=submit]");if(0===o.length)return;n=o[0]}var r=this;if(r.clk=n,"image"==n.type)if(void 0!==t.offsetX)r.clk_x=t.offsetX,r.clk_y=t.offsetY;else if("function"==typeof e.fn.offset){var s=i.offset();r.clk_x=t.pageX-s.left,r.clk_y=t.pageY-s.top}else r.clk_x=t.pageX-n.offsetLeft,r.clk_y=t.pageY-n.offsetTop;setTimeout(function(){r.clk=r.clk_x=r.clk_y=null},100)}function i(){if(e.fn.ajaxSubmit.debug){var t="[jquery.form] "+Array.prototype.join.call(arguments,"");window.console&&window.console.log?window.console.log(t):window.opera&&window.opera.postError&&window.opera.postError(t)}}var o={};o.fileapi=void 0!==e("<input type='file'/>").get(0).files,o.formdata=void 0!==window.FormData,e.fn.ajaxSubmit=function(t){function n(t){var n,i,o=e.param(t).split("&"),r=o.length,s=[];for(n=0;r>n;n++)o[n]=o[n].replace(/\+/g," "),i=o[n].split("="),s.push([decodeURIComponent(i[0]),decodeURIComponent(i[1])]);return s}function r(i){for(var o=new FormData,r=0;r<i.length;r++)o.append(i[r].name,i[r].value);if(t.extraData){var s=n(t.extraData);for(r=0;r<s.length;r++)s[r]&&o.append(s[r][0],s[r][1])}t.data=null;var l=e.extend(!0,{},e.ajaxSettings,t,{contentType:!1,processData:!1,cache:!1,type:a||"POST"});t.uploadProgress&&(l.xhr=function(){var e=jQuery.ajaxSettings.xhr();return e.upload&&e.upload.addEventListener("progress",function(e){var n=0,i=e.loaded||e.position,o=e.total;e.lengthComputable&&(n=Math.ceil(i/o*100)),t.uploadProgress(e,i,o,n)},!1),e}),l.data=null;var c=l.beforeSend;return l.beforeSend=function(e,t){t.data=o,c&&c.call(this,e,t)},e.ajax(l)}function s(n){function o(e){var t=e.contentWindow?e.contentWindow.document:e.contentDocument?e.contentDocument:e.document;return t}function r(){function t(){try{var e=o(g).readyState;i("state = "+e),e&&"uninitialized"==e.toLowerCase()&&setTimeout(t,50)}catch(n){i("Server abort: ",n," (",n.name,")"),s(T),x&&clearTimeout(x),x=void 0}}var n=u.attr("target"),r=u.attr("action");C.setAttribute("target",p),a||C.setAttribute("method","POST"),r!=d.url&&C.setAttribute("action",d.url),d.skipEncodingOverride||a&&!/post/i.test(a)||u.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"}),d.timeout&&(x=setTimeout(function(){w=!0,s(S)},d.timeout));var l=[];try{if(d.extraData)for(var c in d.extraData)d.extraData.hasOwnProperty(c)&&l.push(e.isPlainObject(d.extraData[c])&&d.extraData[c].hasOwnProperty("name")&&d.extraData[c].hasOwnProperty("value")?e('<input type="hidden" name="'+d.extraData[c].name+'">').val(d.extraData[c].value).appendTo(C)[0]:e('<input type="hidden" name="'+c+'">').val(d.extraData[c]).appendTo(C)[0]);d.iframeTarget||(m.appendTo("body"),g.attachEvent?g.attachEvent("onload",s):g.addEventListener("load",s,!1)),setTimeout(t,15);try{C.submit()}catch(h){var f=document.createElement("form").submit;f.apply(C)}}finally{C.setAttribute("action",r),n?C.setAttribute("target",n):u.removeAttr("target"),e(l).remove()}}function s(t){if(!v.aborted&&!I){try{A=o(g)}catch(n){i("cannot access response document: ",n),t=T}if(t===S&&v)return v.abort("timeout"),void k.reject(v,"timeout");if(t==T&&v)return v.abort("server abort"),void k.reject(v,"error","server abort");if(A&&A.location.href!=d.iframeSrc||w){g.detachEvent?g.detachEvent("onload",s):g.removeEventListener("load",s,!1);var r,a="success";try{if(w)throw"timeout";var l="xml"==d.dataType||A.XMLDocument||e.isXMLDoc(A);if(i("isXml="+l),!l&&window.opera&&(null===A.body||!A.body.innerHTML)&&--D)return i("requeing onLoad callback, DOM not available"),void setTimeout(s,250);var c=A.body?A.body:A.documentElement;v.responseText=c?c.innerHTML:null,v.responseXML=A.XMLDocument?A.XMLDocument:A,l&&(d.dataType="xml"),v.getResponseHeader=function(e){var t={"content-type":d.dataType};return t[e]},c&&(v.status=Number(c.getAttribute("status"))||v.status,v.statusText=c.getAttribute("statusText")||v.statusText);
var u=(d.dataType||"").toLowerCase(),p=/(json|script|text)/.test(u);if(p||d.textarea){var f=A.getElementsByTagName("textarea")[0];if(f)v.responseText=f.value,v.status=Number(f.getAttribute("status"))||v.status,v.statusText=f.getAttribute("statusText")||v.statusText;else if(p){var y=A.getElementsByTagName("pre")[0],b=A.getElementsByTagName("body")[0];y?v.responseText=y.textContent?y.textContent:y.innerText:b&&(v.responseText=b.textContent?b.textContent:b.innerText)}}else"xml"==u&&!v.responseXML&&v.responseText&&(v.responseXML=O(v.responseText));try{M=R(v,u,d)}catch(C){a="parsererror",v.error=r=C||a}}catch(C){i("error caught: ",C),a="error",v.error=r=C||a}v.aborted&&(i("upload aborted"),a=null),v.status&&(a=v.status>=200&&v.status<300||304===v.status?"success":"error"),"success"===a?(d.success&&d.success.call(d.context,M,"success",v),k.resolve(v.responseText,"success",v),h&&e.event.trigger("ajaxSuccess",[v,d])):a&&(void 0===r&&(r=v.statusText),d.error&&d.error.call(d.context,v,a,r),k.reject(v,"error",r),h&&e.event.trigger("ajaxError",[v,d,r])),h&&e.event.trigger("ajaxComplete",[v,d]),h&&!--e.active&&e.event.trigger("ajaxStop"),d.complete&&d.complete.call(d.context,v,a),I=!0,d.timeout&&clearTimeout(x),setTimeout(function(){d.iframeTarget||m.remove(),v.responseXML=null},100)}}}var l,c,d,h,p,m,g,v,y,b,w,x,C=u[0],_=!!e.fn.prop,k=e.Deferred();if(n)for(c=0;c<f.length;c++)l=e(f[c]),_?l.prop("disabled",!1):l.removeAttr("disabled");if(d=e.extend(!0,{},e.ajaxSettings,t),d.context=d.context||d,p="jqFormIO"+(new Date).getTime(),d.iframeTarget?(m=e(d.iframeTarget),b=m.attr("name"),b?p=b:m.attr("name",p)):(m=e('<iframe name="'+p+'" src="'+d.iframeSrc+'" />'),m.css({position:"absolute",top:"-1000px",left:"-1000px"})),g=m[0],v={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(t){var n="timeout"===t?"timeout":"aborted";i("aborting upload... "+n),this.aborted=1;try{g.contentWindow.document.execCommand&&g.contentWindow.document.execCommand("Stop")}catch(o){}m.attr("src",d.iframeSrc),v.error=n,d.error&&d.error.call(d.context,v,n,t),h&&e.event.trigger("ajaxError",[v,d,n]),d.complete&&d.complete.call(d.context,v,n)}},h=d.global,h&&0===e.active++&&e.event.trigger("ajaxStart"),h&&e.event.trigger("ajaxSend",[v,d]),d.beforeSend&&d.beforeSend.call(d.context,v,d)===!1)return d.global&&e.active--,k.reject(),k;if(v.aborted)return k.reject(),k;y=C.clk,y&&(b=y.name,b&&!y.disabled&&(d.extraData=d.extraData||{},d.extraData[b]=y.value,"image"==y.type&&(d.extraData[b+".x"]=C.clk_x,d.extraData[b+".y"]=C.clk_y)));var S=1,T=2,E=e("meta[name=csrf-token]").attr("content"),P=e("meta[name=csrf-param]").attr("content");P&&E&&(d.extraData=d.extraData||{},d.extraData[P]=E),d.forceSync?r():setTimeout(r,10);var M,A,I,D=50,O=e.parseXML||function(e,t){return window.ActiveXObject?(t=new ActiveXObject("Microsoft.XMLDOM"),t.async="false",t.loadXML(e)):t=(new DOMParser).parseFromString(e,"text/xml"),t&&t.documentElement&&"parsererror"!=t.documentElement.nodeName?t:null},N=e.parseJSON||function(e){return window.eval("("+e+")")},R=function(t,n,i){var o=t.getResponseHeader("content-type")||"",r="xml"===n||!n&&o.indexOf("xml")>=0,s=r?t.responseXML:t.responseText;return r&&"parsererror"===s.documentElement.nodeName&&e.error&&e.error("parsererror"),i&&i.dataFilter&&(s=i.dataFilter(s,n)),"string"==typeof s&&("json"===n||!n&&o.indexOf("json")>=0?s=N(s):("script"===n||!n&&o.indexOf("javascript")>=0)&&e.globalEval(s)),s};return k}if(!this.length)return i("ajaxSubmit: skipping submit process - no element selected"),this;var a,l,c,u=this;"function"==typeof t&&(t={success:t}),a=this.attr("method"),l=this.attr("action"),c="string"==typeof l?e.trim(l):"",c=c||window.location.href||"",c&&(c=(c.match(/^([^#]+)/)||[])[1]),t=e.extend(!0,{url:c,success:e.ajaxSettings.success,type:a||"GET",iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},t);var d={};if(this.trigger("form-pre-serialize",[this,t,d]),d.veto)return i("ajaxSubmit: submit vetoed via form-pre-serialize trigger"),this;if(t.beforeSerialize&&t.beforeSerialize(this,t)===!1)return i("ajaxSubmit: submit aborted via beforeSerialize callback"),this;var h=t.traditional;void 0===h&&(h=e.ajaxSettings.traditional);var p,f=[],m=this.formToArray(t.semantic,f);if(t.data&&(t.extraData=t.data,p=e.param(t.data,h)),t.beforeSubmit&&t.beforeSubmit(m,this,t)===!1)return i("ajaxSubmit: submit aborted via beforeSubmit callback"),this;if(this.trigger("form-submit-validate",[m,this,t,d]),d.veto)return i("ajaxSubmit: submit vetoed via form-submit-validate trigger"),this;var g=e.param(m,h);p&&(g=g?g+"&"+p:p),"GET"==t.type.toUpperCase()?(t.url+=(t.url.indexOf("?")>=0?"&":"?")+g,t.data=null):t.data=g;var v=[];if(t.resetForm&&v.push(function(){u.resetForm()}),t.clearForm&&v.push(function(){u.clearForm(t.includeHidden)}),!t.dataType&&t.target){var y=t.success||function(){};v.push(function(n){var i=t.replaceTarget?"replaceWith":"html";e(t.target)[i](n).each(y,arguments)})}else t.success&&v.push(t.success);t.success=function(e,n,i){for(var o=t.context||this,r=0,s=v.length;s>r;r++)v[r].apply(o,[e,n,i||u,u])};var b=e('input[type=file]:enabled[value!=""]',this),w=b.length>0,x="multipart/form-data",C=u.attr("enctype")==x||u.attr("encoding")==x,_=o.fileapi&&o.formdata;i("fileAPI :"+_);var k,S=(w||C)&&!_;t.iframe!==!1&&(t.iframe||S)?t.closeKeepAlive?e.get(t.closeKeepAlive,function(){k=s(m)}):k=s(m):k=(w||C)&&_?r(m):e.ajax(t),u.removeData("jqxhr").data("jqxhr",k);for(var T=0;T<f.length;T++)f[T]=null;return this.trigger("form-submit-notify",[this,t]),this},e.fn.ajaxForm=function(o){if(o=o||{},o.delegation=o.delegation&&e.isFunction(e.fn.on),!o.delegation&&0===this.length){var r={s:this.selector,c:this.context};return!e.isReady&&r.s?(i("DOM not ready, queuing ajaxForm"),e(function(){e(r.s,r.c).ajaxForm(o)}),this):(i("terminating; zero elements found by selector"+(e.isReady?"":" (DOM not ready)")),this)}return o.delegation?(e(document).off("submit.form-plugin",this.selector,t).off("click.form-plugin",this.selector,n).on("submit.form-plugin",this.selector,o,t).on("click.form-plugin",this.selector,o,n),this):this.ajaxFormUnbind().bind("submit.form-plugin",o,t).bind("click.form-plugin",o,n)},e.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")},e.fn.formToArray=function(t,n){var i=[];if(0===this.length)return i;var r=this[0],s=t?r.getElementsByTagName("*"):r.elements;if(!s)return i;var a,l,c,u,d,h,p;for(a=0,h=s.length;h>a;a++)if(d=s[a],c=d.name)if(t&&r.clk&&"image"==d.type)d.disabled||r.clk!=d||(i.push({name:c,value:e(d).val(),type:d.type}),i.push({name:c+".x",value:r.clk_x},{name:c+".y",value:r.clk_y}));else if(u=e.fieldValue(d,!0),u&&u.constructor==Array)for(n&&n.push(d),l=0,p=u.length;p>l;l++)i.push({name:c,value:u[l]});else if(o.fileapi&&"file"==d.type&&!d.disabled){n&&n.push(d);var f=d.files;if(f.length)for(l=0;l<f.length;l++)i.push({name:c,value:f[l],type:d.type});else i.push({name:c,value:"",type:d.type})}else null!==u&&"undefined"!=typeof u&&(n&&n.push(d),i.push({name:c,value:u,type:d.type,required:d.required}));if(!t&&r.clk){var m=e(r.clk),g=m[0];c=g.name,c&&!g.disabled&&"image"==g.type&&(i.push({name:c,value:m.val()}),i.push({name:c+".x",value:r.clk_x},{name:c+".y",value:r.clk_y}))}return i},e.fn.formSerialize=function(t){return e.param(this.formToArray(t))},e.fn.fieldSerialize=function(t){var n=[];return this.each(function(){var i=this.name;if(i){var o=e.fieldValue(this,t);if(o&&o.constructor==Array)for(var r=0,s=o.length;s>r;r++)n.push({name:i,value:o[r]});else null!==o&&"undefined"!=typeof o&&n.push({name:this.name,value:o})}}),e.param(n)},e.fn.fieldValue=function(t){for(var n=[],i=0,o=this.length;o>i;i++){var r=this[i],s=e.fieldValue(r,t);null===s||"undefined"==typeof s||s.constructor==Array&&!s.length||(s.constructor==Array?e.merge(n,s):n.push(s))}return n},e.fieldValue=function(t,n){var i=t.name,o=t.type,r=t.tagName.toLowerCase();if(void 0===n&&(n=!0),n&&(!i||t.disabled||"reset"==o||"button"==o||("checkbox"==o||"radio"==o)&&!t.checked||("submit"==o||"image"==o)&&t.form&&t.form.clk!=t||"select"==r&&-1==t.selectedIndex))return null;if("select"==r){var s=t.selectedIndex;if(0>s)return null;for(var a=[],l=t.options,c="select-one"==o,u=c?s+1:l.length,d=c?s:0;u>d;d++){var h=l[d];if(h.selected){var p=h.value;if(p||(p=h.attributes&&h.attributes.value&&!h.attributes.value.specified?h.text:h.value),c)return p;a.push(p)}}return a}return e(t).val()},e.fn.clearForm=function(t){return this.each(function(){e("input,select,textarea",this).clearFields(t)})},e.fn.clearFields=e.fn.clearInputs=function(t){var n=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var i=this.type,o=this.tagName.toLowerCase();n.test(i)||"textarea"==o?this.value="":"checkbox"==i||"radio"==i?this.checked=!1:"select"==o?this.selectedIndex=-1:"file"==i?/MSIE/.test(navigator.userAgent)?e(this).replaceWith(e(this).clone()):e(this).val(""):t&&(t===!0&&/hidden/.test(i)||"string"==typeof t&&e(this).is(t))&&(this.value="")})},e.fn.resetForm=function(){return this.each(function(){("function"==typeof this.reset||"object"==typeof this.reset&&!this.reset.nodeType)&&this.reset()})},e.fn.enable=function(e){return void 0===e&&(e=!0),this.each(function(){this.disabled=!e})},e.fn.selected=function(t){return void 0===t&&(t=!0),this.each(function(){var n=this.type;if("checkbox"==n||"radio"==n)this.checked=t;else if("option"==this.tagName.toLowerCase()){var i=e(this).parent("select");t&&i[0]&&"select-one"==i[0].type&&i.find("option").selected(!1),this.selected=t}})},e.fn.ajaxSubmit.debug=!1}(jQuery)}.apply(e,arguments)})}(this),function(e){define("jqueryChosen",[],function(){return function(){(function(){var e,t,n,i,o,r={}.hasOwnProperty,s=function(e,t){function n(){this.constructor=e}for(var i in t)r.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};i=function(){function e(){this.options_index=0,this.parsed=[]}return e.prototype.add_node=function(e){return"OPTGROUP"===e.nodeName.toUpperCase()?this.add_group(e):this.add_option(e)},e.prototype.add_group=function(e){var t,n,i,o,r,s;for(t=this.parsed.length,this.parsed.push({array_index:t,group:!0,label:this.escapeExpression(e.label),title:e.title?e.title:void 0,children:0,disabled:e.disabled,classes:e.className}),r=e.childNodes,s=[],i=0,o=r.length;o>i;i++)n=r[i],s.push(this.add_option(n,t,e.disabled));return s},e.prototype.add_option=function(e,t,n){return"OPTION"===e.nodeName.toUpperCase()?(""!==e.text?(null!=t&&(this.parsed[t].children+=1),this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:e.value,text:e.text,html:e.innerHTML,title:e.title?e.title:void 0,selected:e.selected,disabled:n===!0?n:e.disabled,group_array_index:t,group_label:null!=t?this.parsed[t].label:null,classes:e.className,style:e.style.cssText})):this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:!0}),this.options_index+=1):void 0},e.prototype.escapeExpression=function(e){var t,n;return null==e||e===!1?"":/[\&\<\>\"\'\`]/.test(e)?(t={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},n=/&(?!\w+;)|[\<\>\"\'\`]/g,e.replace(n,function(e){return t[e]||"&amp;"})):e},e}(),i.select_to_array=function(e){var t,n,o,r,s;for(n=new i,s=e.childNodes,o=0,r=s.length;r>o;o++)t=s[o],n.add_node(t);return n.parsed},t=function(){function e(t,n){this.form_field=t,this.options=null!=n?n:{},e.browser_is_supported()&&(this.is_multiple=this.form_field.multiple,this.set_default_text(),this.set_default_values(),this.setup(),this.set_up_html(),this.register_observers(),this.on_ready())}return e.prototype.set_default_values=function(){var e=this;return this.click_test_action=function(t){return e.test_active_click(t)},this.activate_action=function(t){return e.activate_field(t)},this.active_field=!1,this.mouse_on_container=!1,this.results_showing=!1,this.result_highlighted=null,this.allow_single_deselect=null!=this.options.allow_single_deselect&&null!=this.form_field.options[0]&&""===this.form_field.options[0].text?this.options.allow_single_deselect:!1,this.disable_search_threshold=this.options.disable_search_threshold||0,this.disable_search=this.options.disable_search||!1,this.enable_split_word_search=null!=this.options.enable_split_word_search?this.options.enable_split_word_search:!0,this.group_search=null!=this.options.group_search?this.options.group_search:!0,this.search_contains=this.options.search_contains||!1,this.single_backstroke_delete=null!=this.options.single_backstroke_delete?this.options.single_backstroke_delete:!0,this.max_selected_options=this.options.max_selected_options||1/0,this.inherit_select_classes=this.options.inherit_select_classes||!1,this.display_selected_options=null!=this.options.display_selected_options?this.options.display_selected_options:!0,this.display_disabled_options=null!=this.options.display_disabled_options?this.options.display_disabled_options:!0,this.include_group_label_in_selected=this.options.include_group_label_in_selected||!1,this.max_shown_results=this.options.max_shown_results||Number.POSITIVE_INFINITY,this.case_sensitive_search=this.options.case_sensitive_search||!1},e.prototype.set_default_text=function(){return this.default_text=this.form_field.getAttribute("data-placeholder")?this.form_field.getAttribute("data-placeholder"):this.is_multiple?this.options.placeholder_text_multiple||this.options.placeholder_text||e.default_multiple_text:this.options.placeholder_text_single||this.options.placeholder_text||e.default_single_text,this.results_none_found=this.form_field.getAttribute("data-no_results_text")||this.options.no_results_text||e.default_no_result_text},e.prototype.choice_label=function(e){return this.include_group_label_in_selected&&null!=e.group_label?"<b class='group-name'>"+e.group_label+"</b>"+e.html:e.html},e.prototype.mouse_enter=function(){return this.mouse_on_container=!0},e.prototype.mouse_leave=function(){return this.mouse_on_container=!1},e.prototype.input_focus=function(){var e=this;if(this.is_multiple){if(!this.active_field)return setTimeout(function(){return e.container_mousedown()},50)}else if(!this.active_field)return this.activate_field()},e.prototype.input_blur=function(){var e=this;return this.mouse_on_container?void 0:(this.active_field=!1,setTimeout(function(){return e.blur_test()},100))},e.prototype.results_option_build=function(e){var t,n,i,o,r,s,a;for(t="",o=0,a=this.results_data,r=0,s=a.length;s>r&&(n=a[r],i="",i=n.group?this.result_add_group(n):this.result_add_option(n),""!==i&&(o++,t+=i),(null!=e?e.first:void 0)&&(n.selected&&this.is_multiple?this.choice_build(n):n.selected&&!this.is_multiple&&this.single_set_selected_text(this.choice_label(n))),!(o>=this.max_shown_results));r++);return t},e.prototype.result_add_option=function(e){var t,n;return e.search_match&&this.include_option_in_results(e)?(t=[],e.disabled||e.selected&&this.is_multiple||t.push("active-result"),!e.disabled||e.selected&&this.is_multiple||t.push("disabled-result"),e.selected&&t.push("result-selected"),null!=e.group_array_index&&t.push("group-option"),""!==e.classes&&t.push(e.classes),n=document.createElement("li"),n.className=t.join(" "),n.style.cssText=e.style,n.setAttribute("data-option-array-index",e.array_index),n.innerHTML=e.search_text,e.title&&(n.title=e.title),this.outerHTML(n)):""},e.prototype.result_add_group=function(e){var t,n;return(e.search_match||e.group_match)&&e.active_options>0?(t=[],t.push("group-result"),e.classes&&t.push(e.classes),n=document.createElement("li"),n.className=t.join(" "),n.innerHTML=e.search_text,e.title&&(n.title=e.title),this.outerHTML(n)):""},e.prototype.results_update_field=function(){return this.set_default_text(),this.is_multiple||this.results_reset_cleanup(),this.result_clear_highlight(),this.results_build(),this.results_showing?this.winnow_results():void 0},e.prototype.reset_single_select_options=function(){var e,t,n,i,o;for(i=this.results_data,o=[],t=0,n=i.length;n>t;t++)e=i[t],o.push(e.selected?e.selected=!1:void 0);return o},e.prototype.results_toggle=function(){return this.results_showing?this.results_hide():this.results_show()},e.prototype.results_search=function(){return this.results_showing?this.winnow_results():this.results_show()},e.prototype.winnow_results=function(){var e,t,n,i,o,r,s,a,l,c,u,d;for(this.no_results_clear(),i=0,r=this.get_search_text(),e=r.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),l=new RegExp(e,"i"),n=this.get_search_regex(e),d=this.results_data,c=0,u=d.length;u>c;c++)t=d[c],t.search_match=!1,o=null,this.include_option_in_results(t)&&(t.group&&(t.group_match=!1,t.active_options=0),null!=t.group_array_index&&this.results_data[t.group_array_index]&&(o=this.results_data[t.group_array_index],0===o.active_options&&o.search_match&&(i+=1),o.active_options+=1),t.search_text=t.group?t.label:t.html,(!t.group||this.group_search)&&(t.search_match=this.search_string_match(t.search_text,n),t.search_match&&!t.group&&(i+=1),t.search_match?(r.length&&(s=t.search_text.search(l),a=t.search_text.substr(0,s+r.length)+"</em>"+t.search_text.substr(s+r.length),t.search_text=a.substr(0,s)+"<em>"+a.substr(s)),null!=o&&(o.group_match=!0)):null!=t.group_array_index&&this.results_data[t.group_array_index].search_match&&(t.search_match=!0)));return this.result_clear_highlight(),1>i&&r.length?(this.update_results_content(""),this.no_results(r)):(this.update_results_content(this.results_option_build()),this.winnow_results_set_highlight())},e.prototype.get_search_regex=function(e){var t,n;return t=this.search_contains?"":"^",n=this.case_sensitive_search?"":"i",new RegExp(t+e,n)},e.prototype.search_string_match=function(e,t){var n,i,o,r;if(t.test(e))return!0;if(this.enable_split_word_search&&(e.indexOf(" ")>=0||0===e.indexOf("["))&&(i=e.replace(/\[|\]/g,"").split(" "),i.length))for(o=0,r=i.length;r>o;o++)if(n=i[o],t.test(n))return!0},e.prototype.choices_count=function(){var e,t,n,i;if(null!=this.selected_option_count)return this.selected_option_count;for(this.selected_option_count=0,i=this.form_field.options,t=0,n=i.length;n>t;t++)e=i[t],e.selected&&(this.selected_option_count+=1);return this.selected_option_count},e.prototype.choices_click=function(e){return e.preventDefault(),this.results_showing||this.is_disabled?void 0:this.results_show()},e.prototype.keyup_checker=function(e){var t,n;switch(t=null!=(n=e.which)?n:e.keyCode,this.search_field_scale(),t){case 8:if(this.is_multiple&&this.backstroke_length<1&&this.choices_count()>0)return this.keydown_backstroke();if(!this.pending_backstroke)return this.result_clear_highlight(),this.results_search();break;case 13:if(e.preventDefault(),this.results_showing)return this.result_select(e);break;case 27:return this.results_showing&&this.results_hide(),!0;case 9:case 38:case 40:case 16:case 91:case 17:case 18:break;default:return this.results_search()}},e.prototype.clipboard_event_checker=function(){var e=this;return setTimeout(function(){return e.results_search()},50)},e.prototype.container_width=function(){return null!=this.options.width?this.options.width:""+this.form_field.offsetWidth+"px"},e.prototype.include_option_in_results=function(e){return this.is_multiple&&!this.display_selected_options&&e.selected?!1:!this.display_disabled_options&&e.disabled?!1:e.empty?!1:!0},e.prototype.search_results_touchstart=function(e){return this.touch_started=!0,this.search_results_mouseover(e)},e.prototype.search_results_touchmove=function(e){return this.touch_started=!1,this.search_results_mouseout(e)},e.prototype.search_results_touchend=function(e){return this.touch_started?this.search_results_mouseup(e):void 0},e.prototype.outerHTML=function(e){var t;return e.outerHTML?e.outerHTML:(t=document.createElement("div"),t.appendChild(e),t.innerHTML)},e.browser_is_supported=function(){return"Microsoft Internet Explorer"===window.navigator.appName?document.documentMode>=8:/iP(od|hone)/i.test(window.navigator.userAgent)||/IEMobile/i.test(window.navigator.userAgent)||/Windows Phone/i.test(window.navigator.userAgent)||/BlackBerry/i.test(window.navigator.userAgent)||/BB10/i.test(window.navigator.userAgent)||/Android.*Mobile/i.test(window.navigator.userAgent)?!1:!0},e.default_multiple_text="Select Some Options",e.default_single_text="Select an Option",e.default_no_result_text="No results match",e}(),e=jQuery,e.fn.extend({chosen:function(i){return t.browser_is_supported()?this.each(function(){var t,o;return t=e(this),o=t.data("chosen"),"destroy"===i?void(o instanceof n&&o.destroy()):void(o instanceof n||t.data("chosen",new n(this,i)))}):this}}),n=function(t){function n(){return o=n.__super__.constructor.apply(this,arguments)}return s(n,t),n.prototype.setup=function(){return this.form_field_jq=e(this.form_field),this.current_selectedIndex=this.form_field.selectedIndex,this.is_rtl=this.form_field_jq.hasClass("chosen-rtl")},n.prototype.set_up_html=function(){var t,n;return t=["chosen-container"],t.push("chosen-container-"+(this.is_multiple?"multi":"single")),this.inherit_select_classes&&this.form_field.className&&t.push(this.form_field.className),this.is_rtl&&t.push("chosen-rtl"),n={"class":t.join(" "),style:"width: "+this.container_width()+";",title:this.form_field.title},this.form_field.id.length&&(n.id=this.form_field.id.replace(/[^\w]/g,"_")+"_chosen"),this.container=e("<div />",n),this.container.html(this.is_multiple?'<ul class="chosen-choices"><li class="search-field"><input type="text" value="'+this.default_text+'" class="default" autocomplete="off" style="width:25px;" /></li></ul><div class="chosen-drop"><ul class="chosen-results"></ul></div>':'<a class="chosen-single chosen-default"><span>'+this.default_text+'</span><div><b></b></div></a><div class="chosen-drop"><div class="chosen-search"><input type="text" autocomplete="off" /></div><ul class="chosen-results"></ul></div>'),this.form_field_jq.hide().after(this.container),this.dropdown=this.container.find("div.chosen-drop").first(),this.search_field=this.container.find("input").first(),this.search_results=this.container.find("ul.chosen-results").first(),this.search_field_scale(),this.search_no_results=this.container.find("li.no-results").first(),this.is_multiple?(this.search_choices=this.container.find("ul.chosen-choices").first(),this.search_container=this.container.find("li.search-field").first()):(this.search_container=this.container.find("div.chosen-search").first(),this.selected_item=this.container.find(".chosen-single").first()),this.results_build(),this.set_tab_index(),this.set_label_behavior()},n.prototype.on_ready=function(){return this.form_field_jq.trigger("chosen:ready",{chosen:this})},n.prototype.register_observers=function(){var e=this;return this.container.bind("touchstart.chosen",function(t){return e.container_mousedown(t),t.preventDefault()}),this.container.bind("touchend.chosen",function(t){return e.container_mouseup(t),t.preventDefault()}),this.container.bind("mousedown.chosen",function(t){e.container_mousedown(t)}),this.container.bind("mouseup.chosen",function(t){e.container_mouseup(t)}),this.container.bind("mouseenter.chosen",function(t){e.mouse_enter(t)}),this.container.bind("mouseleave.chosen",function(t){e.mouse_leave(t)}),this.search_results.bind("mouseup.chosen",function(t){e.search_results_mouseup(t)}),this.search_results.bind("mouseover.chosen",function(t){e.search_results_mouseover(t)}),this.search_results.bind("mouseout.chosen",function(t){e.search_results_mouseout(t)}),this.search_results.bind("mousewheel.chosen DOMMouseScroll.chosen",function(t){e.search_results_mousewheel(t)}),this.search_results.bind("touchstart.chosen",function(t){e.search_results_touchstart(t)}),this.search_results.bind("touchmove.chosen",function(t){e.search_results_touchmove(t)}),this.search_results.bind("touchend.chosen",function(t){e.search_results_touchend(t)}),this.form_field_jq.bind("chosen:updated.chosen",function(t){e.results_update_field(t)}),this.form_field_jq.bind("chosen:activate.chosen",function(t){e.activate_field(t)}),this.form_field_jq.bind("chosen:open.chosen",function(t){e.container_mousedown(t)}),this.form_field_jq.bind("chosen:close.chosen",function(t){e.input_blur(t)}),this.search_field.bind("blur.chosen",function(t){e.input_blur(t)}),this.search_field.bind("keyup.chosen",function(t){e.keyup_checker(t)}),this.search_field.bind("keydown.chosen",function(t){e.keydown_checker(t)}),this.search_field.bind("focus.chosen",function(t){e.input_focus(t)}),this.search_field.bind("cut.chosen",function(t){e.clipboard_event_checker(t)}),this.search_field.bind("paste.chosen",function(t){e.clipboard_event_checker(t)}),this.is_multiple?this.search_choices.bind("click.chosen",function(t){e.choices_click(t)}):this.container.bind("click.chosen",function(e){e.preventDefault()})},n.prototype.destroy=function(){return e(this.container[0].ownerDocument).unbind("click.chosen",this.click_test_action),this.search_field[0].tabIndex&&(this.form_field_jq[0].tabIndex=this.search_field[0].tabIndex),this.container.remove(),this.form_field_jq.removeData("chosen"),this.form_field_jq.show()},n.prototype.search_field_disabled=function(){return this.is_disabled=this.form_field_jq[0].disabled,this.is_disabled?(this.container.addClass("chosen-disabled"),this.search_field[0].disabled=!0,this.is_multiple||this.selected_item.unbind("focus.chosen",this.activate_action),this.close_field()):(this.container.removeClass("chosen-disabled"),this.search_field[0].disabled=!1,this.is_multiple?void 0:this.selected_item.bind("focus.chosen",this.activate_action))},n.prototype.container_mousedown=function(t){return this.is_disabled||(t&&"mousedown"===t.type&&!this.results_showing&&t.preventDefault(),null!=t&&e(t.target).hasClass("search-choice-close"))?void 0:(this.active_field?this.is_multiple||!t||e(t.target)[0]!==this.selected_item[0]&&!e(t.target).parents("a.chosen-single").length||(t.preventDefault(),this.results_toggle()):(this.is_multiple&&this.search_field.val(""),e(this.container[0].ownerDocument).bind("click.chosen",this.click_test_action),this.results_show()),this.activate_field())},n.prototype.container_mouseup=function(e){return"ABBR"!==e.target.nodeName||this.is_disabled?void 0:this.results_reset(e)},n.prototype.search_results_mousewheel=function(e){var t;return e.originalEvent&&(t=e.originalEvent.deltaY||-e.originalEvent.wheelDelta||e.originalEvent.detail),null!=t?(e.preventDefault(),"DOMMouseScroll"===e.type&&(t=40*t),this.search_results.scrollTop(t+this.search_results.scrollTop())):void 0},n.prototype.blur_test=function(){return!this.active_field&&this.container.hasClass("chosen-container-active")?this.close_field():void 0},n.prototype.close_field=function(){return e(this.container[0].ownerDocument).unbind("click.chosen",this.click_test_action),this.active_field=!1,this.results_hide(),this.container.removeClass("chosen-container-active"),this.clear_backstroke(),this.show_search_field_default(),this.search_field_scale()},n.prototype.activate_field=function(){return this.container.addClass("chosen-container-active"),this.active_field=!0,this.search_field.val(this.search_field.val()),this.search_field.focus()},n.prototype.test_active_click=function(t){var n;return n=e(t.target).closest(".chosen-container"),n.length&&this.container[0]===n[0]?this.active_field=!0:this.close_field()},n.prototype.results_build=function(){return this.parsing=!0,this.selected_option_count=null,this.results_data=i.select_to_array(this.form_field),this.is_multiple?this.search_choices.find("li.search-choice").remove():this.is_multiple||(this.single_set_selected_text(),this.disable_search||this.form_field.options.length<=this.disable_search_threshold?(this.search_field[0].readOnly=!0,this.container.addClass("chosen-container-single-nosearch")):(this.search_field[0].readOnly=!1,this.container.removeClass("chosen-container-single-nosearch"))),this.update_results_content(this.results_option_build({first:!0})),this.search_field_disabled(),this.show_search_field_default(),this.search_field_scale(),this.parsing=!1},n.prototype.result_do_highlight=function(e){var t,n,i,o,r;if(e.length){if(this.result_clear_highlight(),this.result_highlight=e,this.result_highlight.addClass("highlighted"),i=parseInt(this.search_results.css("maxHeight"),10),r=this.search_results.scrollTop(),o=i+r,n=this.result_highlight.position().top+this.search_results.scrollTop(),t=n+this.result_highlight.outerHeight(),t>=o)return this.search_results.scrollTop(t-i>0?t-i:0);if(r>n)return this.search_results.scrollTop(n)}},n.prototype.result_clear_highlight=function(){return this.result_highlight&&this.result_highlight.removeClass("highlighted"),this.result_highlight=null},n.prototype.results_show=function(){return this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.container.addClass("chosen-with-drop"),this.results_showing=!0,this.search_field.focus(),this.search_field.val(this.search_field.val()),this.winnow_results(),this.form_field_jq.trigger("chosen:showing_dropdown",{chosen:this}))},n.prototype.update_results_content=function(e){return this.search_results.html(e)},n.prototype.results_hide=function(){return this.results_showing&&(this.result_clear_highlight(),this.container.removeClass("chosen-with-drop"),this.form_field_jq.trigger("chosen:hiding_dropdown",{chosen:this})),this.results_showing=!1},n.prototype.set_tab_index=function(){var e;return this.form_field.tabIndex?(e=this.form_field.tabIndex,this.form_field.tabIndex=-1,this.search_field[0].tabIndex=e):void 0},n.prototype.set_label_behavior=function(){var t=this;return this.form_field_label=this.form_field_jq.parents("label"),!this.form_field_label.length&&this.form_field.id.length&&(this.form_field_label=e("label[for='"+this.form_field.id+"']")),this.form_field_label.length>0?this.form_field_label.bind("click.chosen",function(e){return t.is_multiple?t.container_mousedown(e):t.activate_field()}):void 0},n.prototype.show_search_field_default=function(){return this.is_multiple&&this.choices_count()<1&&!this.active_field?(this.search_field.val(this.default_text),this.search_field.addClass("default")):(this.search_field.val(""),this.search_field.removeClass("default"))},n.prototype.search_results_mouseup=function(t){var n;return n=e(t.target).hasClass("active-result")?e(t.target):e(t.target).parents(".active-result").first(),n.length?(this.result_highlight=n,this.result_select(t),this.search_field.focus()):void 0},n.prototype.search_results_mouseover=function(t){var n;return n=e(t.target).hasClass("active-result")?e(t.target):e(t.target).parents(".active-result").first(),n?this.result_do_highlight(n):void 0},n.prototype.search_results_mouseout=function(t){return e(t.target).hasClass("active-result")?this.result_clear_highlight():void 0},n.prototype.choice_build=function(t){var n,i,o=this;return n=e("<li />",{"class":"search-choice"}).html("<span>"+this.choice_label(t)+"</span>"),t.disabled?n.addClass("search-choice-disabled"):(i=e("<a />",{"class":"search-choice-close","data-option-array-index":t.array_index}),i.bind("click.chosen",function(e){return o.choice_destroy_link_click(e)}),n.append(i)),this.search_container.before(n)},n.prototype.choice_destroy_link_click=function(t){return t.preventDefault(),t.stopPropagation(),this.is_disabled?void 0:this.choice_destroy(e(t.target))},n.prototype.choice_destroy=function(e){return this.result_deselect(e[0].getAttribute("data-option-array-index"))?(this.show_search_field_default(),this.is_multiple&&this.choices_count()>0&&this.search_field.val().length<1&&this.results_hide(),e.parents("li").first().remove(),this.search_field_scale()):void 0},n.prototype.results_reset=function(){return this.reset_single_select_options(),this.form_field.options[0].selected=!0,this.single_set_selected_text(),this.show_search_field_default(),this.results_reset_cleanup(),this.form_field_jq.trigger("change"),this.active_field?this.results_hide():void 0
},n.prototype.results_reset_cleanup=function(){return this.current_selectedIndex=this.form_field.selectedIndex,this.selected_item.find("abbr").remove()},n.prototype.result_select=function(e){var t,n;return this.result_highlight?(t=this.result_highlight,this.result_clear_highlight(),this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.is_multiple?t.removeClass("active-result"):this.reset_single_select_options(),t.addClass("result-selected"),n=this.results_data[t[0].getAttribute("data-option-array-index")],n.selected=!0,this.form_field.options[n.options_index].selected=!0,this.selected_option_count=null,this.is_multiple?this.choice_build(n):this.single_set_selected_text(this.choice_label(n)),(e.metaKey||e.ctrlKey)&&this.is_multiple||this.results_hide(),this.show_search_field_default(),(this.is_multiple||this.form_field.selectedIndex!==this.current_selectedIndex)&&this.form_field_jq.trigger("change",{selected:this.form_field.options[n.options_index].value}),this.current_selectedIndex=this.form_field.selectedIndex,e.preventDefault(),this.search_field_scale())):void 0},n.prototype.single_set_selected_text=function(e){return null==e&&(e=this.default_text),e===this.default_text?this.selected_item.addClass("chosen-default"):(this.single_deselect_control_build(),this.selected_item.removeClass("chosen-default")),this.selected_item.find("span").html(e)},n.prototype.result_deselect=function(e){var t;return t=this.results_data[e],this.form_field.options[t.options_index].disabled?!1:(t.selected=!1,this.form_field.options[t.options_index].selected=!1,this.selected_option_count=null,this.result_clear_highlight(),this.results_showing&&this.winnow_results(),this.form_field_jq.trigger("change",{deselected:this.form_field.options[t.options_index].value}),this.search_field_scale(),!0)},n.prototype.single_deselect_control_build=function(){return this.allow_single_deselect?(this.selected_item.find("abbr").length||this.selected_item.find("span").first().after('<abbr class="search-choice-close"></abbr>'),this.selected_item.addClass("chosen-single-with-deselect")):void 0},n.prototype.get_search_text=function(){return e("<div/>").text(e.trim(this.search_field.val())).html()},n.prototype.winnow_results_set_highlight=function(){var e,t;return t=this.is_multiple?[]:this.search_results.find(".result-selected.active-result"),e=t.length?t.first():this.search_results.find(".active-result").first(),null!=e?this.result_do_highlight(e):void 0},n.prototype.no_results=function(t){var n;return n=e('<li class="no-results">'+this.results_none_found+' "<span></span>"</li>'),n.find("span").first().html(t),this.search_results.append(n),this.form_field_jq.trigger("chosen:no_results",{chosen:this})},n.prototype.no_results_clear=function(){return this.search_results.find(".no-results").remove()},n.prototype.keydown_arrow=function(){var e;return this.results_showing&&this.result_highlight?(e=this.result_highlight.nextAll("li.active-result").first())?this.result_do_highlight(e):void 0:this.results_show()},n.prototype.keyup_arrow=function(){var e;return this.results_showing||this.is_multiple?this.result_highlight?(e=this.result_highlight.prevAll("li.active-result"),e.length?this.result_do_highlight(e.first()):(this.choices_count()>0&&this.results_hide(),this.result_clear_highlight())):void 0:this.results_show()},n.prototype.keydown_backstroke=function(){var e;return this.pending_backstroke?(this.choice_destroy(this.pending_backstroke.find("a").first()),this.clear_backstroke()):(e=this.search_container.siblings("li.search-choice").last(),e.length&&!e.hasClass("search-choice-disabled")?(this.pending_backstroke=e,this.single_backstroke_delete?this.keydown_backstroke():this.pending_backstroke.addClass("search-choice-focus")):void 0)},n.prototype.clear_backstroke=function(){return this.pending_backstroke&&this.pending_backstroke.removeClass("search-choice-focus"),this.pending_backstroke=null},n.prototype.keydown_checker=function(e){var t,n;switch(t=null!=(n=e.which)?n:e.keyCode,this.search_field_scale(),8!==t&&this.pending_backstroke&&this.clear_backstroke(),t){case 8:this.backstroke_length=this.search_field.val().length;break;case 9:this.results_showing&&!this.is_multiple&&this.result_select(e),this.mouse_on_container=!1;break;case 13:this.results_showing&&e.preventDefault();break;case 32:this.disable_search&&e.preventDefault();break;case 38:e.preventDefault(),this.keyup_arrow();break;case 40:e.preventDefault(),this.keydown_arrow()}},n.prototype.search_field_scale=function(){var t,n,i,o,r,s,a,l,c;if(this.is_multiple){for(i=0,a=0,r="position:absolute; left: -1000px; top: -1000px; display:none;",s=["font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing"],l=0,c=s.length;c>l;l++)o=s[l],r+=o+":"+this.search_field.css(o)+";";return t=e("<div />",{style:r}),t.text(this.search_field.val()),e("body").append(t),a=t.width()+25,t.remove(),n=this.container.outerWidth(),a>n-10&&(a=n-10),this.search_field.css({width:a+"px"})}},n}(t)}).call(this)}.apply(e,arguments)})}(this),function(e){define("jqueryInputMask",[],function(){return function(){!function(e){function t(n,i){return this instanceof t?(e.isPlainObject(n)?i=n:(i=i||{},i.alias=n),this.el=void 0,this.opts=e.extend(!0,{},this.defaults,i),this.noMasksCache=i&&void 0!==i.definitions,this.userOptions=i||{},this.events={},void o(this.opts.alias,i,this.opts)):new t(n,i)}function n(e){var t=document.createElement("input"),n="on"+e,i=n in t;return i||(t.setAttribute(n,"return;"),i="function"==typeof t[n]),t=null,i}function i(t,n){var i=t.getAttribute("type"),o="INPUT"===t.tagName&&-1!==e.inArray(i,n.supportsInputType)||t.isContentEditable||"TEXTAREA"===t.tagName;if(!o&&"INPUT"===t.tagName){var r=document.createElement("input");r.setAttribute("type",i),o="text"===r.type,r=null}return o}function o(t,n,i){var r=i.aliases[t];return r?(r.alias&&o(r.alias,void 0,i),e.extend(!0,i,r),e.extend(!0,i,n),!0):(null===i.mask&&(i.mask=t),!1)}function r(t,n,i){function r(e,n){n=void 0!==n?n:t.getAttribute("data-inputmask-"+e),null!==n&&("string"==typeof n&&(0===e.indexOf("on")?n=window[n]:"false"===n?n=!1:"true"===n&&(n=!0)),i[e]=n)}var s,a,l,c,u=t.getAttribute("data-inputmask");if(u&&""!==u&&(u=u.replace(new RegExp("'","g"),'"'),a=JSON.parse("{"+u+"}")),a){l=void 0;for(c in a)if("alias"===c.toLowerCase()){l=a[c];break}}r("alias",l),i.alias&&o(i.alias,i,n);for(s in n){if(a){l=void 0;for(c in a)if(c.toLowerCase()===s.toLowerCase()){l=a[c];break}}r(s,l)}return e.extend(!0,n,i),n}function s(n,i){function o(t){function i(e,t,n,i){this.matches=[],this.isGroup=e||!1,this.isOptional=t||!1,this.isQuantifier=n||!1,this.isAlternator=i||!1,this.quantifier={min:1,max:1}}function o(t,i,o){var r=n.definitions[i];o=void 0!==o?o:t.matches.length;var s=t.matches[o-1];if(r&&!v){r.placeholder=e.isFunction(r.placeholder)?r.placeholder(n):r.placeholder;for(var a=r.prevalidator,l=a?a.length:0,c=1;c<r.cardinality;c++){var u=l>=c?a[c-1]:[],d=u.validator,h=u.cardinality;t.matches.splice(o++,0,{fn:d?"string"==typeof d?new RegExp(d):new function(){this.test=d}:new RegExp("."),cardinality:h?h:1,optionality:t.isOptional,newBlockMarker:void 0===s||s.def!==(r.definitionSymbol||i),casing:r.casing,def:r.definitionSymbol||i,placeholder:r.placeholder,mask:i}),s=t.matches[o-1]}t.matches.splice(o++,0,{fn:r.validator?"string"==typeof r.validator?new RegExp(r.validator):new function(){this.test=r.validator}:new RegExp("."),cardinality:r.cardinality,optionality:t.isOptional,newBlockMarker:void 0===s||s.def!==(r.definitionSymbol||i),casing:r.casing,def:r.definitionSymbol||i,placeholder:r.placeholder,mask:i})}else t.matches.splice(o++,0,{fn:null,cardinality:0,optionality:t.isOptional,newBlockMarker:void 0===s||s.def!==i,casing:null,def:n.staticDefinitionSymbol||i,placeholder:void 0!==n.staticDefinitionSymbol?i:void 0,mask:i}),v=!1}function r(e,t){e.isGroup&&(e.isGroup=!1,o(e,n.groupmarker.start,0),t!==!0&&o(e,n.groupmarker.end))}function s(e,t,n,i){t.matches.length>0&&(void 0===i||i)&&(n=t.matches[t.matches.length-1],r(n)),o(t,e)}function a(){if(b.length>0){if(h=b[b.length-1],s(u,h,f,!h.isAlternator),h.isAlternator){p=b.pop();for(var e=0;e<p.matches.length;e++)p.matches[e].isGroup=!1;b.length>0?(h=b[b.length-1],h.matches.push(p)):y.matches.push(p)}}else s(u,y,f)}function l(e){function t(e){return e===n.optionalmarker.start?e=n.optionalmarker.end:e===n.optionalmarker.end?e=n.optionalmarker.start:e===n.groupmarker.start?e=n.groupmarker.end:e===n.groupmarker.end&&(e=n.groupmarker.start),e}e.matches=e.matches.reverse();for(var i in e.matches){var o=parseInt(i);if(e.matches[i].isQuantifier&&e.matches[o+1]&&e.matches[o+1].isGroup){var r=e.matches[i];e.matches.splice(i,1),e.matches.splice(o+1,0,r)}e.matches[i]=void 0!==e.matches[i].matches?l(e.matches[i]):t(e.matches[i])}return e}for(var c,u,d,h,p,f,m,g=/(?:[?*+]|\{[0-9\+\*]+(?:,[0-9\+\*]*)?\})|[^.?*+^${[]()|\\]+|./g,v=!1,y=new i,b=[],w=[];c=g.exec(t);)if(u=c[0],v)a();else switch(u.charAt(0)){case n.escapeChar:v=!0;break;case n.optionalmarker.end:case n.groupmarker.end:if(d=b.pop(),void 0!==d)if(b.length>0){if(h=b[b.length-1],h.matches.push(d),h.isAlternator){p=b.pop();for(var x=0;x<p.matches.length;x++)p.matches[x].isGroup=!1;b.length>0?(h=b[b.length-1],h.matches.push(p)):y.matches.push(p)}}else y.matches.push(d);else a();break;case n.optionalmarker.start:b.push(new i(!1,!0));break;case n.groupmarker.start:b.push(new i(!0));break;case n.quantifiermarker.start:var C=new i(!1,!1,!0);u=u.replace(/[{}]/g,"");var _=u.split(","),k=isNaN(_[0])?_[0]:parseInt(_[0]),S=1===_.length?k:isNaN(_[1])?_[1]:parseInt(_[1]);if("*"!==S&&"+"!==S||(k="*"===S?0:1),C.quantifier={min:k,max:S},b.length>0){var T=b[b.length-1].matches;c=T.pop(),c.isGroup||(m=new i(!0),m.matches.push(c),c=m),T.push(c),T.push(C)}else c=y.matches.pop(),c.isGroup||(m=new i(!0),m.matches.push(c),c=m),y.matches.push(c),y.matches.push(C);break;case n.alternatormarker:b.length>0?(h=b[b.length-1],f=h.matches.pop()):f=y.matches.pop(),f.isAlternator?b.push(f):(p=new i(!1,!1,!1,!0),p.matches.push(f),b.push(p));break;default:a()}for(;b.length>0;)d=b.pop(),r(d,!0),y.matches.push(d);return y.matches.length>0&&(f=y.matches[y.matches.length-1],r(f),w.push(y)),n.numericInput&&l(w[0]),w}function r(r,s){if(null!==r&&""!==r){if(1===r.length&&n.greedy===!1&&0!==n.repeat&&(n.placeholder=""),n.repeat>0||"*"===n.repeat||"+"===n.repeat){var a="*"===n.repeat?0:"+"===n.repeat?1:n.repeat;r=n.groupmarker.start+r+n.groupmarker.end+n.quantifiermarker.start+a+","+n.repeat+n.quantifiermarker.end}var l;return void 0===t.prototype.masksCache[r]||i===!0?(l={mask:r,maskToken:o(r),validPositions:{},_buffer:void 0,buffer:void 0,tests:{},metadata:s,maskLength:void 0},i!==!0&&(t.prototype.masksCache[n.numericInput?r.split("").reverse().join(""):r]=l,l=e.extend(!0,{},t.prototype.masksCache[n.numericInput?r.split("").reverse().join(""):r]))):l=e.extend(!0,{},t.prototype.masksCache[n.numericInput?r.split("").reverse().join(""):r]),l}}function s(e){return e=e.toString()}var a;if(e.isFunction(n.mask)&&(n.mask=n.mask(n)),e.isArray(n.mask)){if(n.mask.length>1){n.keepStatic=null===n.keepStatic||n.keepStatic;var l="(";return e.each(n.numericInput?n.mask.reverse():n.mask,function(t,n){l.length>1&&(l+=")|("),l+=s(void 0===n.mask||e.isFunction(n.mask)?n:n.mask)}),l+=")",r(l,n.mask)}n.mask=n.mask.pop()}return n.mask&&(a=void 0===n.mask.mask||e.isFunction(n.mask.mask)?r(s(n.mask),n.mask):r(s(n.mask.mask),n.mask)),a}function a(o,r,s){function l(e,t,n){t=t||0;var i,o,r,a=[],l=0,c=f();st=void 0!==ot?ot.maxLength:void 0,-1===st&&(st=void 0);do{if(e===!0&&h().validPositions[l]){var u=h().validPositions[l];o=u.match,i=u.locator.slice(),a.push(n===!0?u.input:O(l,o))}else r=v(l,i,l-1),o=r.match,i=r.locator.slice(),(s.jitMasking===!1||c>l||isFinite(s.jitMasking)&&s.jitMasking>l)&&a.push(O(l,o));l++}while((void 0===st||st>l)&&(null!==o.fn||""!==o.def)||t>l);return""===a[a.length-1]&&a.pop(),h().maskLength=l+1,a}function h(){return r}function p(e){var t=h();t.buffer=void 0,e!==!0&&(t._buffer=void 0,t.validPositions={},t.p=0)}function f(e,t,n){var i=-1,o=-1,r=n||h().validPositions;void 0===e&&(e=-1);for(var s in r){var a=parseInt(s);r[a]&&(t||null!==r[a].match.fn)&&(e>=a&&(i=a),a>=e&&(o=a))}return-1!==i&&e-i>1||e>o?i:o}function m(t,n,i,o){function r(e){var t=h().validPositions[e];if(void 0!==t&&null===t.match.fn){var n=h().validPositions[e-1],i=h().validPositions[e+1];return void 0!==n&&void 0!==i}return!1}var a,l=t,c=e.extend(!0,{},h().validPositions),u=!1;for(h().p=t,a=n-1;a>=l;a--)void 0!==h().validPositions[a]&&(i===!0||!r(a)&&s.canClearPosition(h(),a,f(),o,s)!==!1)&&delete h().validPositions[a];for(p(!0),a=l+1;a<=f();){for(;void 0!==h().validPositions[l];)l++;var d=h().validPositions[l];if(l>a&&(a=l+1),void 0===h().validPositions[a]&&P(a)||void 0!==d)a++;else{var m=v(a);u===!1&&c[l]&&c[l].match.def===m.match.def?(h().validPositions[l]=e.extend(!0,{},c[l]),h().validPositions[l].input=m.input,delete h().validPositions[a],a++):b(l,m.match.def)?E(l,m.input||O(a),!0)!==!1&&(delete h().validPositions[a],a++,u=!0):P(a)||(a++,l--),l++}}p(!0)}function g(e,t){for(var n,i=e,o=f(),r=h().validPositions[o]||x(0)[0],a=void 0!==r.alternation?r.locator[r.alternation].toString().split(","):[],l=0;l<i.length&&(n=i[l],!(n.match&&(s.greedy&&n.match.optionalQuantifier!==!0||(n.match.optionality===!1||n.match.newBlockMarker===!1)&&n.match.optionalQuantifier!==!0)&&(void 0===r.alternation||r.alternation!==n.alternation||void 0!==n.locator[r.alternation]&&T(n.locator[r.alternation].toString().split(","),a)))||t===!0&&(null!==n.match.fn||/[0-9a-bA-Z]/.test(n.match.def)));l++);return n}function v(e,t,n){return h().validPositions[e]||g(x(e,t?t.slice():t,n))}function y(e){return h().validPositions[e]?h().validPositions[e]:x(e)[0]}function b(e,t){for(var n=!1,i=x(e),o=0;o<i.length;o++)if(i[o].match&&i[o].match.def===t){n=!0;break}return n}function w(t,n){var i,o;return(h().tests[t]||h().validPositions[t])&&e.each(h().tests[t]||[h().validPositions[t]],function(e,t){var r=t.alternation?t.locator[t.alternation].toString().indexOf(n):-1;(void 0===o||o>r)&&-1!==r&&(i=t,o=r)}),i}function x(t,n,i){function o(n,i,r,a){function c(r,a,d){function g(t,n){var i=0===e.inArray(t,n.matches);return i||e.each(n.matches,function(e,o){return o.isQuantifier===!0&&(i=g(t,n.matches[e-1]))?!1:void 0}),i}function v(e,t){var n=w(e,t);return n?n.locator.slice(n.alternation+1):void 0}function y(e,n){return null===e.match.fn&&null!==n.match.fn&&n.match.fn.test(e.match.def,h(),t,!1,s,!1)}if(u>1e4)throw"Inputmask: There is probably an error in your mask definition or in the code. Create an issue on github with an example of the mask you are using. "+h().mask;if(u===t&&void 0===r.matches)return p.push({match:r,locator:a.reverse(),cd:m}),!0;if(void 0!==r.matches){if(r.isGroup&&d!==r){if(r=c(n.matches[e.inArray(r,n.matches)+1],a))return!0}else if(r.isOptional){var b=r;if(r=o(r,i,a,d)){if(l=p[p.length-1].match,!g(l,b))return!0;f=!0,u=t}}else if(r.isAlternator){var x,C=r,_=[],k=p.slice(),S=a.length,T=i.length>0?i.shift():-1;if(-1===T||"string"==typeof T){var E,P=u,M=i.slice(),A=[];if("string"==typeof T)A=T.split(",");else for(E=0;E<C.matches.length;E++)A.push(E);for(var I=0;I<A.length;I++){if(E=parseInt(A[I]),p=[],i=v(u,E)||M.slice(),r=c(C.matches[E]||n.matches[E],[E].concat(a),d)||r,r!==!0&&void 0!==r&&A[A.length-1]<C.matches.length){var D=e.inArray(r,n.matches)+1;n.matches.length>D&&(r=c(n.matches[D],[D].concat(a.slice(1,a.length)),d),r&&(A.push(D.toString()),e.each(p,function(e,t){t.alternation=a.length-1})))}x=p.slice(),u=P,p=[];for(var O=0;O<x.length;O++){var N=x[O],R=!1;N.alternation=N.alternation||S;for(var F=0;F<_.length;F++){var $=_[F];if(("string"!=typeof T||-1!==e.inArray(N.locator[N.alternation].toString(),A))&&(N.match.def===$.match.def||y(N,$))){R=N.match.mask===$.match.mask,-1===$.locator[N.alternation].toString().indexOf(N.locator[N.alternation])&&($.locator[N.alternation]=$.locator[N.alternation]+","+N.locator[N.alternation],$.alternation=N.alternation,null==N.match.fn&&($.na=$.na||N.locator[N.alternation].toString(),-1===$.na.indexOf(N.locator[N.alternation])&&($.na=$.na+","+N.locator[N.alternation])));break}}R||_.push(N)}}"string"==typeof T&&(_=e.map(_,function(t,n){if(isFinite(n)){var i,o=t.alternation,r=t.locator[o].toString().split(",");t.locator[o]=void 0,t.alternation=void 0;for(var s=0;s<r.length;s++)i=-1!==e.inArray(r[s],A),i&&(void 0!==t.locator[o]?(t.locator[o]+=",",t.locator[o]+=r[s]):t.locator[o]=parseInt(r[s]),t.alternation=o);if(void 0!==t.locator[o])return t}})),p=k.concat(_),u=t,f=p.length>0,i=M.slice()}else r=c(C.matches[T]||n.matches[T],[T].concat(a),d);if(r)return!0}else if(r.isQuantifier&&d!==n.matches[e.inArray(r,n.matches)-1])for(var j=r,L=i.length>0?i.shift():0;L<(isNaN(j.quantifier.max)?L+1:j.quantifier.max)&&t>=u;L++){var B=n.matches[e.inArray(j,n.matches)-1];if(r=c(B,[L].concat(a),B)){if(l=p[p.length-1].match,l.optionalQuantifier=L>j.quantifier.min-1,g(l,B)){if(L>j.quantifier.min-1){f=!0,u=t;break}return!0}return!0}}else if(r=o(r,i,a,d))return!0}else u++}for(var d=i.length>0?i.shift():0;d<n.matches.length;d++)if(n.matches[d].isQuantifier!==!0){var g=c(n.matches[d],[d].concat(r),a);if(g&&u===t)return g;if(u>t)break}}function r(t){var n=[];return e.isArray(t)||(t=[t]),t.length>0&&(void 0===t[0].alternation?(n=g(t.slice()).locator.slice(),0===n.length&&(n=t[0].locator.slice())):e.each(t,function(e,t){if(""!==t.def)if(0===n.length)n=t.locator.slice();else for(var i=0;i<n.length;i++)t.locator[i]&&-1===n[i].toString().indexOf(t.locator[i])&&(n[i]+=","+t.locator[i])})),n}function a(e){return s.keepStatic&&t>0&&e.length>1+(""===e[e.length-1].match.def?1:0)&&e[0].match.optionality!==!0&&e[0].match.optionalQuantifier!==!0&&null===e[0].match.fn&&!/[0-9a-bA-Z]/.test(e[0].match.def)?[g(e)]:e}var l,c=h().maskToken,u=n?i:0,d=n?n.slice():[0],p=[],f=!1,m=n?n.join(""):"";if(t>-1){if(void 0===n){for(var v,y=t-1;void 0===(v=h().validPositions[y]||h().tests[y])&&y>-1;)y--;void 0!==v&&y>-1&&(d=r(v),m=d.join(""),u=y)}if(h().tests[t]&&h().tests[t][0].cd===m)return a(h().tests[t]);for(var b=d.shift();b<c.length;b++){var x=o(c[b],d,[b]);if(x&&u===t||u>t)break}}return(0===p.length||f)&&p.push({match:{fn:null,cardinality:0,optionality:!0,casing:null,def:"",placeholder:""},locator:[],cd:m}),void 0!==n&&h().tests[t]?a(e.extend(!0,[],p)):(h().tests[t]=e.extend(!0,[],p),a(h().tests[t]))}function C(){return void 0===h()._buffer&&(h()._buffer=l(!1,1),void 0===h().buffer&&h()._buffer.slice()),h()._buffer}function _(e){return void 0!==h().buffer&&e!==!0||(h().buffer=l(!0,f(),!0)),h().buffer}function k(e,t,n){var i;if(e===!0)p(),e=0,t=n.length;else for(i=e;t>i;i++)delete h().validPositions[i];for(i=e;t>i;i++)p(!0),n[i]!==s.skipOptionalPartCharacter&&E(i,n[i],!0,!0)}function S(e,n,i){switch(s.casing||n.casing){case"upper":e=e.toUpperCase();break;case"lower":e=e.toLowerCase();break;case"title":var o=h().validPositions[i-1];e=0===i||o&&o.input===String.fromCharCode(t.keyCode.SPACE)?e.toUpperCase():e.toLowerCase()}return e}function T(t,n){for(var i=s.greedy?n:n.slice(0,1),o=!1,r=0;r<t.length;r++)if(-1!==e.inArray(t[r],i)){o=!0;break}return o}function E(n,i,o,r,a){function l(e){return lt?e.begin-e.end>1||e.begin-e.end===1&&s.insertMode:e.end-e.begin>1||e.end-e.begin===1&&s.insertMode}function c(t,i,o){var a=!1;return e.each(x(t),function(c,u){for(var d=u.match,g=i?1:0,v="",b=d.cardinality;b>g;b--)v+=I(t-(b-1));if(i&&(v+=i),_(!0),a=null!=d.fn?d.fn.test(v,h(),t,o,s,l(n)):(i===d.def||i===s.skipOptionalPartCharacter)&&""!==d.def&&{c:d.placeholder||d.def,pos:t},a!==!1){var w=void 0!==a.c?a.c:i;w=w===s.skipOptionalPartCharacter&&null===d.fn?d.placeholder||d.def:w;var x=t,C=_();if(void 0!==a.remove&&(e.isArray(a.remove)||(a.remove=[a.remove]),e.each(a.remove.sort(function(e,t){return t-e}),function(e,t){m(t,t+1,!0)})),void 0!==a.insert&&(e.isArray(a.insert)||(a.insert=[a.insert]),e.each(a.insert.sort(function(e,t){return e-t}),function(e,t){E(t.pos,t.c,!1,r)})),a.refreshFromBuffer){var T=a.refreshFromBuffer;if(o=!0,k(T===!0?T:T.start,T.end,C),void 0===a.pos&&void 0===a.c)return a.pos=f(),!1;if(x=void 0!==a.pos?a.pos:t,x!==t)return a=e.extend(a,E(x,w,!0,r)),!1}else if(a!==!0&&void 0!==a.pos&&a.pos!==t&&(x=a.pos,k(t,x,_().slice()),x!==t))return a=e.extend(a,E(x,w,!0)),!1;return(a===!0||void 0!==a.pos||void 0!==a.c)&&(c>0&&p(!0),y(x,e.extend({},u,{input:S(w,d,x)}),r,l(n))||(a=!1),!1)}}),a}function u(t,n,i){var o,a,l,c,u,d,m,g,v=e.extend(!0,{},h().validPositions),y=!1,b=f();for(c=h().validPositions[b];b>=0;b--)if(l=h().validPositions[b],l&&void 0!==l.alternation){if(o=b,a=h().validPositions[o].alternation,c.locator[l.alternation]!==l.locator[l.alternation])break;c=l}if(void 0!==a){g=parseInt(o);var w=void 0!==c.locator[c.alternation||a]?c.locator[c.alternation||a]:m[0];w.length>0&&(w=w.split(",")[0]);var C=h().validPositions[g],_=h().validPositions[g-1];e.each(x(g,_?_.locator:void 0,g-1),function(o,l){m=l.locator[a]?l.locator[a].toString().split(","):[];for(var c=0;c<m.length;c++){var b=[],x=0,_=0,k=!1;if(w<m[c]&&(void 0===l.na||-1===e.inArray(m[c],l.na.split(",")))){h().validPositions[g]=e.extend(!0,{},l);var S=h().validPositions[g].locator;for(h().validPositions[g].locator[a]=parseInt(m[c]),null==l.match.fn?(C.input!==l.match.def&&(k=!0,C.generatedInput!==!0&&b.push(C.input)),_++,h().validPositions[g].generatedInput=!/[0-9a-bA-Z]/.test(l.match.def),h().validPositions[g].input=l.match.def):h().validPositions[g].input=C.input,u=g+1;u<f(void 0,!0)+1;u++)d=h().validPositions[u],d&&d.generatedInput!==!0&&/[0-9a-bA-Z]/.test(d.input)?b.push(d.input):t>u&&x++,delete h().validPositions[u];for(k&&b[0]===l.match.def&&b.shift(),p(!0),y=!0;b.length>0;){var T=b.shift();if(T!==s.skipOptionalPartCharacter&&!(y=E(f(void 0,!0)+1,T,!1,r,!0)))break}if(y){h().validPositions[g].locator=S;var P=f(t)+1;for(u=g+1;u<f()+1;u++)d=h().validPositions[u],(void 0===d||null==d.match.fn)&&t+(_-x)>u&&_++;t+=_-x,y=E(t>P?P:t,n,i,r,!0)}if(y)return!1;p(),h().validPositions=e.extend(!0,{},v)}}})}return y}function d(t,n){for(var i=h().validPositions[n],o=i.locator,r=o.length,s=t;n>s;s++)if(void 0===h().validPositions[s]&&!P(s,!0)){var a=x(s),l=a[0],c=-1;e.each(a,function(e,t){for(var n=0;r>n&&void 0!==t.locator[n]&&T(t.locator[n].toString().split(","),o[n].toString().split(","));n++)n>c&&(c=n,l=t)}),y(s,e.extend({},l,{input:l.match.placeholder||l.match.def}),!0)}}function y(t,n,i,o){if(o||s.insertMode&&void 0!==h().validPositions[t]&&void 0===i){var r,a=e.extend(!0,{},h().validPositions),l=f();for(r=t;l>=r;r++)delete h().validPositions[r];h().validPositions[t]=e.extend(!0,{},n);var c,u=!0,d=h().validPositions,m=!1,g=h().maskLength;for(r=c=t;l>=r;r++){var v=a[r];if(void 0!==v)for(var y=c;y<h().maskLength&&(null==v.match.fn&&d[r]&&(d[r].match.optionalQuantifier===!0||d[r].match.optionality===!0)||null!=v.match.fn);){if(y++,m===!1&&a[y]&&a[y].match.def===v.match.def)h().validPositions[y]=e.extend(!0,{},a[y]),h().validPositions[y].input=v.input,w(y),c=y,u=!0;else if(b(y,v.match.def)){var x=E(y,v.input,!0,!0);u=x!==!1,c=x.caret||x.insert?f():y,m=!0}else u=v.generatedInput===!0;if(h().maskLength<g&&(h().maskLength=g),u)break}if(!u)break}if(!u)return h().validPositions=e.extend(!0,{},a),p(!0),!1}else h().validPositions[t]=e.extend(!0,{},n);return p(!0),!0}function w(t){for(var n=t-1;n>-1&&!h().validPositions[n];n--);var i,o;for(n++;t>n;n++)void 0===h().validPositions[n]&&(s.jitMasking===!1||s.jitMasking>n)&&(o=x(n,v(n-1).locator,n-1).slice(),""===o[o.length-1].match.def&&o.pop(),i=g(o),i&&(i.match.def===s.radixPointDefinitionSymbol||!P(n,!0)||e.inArray(s.radixPoint,_())<n&&i.match.fn&&i.match.fn.test(O(n),h(),n,!1,s))&&(A=c(n,i.match.placeholder||(null==i.match.fn?i.match.def:""!==O(n)?O(n):_()[n]),!0),A!==!1&&(h().validPositions[A.pos||n].generatedInput=!0)))}o=o===!0;var C=n;void 0!==n.begin&&(C=lt&&!l(n)?n.end:n.begin);var A=!1,D=e.extend(!0,{},h().validPositions);if(w(C),l(n)&&(q(void 0,t.keyCode.DELETE,n),C=h().p),C<h().maskLength&&(A=c(C,i,o),(!o||r===!0)&&A===!1)){var N=h().validPositions[C];if(!N||null!==N.match.fn||N.match.def!==i&&i!==s.skipOptionalPartCharacter){if((s.insertMode||void 0===h().validPositions[M(C)])&&!P(C,!0)){var R=x(C).slice();""===R[R.length-1].match.def&&R.pop();var F=g(R,!0);F&&(F=F.match.placeholder||F.match.def,c(C,F,o),h().validPositions[C].generatedInput=!0);for(var $=C+1,j=M(C);j>=$;$++)if(A=c($,i,o),A!==!1){d(C,$),C=$;break}}}else A={caret:M(C)}}return A===!1&&s.keepStatic&&!o&&a!==!0&&(A=u(C,i,o)),A===!0&&(A={pos:C}),e.isFunction(s.postValidation)&&A!==!1&&!o&&r!==!0&&(A=!!s.postValidation(_(!0),A,s)&&A),void 0===A.pos&&(A.pos=C),A===!1&&(p(!0),h().validPositions=e.extend(!0,{},D)),A}function P(e,t){var n;if(t?(n=v(e).match,""===n.def&&(n=y(e).match)):n=y(e).match,null!=n.fn)return n.fn;if(t!==!0&&e>-1){var i=x(e);return i.length>1+(""===i[i.length-1].match.def?1:0)}return!1}function M(e,t){var n=h().maskLength;if(e>=n)return n;for(var i=e;++i<n&&(t===!0&&(y(i).match.newBlockMarker!==!0||!P(i))||t!==!0&&!P(i)););return i}function A(e,t){var n,i=e;if(0>=i)return 0;for(;--i>0&&(t===!0&&y(i).match.newBlockMarker!==!0||t!==!0&&!P(i)&&(n=x(i),n.length<2||2===n.length&&""===n[1].match.def)););return i}function I(e){return void 0===h().validPositions[e]?O(e):h().validPositions[e].input}function D(t,n,i,o,r){if(o&&e.isFunction(s.onBeforeWrite)){var a=s.onBeforeWrite(o,n,i,s);if(a){if(a.refreshFromBuffer){var l=a.refreshFromBuffer;k(l===!0?l:l.start,l.end,a.buffer||n),n=_(!0)}void 0!==i&&(i=void 0!==a.caret?a.caret:i)}}t.inputmask._valueSet(n.join("")),void 0===i||void 0!==o&&"blur"===o.type||F(t,i),r===!0&&(ut=!0,e(t).trigger("input"))}function O(e,t){if(t=t||y(e).match,void 0!==t.placeholder)return t.placeholder;if(null===t.fn){if(e>-1&&void 0===h().validPositions[e]){var n,i=x(e),o=[];if(i.length>1+(""===i[i.length-1].match.def?1:0))for(var r=0;r<i.length;r++)if(i[r].match.optionality!==!0&&i[r].match.optionalQuantifier!==!0&&(null===i[r].match.fn||void 0===n||i[r].match.fn.test(n.match.def,h(),e,!0,s)!==!1)&&(o.push(i[r]),null===i[r].match.fn&&(n=i[r]),o.length>1&&/[0-9a-bA-Z]/.test(o[0].match.def)))return s.placeholder.charAt(e%s.placeholder.length)}return t.def}return s.placeholder.charAt(e%s.placeholder.length)}function N(n,i,o,r,a,l){function c(){var e=!1,t=C().slice(m,M(m)).join("").indexOf(d);if(-1!==t&&!P(m)){e=!0;for(var n=C().slice(m,m+t),i=0;i<n.length;i++)if(" "!==n[i]){e=!1;break}}return e}var u=r.slice(),d="",m=0,g=void 0;if(p(),h().p=M(-1),!o)if(s.autoUnmask!==!0){var y=C().slice(0,M(-1)).join(""),b=u.join("").match(new RegExp("^"+t.escapeRegex(y),"g"));b&&b.length>0&&(u.splice(0,b.length*y.length),m=M(m))}else m=M(m);if(e.each(u,function(t,i){if(void 0!==i){var r=new e.Event("keypress");r.which=i.charCodeAt(0),d+=i;var a=f(void 0,!0),l=h().validPositions[a],u=v(a+1,l?l.locator.slice():void 0,a);if(!c()||o||s.autoUnmask){var y=o?t:null==u.match.fn&&u.match.optionality&&a+1<h().p?a+1:h().p;g=H.call(n,r,!0,!1,o,y),m=y+1,d=""}else g=H.call(n,r,!0,!1,!0,a+1);if(!o&&e.isFunction(s.onBeforeWrite)&&(g=s.onBeforeWrite(r,_(),g.forwardPosition,s),g&&g.refreshFromBuffer)){var b=g.refreshFromBuffer;k(b===!0?b:b.start,b.end,g.buffer),p(!0),g.caret&&(h().p=g.caret)}}}),i){var w=void 0,x=f();document.activeElement===n&&(a||g)&&(w=F(n).begin-(l===!0?1:0),g&&l!==!0&&(x+1>w||-1===x)&&(w=s.numericInput&&void 0===g.caret?A(g.forwardPosition):g.forwardPosition)),D(n,_(),w,a||new e.Event("checkval"))}}function R(t){if(t&&void 0===t.inputmask)return t.value;var n=[],i=h().validPositions;for(var o in i)i[o].match&&null!=i[o].match.fn&&n.push(i[o].input);var r=0===n.length?"":(lt?n.reverse():n).join("");if(e.isFunction(s.onUnMask)){var a=(lt?_().slice().reverse():_()).join("");r=s.onUnMask(a,r,s)||r}return r}function F(e,t,n,i){function o(e){if(i!==!0&&lt&&"number"==typeof e&&(!s.greedy||""!==s.placeholder)){var t=_().join("").length;e=t-e}return e}var r;if("number"!=typeof t)return e.setSelectionRange?(t=e.selectionStart,n=e.selectionEnd):window.getSelection?(r=window.getSelection().getRangeAt(0),r.commonAncestorContainer.parentNode!==e&&r.commonAncestorContainer!==e||(t=r.startOffset,n=r.endOffset)):document.selection&&document.selection.createRange&&(r=document.selection.createRange(),t=0-r.duplicate().moveStart("character",-e.inputmask._valueGet().length),n=t+r.text.length),{begin:o(t),end:o(n)};t=o(t),n=o(n),n="number"==typeof n?n:t;var a=parseInt(((e.ownerDocument.defaultView||window).getComputedStyle?(e.ownerDocument.defaultView||window).getComputedStyle(e,null):e.currentStyle).fontSize)*n;if(e.scrollLeft=a>e.scrollWidth?a:0,c||s.insertMode!==!1||t!==n||n++,e.setSelectionRange)e.selectionStart=t,e.selectionEnd=n;else if(window.getSelection){if(r=document.createRange(),void 0===e.firstChild||null===e.firstChild){var l=document.createTextNode("");e.appendChild(l)}r.setStart(e.firstChild,t<e.inputmask._valueGet().length?t:e.inputmask._valueGet().length),r.setEnd(e.firstChild,n<e.inputmask._valueGet().length?n:e.inputmask._valueGet().length),r.collapse(!0);var u=window.getSelection();u.removeAllRanges(),u.addRange(r)}else e.createTextRange&&(r=e.createTextRange(),r.collapse(!0),r.moveEnd("character",n),r.moveStart("character",t),r.select())}function $(t){var n,i,o=_(),r=o.length,s=f(),a={},l=h().validPositions[s],c=void 0!==l?l.locator.slice():void 0;for(n=s+1;n<o.length;n++)i=v(n,c,n-1),c=i.locator.slice(),a[n]=e.extend(!0,{},i);var u=l&&void 0!==l.alternation?l.locator[l.alternation]:void 0;for(n=r-1;n>s&&(i=a[n],(i.match.optionality||i.match.optionalQuantifier||u&&(u!==a[n].locator[l.alternation]&&null!=i.match.fn||null===i.match.fn&&i.locator[l.alternation]&&T(i.locator[l.alternation].toString().split(","),u.toString().split(","))&&""!==x(n)[0].def))&&o[n]===O(n,i.match));n--)r--;return t?{l:r,def:a[r]?a[r].match:void 0}:r}function j(e){for(var t=$(),n=e.length-1;n>t&&!P(n);n--);return e.splice(t,n+1-t),e}function L(t){if(e.isFunction(s.isComplete))return s.isComplete(t,s);if("*"!==s.repeat){var n=!1,i=$(!0),o=A(i.l);if(void 0===i.def||i.def.newBlockMarker||i.def.optionality||i.def.optionalQuantifier){n=!0;for(var r=0;o>=r;r++){var a=v(r).match;if(null!==a.fn&&void 0===h().validPositions[r]&&a.optionality!==!0&&a.optionalQuantifier!==!0||null===a.fn&&t[r]!==O(r,a)){n=!1;break}}}return n}}function B(t){function n(t){if(e.valHooks&&(void 0===e.valHooks[t]||e.valHooks[t].inputmaskpatch!==!0)){var n=e.valHooks[t]&&e.valHooks[t].get?e.valHooks[t].get:function(e){return e.value},i=e.valHooks[t]&&e.valHooks[t].set?e.valHooks[t].set:function(e,t){return e.value=t,e};e.valHooks[t]={get:function(e){if(e.inputmask){if(e.inputmask.opts.autoUnmask)return e.inputmask.unmaskedvalue();var t=n(e);return-1!==f(void 0,void 0,e.inputmask.maskset.validPositions)||s.nullable!==!0?t:""}return n(e)},set:function(t,n){var o,r=e(t);return o=i(t,n),t.inputmask&&r.trigger("setvalue"),o},inputmaskpatch:!0}}}function i(){return this.inputmask?this.inputmask.opts.autoUnmask?this.inputmask.unmaskedvalue():-1!==f()||s.nullable!==!0?document.activeElement===this&&s.clearMaskOnLostFocus?(lt?j(_().slice()).reverse():j(_().slice())).join(""):a.call(this):"":a.call(this)}function o(t){l.call(this,t),this.inputmask&&e(this).trigger("setvalue")}function r(t){pt.on(t,"mouseenter",function(){var t=e(this),n=this,i=n.inputmask._valueGet();i!==_().join("")&&t.trigger("setvalue")})}var a,l;if(!t.inputmask.__valueGet){if(Object.getOwnPropertyDescriptor){"function"!=typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"==typeof"test".__proto__?function(e){return e.__proto__}:function(e){return e.constructor.prototype});var c=Object.getPrototypeOf?Object.getOwnPropertyDescriptor(Object.getPrototypeOf(t),"value"):void 0;c&&c.get&&c.set?(a=c.get,l=c.set,Object.defineProperty(t,"value",{get:i,set:o,configurable:!0})):"INPUT"!==t.tagName&&(a=function(){return this.textContent},l=function(e){this.textContent=e},Object.defineProperty(t,"value",{get:i,set:o,configurable:!0}))
}else document.__lookupGetter__&&t.__lookupGetter__("value")&&(a=t.__lookupGetter__("value"),l=t.__lookupSetter__("value"),t.__defineGetter__("value",i),t.__defineSetter__("value",o));t.inputmask.__valueGet=a,t.inputmask._valueGet=function(e){return lt&&e!==!0?a.call(this.el).split("").reverse().join(""):a.call(this.el)},t.inputmask.__valueSet=l,t.inputmask._valueSet=function(e,t){l.call(this.el,null===e||void 0===e?"":t!==!0&&lt?e.split("").reverse().join(""):e)},void 0===a&&(a=function(){return this.value},l=function(e){this.value=e},n(t.type),r(t))}}function q(n,i,o,r){function a(){if(s.keepStatic){for(var t=[],i=f(-1,!0),o=e.extend(!0,{},h().validPositions),r=h().validPositions[i];i>=0;i--){var a=h().validPositions[i];if(a){if(a.generatedInput!==!0&&/[0-9a-bA-Z]/.test(a.input)&&t.push(a.input),delete h().validPositions[i],void 0!==a.alternation&&a.locator[a.alternation]!==r.locator[a.alternation])break;r=a}}if(i>-1)for(h().p=M(f(-1,!0));t.length>0;){var l=new e.Event("keypress");l.which=t.pop().charCodeAt(0),H.call(n,l,!0,!1,!1,h().p)}else h().validPositions=e.extend(!0,{},o)}}if((s.numericInput||lt)&&(i===t.keyCode.BACKSPACE?i=t.keyCode.DELETE:i===t.keyCode.DELETE&&(i=t.keyCode.BACKSPACE),lt)){var l=o.end;o.end=o.begin,o.begin=l}i===t.keyCode.BACKSPACE&&(o.end-o.begin<1||s.insertMode===!1)?(o.begin=A(o.begin),void 0===h().validPositions[o.begin]||h().validPositions[o.begin].input!==s.groupSeparator&&h().validPositions[o.begin].input!==s.radixPoint||o.begin--):i===t.keyCode.DELETE&&o.begin===o.end&&(o.end=P(o.end,!0)?o.end+1:M(o.end)+1,void 0===h().validPositions[o.begin]||h().validPositions[o.begin].input!==s.groupSeparator&&h().validPositions[o.begin].input!==s.radixPoint||o.end++),m(o.begin,o.end,!1,r),r!==!0&&a();var c=f(o.begin,!0);c<o.begin?h().p=M(c):r!==!0&&(h().p=o.begin)}function z(i){var o=this,r=e(o),a=i.keyCode,l=F(o);if(a===t.keyCode.BACKSPACE||a===t.keyCode.DELETE||d&&a===t.keyCode.BACKSPACE_SAFARI||i.ctrlKey&&a===t.keyCode.X&&!n("cut"))i.preventDefault(),q(o,a,l),D(o,_(!0),h().p,i,o.inputmask._valueGet()!==_().join("")),o.inputmask._valueGet()===C().join("")?r.trigger("cleared"):L(_())===!0&&r.trigger("complete"),s.showTooltip&&(o.title=s.tooltip||h().mask);else if(a===t.keyCode.END||a===t.keyCode.PAGE_DOWN){i.preventDefault();var c=M(f());s.insertMode||c!==h().maskLength||i.shiftKey||c--,F(o,i.shiftKey?l.begin:c,c,!0)}else a===t.keyCode.HOME&&!i.shiftKey||a===t.keyCode.PAGE_UP?(i.preventDefault(),F(o,0,i.shiftKey?l.begin:0,!0)):(s.undoOnEscape&&a===t.keyCode.ESCAPE||90===a&&i.ctrlKey)&&i.altKey!==!0?(N(o,!0,!1,it.split("")),r.trigger("click")):a!==t.keyCode.INSERT||i.shiftKey||i.ctrlKey?s.tabThrough===!0&&a===t.keyCode.TAB?(i.shiftKey===!0?(null===y(l.begin).match.fn&&(l.begin=M(l.begin)),l.end=A(l.begin,!0),l.begin=A(l.end,!0)):(l.begin=M(l.begin,!0),l.end=M(l.begin,!0),l.end<h().maskLength&&l.end--),l.begin<h().maskLength&&(i.preventDefault(),F(o,l.begin,l.end))):s.insertMode!==!1||i.shiftKey||(a===t.keyCode.RIGHT?setTimeout(function(){var e=F(o);F(o,e.begin)},0):a===t.keyCode.LEFT&&setTimeout(function(){var e=F(o);F(o,lt?e.begin+1:e.begin-1)},0)):(s.insertMode=!s.insertMode,F(o,s.insertMode||l.begin!==h().maskLength?l.begin:l.begin-1));s.onKeyDown.call(this,i,_(),F(o).begin,s),dt=-1!==e.inArray(a,s.ignorables)}function H(n,i,o,r,a){var l=this,c=e(l),u=n.which||n.charCode||n.keyCode;if(!(i===!0||n.ctrlKey&&n.altKey)&&(n.ctrlKey||n.metaKey||dt))return u===t.keyCode.ENTER&&it!==_().join("")&&(it=_().join(""),setTimeout(function(){c.trigger("change")},0)),!0;if(u){46===u&&n.shiftKey===!1&&","===s.radixPoint&&(u=44);var d,f=i?{begin:a,end:a}:F(l),m=String.fromCharCode(u);h().writeOutBuffer=!0;var g=E(f,m,r);if(g!==!1&&(p(!0),d=void 0!==g.caret?g.caret:i?g.pos+1:M(g.pos),h().p=d),o!==!1){var v=this;if(setTimeout(function(){s.onKeyValidation.call(v,u,g,s)},0),h().writeOutBuffer&&g!==!1){var y=_();D(l,y,s.numericInput&&void 0===g.caret?A(d):d,n,i!==!0),i!==!0&&setTimeout(function(){L(y)===!0&&c.trigger("complete")},0)}}if(s.showTooltip&&(l.title=s.tooltip||h().mask),n.preventDefault(),i)return g.forwardPosition=d,g}}function V(t){var n,i=this,o=t.originalEvent||t,r=e(i),a=i.inputmask._valueGet(!0),l=F(i);lt&&(n=l.end,l.end=l.begin,l.begin=n);var c=a.substr(0,l.begin),u=a.substr(l.end,a.length);if(c===(lt?C().reverse():C()).slice(0,l.begin).join("")&&(c=""),u===(lt?C().reverse():C()).slice(l.end).join("")&&(u=""),lt&&(n=c,c=u,u=n),window.clipboardData&&window.clipboardData.getData)a=c+window.clipboardData.getData("Text")+u;else{if(!o.clipboardData||!o.clipboardData.getData)return!0;a=c+o.clipboardData.getData("text/plain")+u}var d=a;if(e.isFunction(s.onBeforePaste)){if(d=s.onBeforePaste(a,s),d===!1)return t.preventDefault();d||(d=a)}return N(i,!1,!1,lt?d.split("").reverse():d.toString().split("")),D(i,_(),M(f()),t,it!==_().join("")),L(_())===!0&&r.trigger("complete"),t.preventDefault()}function U(n){var i=this,o=i.inputmask._valueGet();if(_().join("")!==o){var r=F(i);if(o=o.replace(new RegExp("("+t.escapeRegex(C().join(""))+")*"),""),u){var s=o.replace(_().join(""),"");if(1===s.length){var a=new e.Event("keypress");return a.which=s.charCodeAt(0),H.call(i,a,!0,!0,!1,h().validPositions[r.begin-1]?r.begin:r.begin-1),!1}}if(r.begin>o.length&&(F(i,o.length),r=F(i)),_().length-o.length!==1||o.charAt(r.begin)===_()[r.begin]||o.charAt(r.begin+1)===_()[r.begin]||P(r.begin)){for(var l=f()+1,c=_().slice(l).join("");null===o.match(t.escapeRegex(c)+"$");)c=c.slice(1);o=o.replace(c,""),o=o.split(""),N(i,!0,!1,o,n,r.begin<l),L(_())===!0&&e(i).trigger("complete")}else n.keyCode=t.keyCode.BACKSPACE,z.call(i,n);n.preventDefault()}}function W(){var t=this,n=t.inputmask._valueGet();N(t,!0,!1,(e.isFunction(s.onBeforeMask)?s.onBeforeMask(n,s)||n:n).split("")),it=_().join(""),(s.clearMaskOnLostFocus||s.clearIncomplete)&&t.inputmask._valueGet()===C().join("")&&t.inputmask._valueSet("")}function G(e){var t=this,n=t.inputmask._valueGet();s.showMaskOnFocus&&(!s.showMaskOnHover||s.showMaskOnHover&&""===n)?t.inputmask._valueGet()!==_().join("")&&D(t,_(),M(f())):ht===!1&&F(t,M(f())),s.positionCaretOnTab===!0&&setTimeout(function(){K.apply(this,[e])},0),it=_().join("")}function Y(){var e=this;if(ht=!1,s.clearMaskOnLostFocus&&document.activeElement!==e){var t=_().slice(),n=e.inputmask._valueGet();n!==e.getAttribute("placeholder")&&""!==n&&(-1===f()&&n===C().join("")?t=[]:j(t),D(e,t))}}function K(){function t(t){if(""!==s.radixPoint){var n=h().validPositions;if(void 0===n[t]||n[t].input===O(t)){if(t<M(-1))return!0;var i=e.inArray(s.radixPoint,_());if(-1!==i){for(var o in n)if(o>i&&n[o].input!==O(o))return!1;return!0}}}return!1}var n=this;setTimeout(function(){if(document.activeElement===n){var i=F(n);if(i.begin===i.end)switch(s.positionCaretOnClick){case"none":break;case"radixFocus":if(t(i.begin)){var o=e.inArray(s.radixPoint,_().join(""));F(n,s.numericInput?M(o):o);break}default:var r=i.begin,a=f(r,!0),l=M(a);if(l>r)F(n,P(r)||P(r-1)?r:M(r));else{var c=O(l);(""!==c&&_()[l]!==c&&y(l).match.optionalQuantifier!==!0||!P(l,!0)&&y(l).match.def===c)&&(l=M(l)),F(n,l)}}}},0)}function Q(){var e=this;setTimeout(function(){F(e,0,M(f()))},0)}function J(n){var i=this,o=e(i),r=F(i),a=n.originalEvent||n,l=window.clipboardData||a.clipboardData,c=lt?_().slice(r.end,r.begin):_().slice(r.begin,r.end);l.setData("text",lt?c.reverse().join(""):c.join("")),document.execCommand&&document.execCommand("copy"),q(i,t.keyCode.DELETE,r),D(i,_(),h().p,n,it!==_().join("")),i.inputmask._valueGet()===C().join("")&&o.trigger("cleared"),s.showTooltip&&(i.title=s.tooltip||h().mask)}function X(t){var n=e(this),i=this;if(i.inputmask){var o=i.inputmask._valueGet(),r=_().slice();it!==r.join("")&&setTimeout(function(){n.trigger("change"),it=r.join("")},0),""!==o&&(s.clearMaskOnLostFocus&&(-1===f()&&o===C().join("")?r=[]:j(r)),L(r)===!1&&(setTimeout(function(){n.trigger("incomplete")},0),s.clearIncomplete&&(p(),r=s.clearMaskOnLostFocus?[]:C().slice())),D(i,r,void 0,t))}}function Z(){var e=this;ht=!0,document.activeElement!==e&&s.showMaskOnHover&&e.inputmask._valueGet()!==_().join("")&&D(e,_())}function et(){it!==_().join("")&&rt.trigger("change"),s.clearMaskOnLostFocus&&-1===f()&&ot.inputmask._valueGet&&ot.inputmask._valueGet()===C().join("")&&ot.inputmask._valueSet(""),s.removeMaskOnSubmit&&(ot.inputmask._valueSet(ot.inputmask.unmaskedvalue(),!0),setTimeout(function(){D(ot,_())},0))}function tt(){setTimeout(function(){rt.trigger("setvalue")},0)}function nt(t){if(ot=t,rt=e(ot),s.showTooltip&&(ot.title=s.tooltip||h().mask),("rtl"===ot.dir||s.rightAlign)&&(ot.style.textAlign="right"),("rtl"===ot.dir||s.numericInput)&&(ot.dir="ltr",ot.removeAttribute("dir"),ot.inputmask.isRTL=!0,lt=!0),pt.off(ot),B(ot),i(ot,s)&&(pt.on(ot,"submit",et),pt.on(ot,"reset",tt),pt.on(ot,"mouseenter",Z),pt.on(ot,"blur",X),pt.on(ot,"focus",G),pt.on(ot,"mouseleave",Y),pt.on(ot,"click",K),pt.on(ot,"dblclick",Q),pt.on(ot,"paste",V),pt.on(ot,"dragdrop",V),pt.on(ot,"drop",V),pt.on(ot,"cut",J),pt.on(ot,"complete",s.oncomplete),pt.on(ot,"incomplete",s.onincomplete),pt.on(ot,"cleared",s.oncleared),s.inputEventOnly!==!0&&(pt.on(ot,"keydown",z),pt.on(ot,"keypress",H)),pt.on(ot,"input",U)),pt.on(ot,"setvalue",W),C(),""!==ot.inputmask._valueGet()||s.clearMaskOnLostFocus===!1||document.activeElement===ot){var n=e.isFunction(s.onBeforeMask)?s.onBeforeMask(ot.inputmask._valueGet(),s)||ot.inputmask._valueGet():ot.inputmask._valueGet();N(ot,!0,!1,n.split(""));var o=_().slice();it=o.join(""),L(o)===!1&&s.clearIncomplete&&p(),s.clearMaskOnLostFocus&&document.activeElement!==ot&&(-1===f()?o=[]:j(o)),D(ot,o),document.activeElement===ot&&F(ot,M(f()))}}var it,ot,rt,st,at,lt=!1,ct=!1,ut=!1,dt=!1,ht=!0,pt={on:function(n,i,o){var r=function(n){if(void 0===this.inputmask&&"FORM"!==this.nodeName){var i=e.data(this,"_inputmask_opts");i?new t(i).mask(this):pt.off(this)}else{if("setvalue"===n.type||!(this.disabled||this.readOnly&&!("keydown"===n.type&&n.ctrlKey&&67===n.keyCode||s.tabThrough===!1&&n.keyCode===t.keyCode.TAB))){switch(n.type){case"input":if(ut===!0)return ut=!1,n.preventDefault();break;case"keydown":ct=!1,ut=!1;break;case"keypress":if(ct===!0)return n.preventDefault();ct=!0;break;case"click":if(u){var r=this;return setTimeout(function(){o.apply(r,arguments)},0),!1}}var a=o.apply(this,arguments);return a===!1&&(n.preventDefault(),n.stopPropagation()),a}n.preventDefault()}};n.inputmask.events[i]=n.inputmask.events[i]||[],n.inputmask.events[i].push(r),-1!==e.inArray(i,["submit","reset"])?null!=n.form&&e(n.form).on(i,r):e(n).on(i,r)},off:function(t,n){if(t.inputmask&&t.inputmask.events){var i;n?(i=[],i[n]=t.inputmask.events[n]):i=t.inputmask.events,e.each(i,function(n,i){for(;i.length>0;){var o=i.pop();-1!==e.inArray(n,["submit","reset"])?null!=t.form&&e(t.form).off(n,o):e(t).off(n,o)}delete t.inputmask.events[n]})}}};if(void 0!==o)switch(o.action){case"isComplete":return ot=o.el,L(_());case"unmaskedvalue":return ot=o.el,void 0!==ot&&void 0!==ot.inputmask?(r=ot.inputmask.maskset,s=ot.inputmask.opts,lt=ot.inputmask.isRTL):(at=o.value,s.numericInput&&(lt=!0),at=(e.isFunction(s.onBeforeMask)?s.onBeforeMask(at,s)||at:at).split(""),N(void 0,!1,!1,lt?at.reverse():at),e.isFunction(s.onBeforeWrite)&&s.onBeforeWrite(void 0,_(),0,s)),R(ot);case"mask":ot=o.el,r=ot.inputmask.maskset,s=ot.inputmask.opts,lt=ot.inputmask.isRTL,nt(ot);break;case"format":return s.numericInput&&(lt=!0),at=(e.isFunction(s.onBeforeMask)?s.onBeforeMask(o.value,s)||o.value:o.value).split(""),N(void 0,!1,!1,lt?at.reverse():at),e.isFunction(s.onBeforeWrite)&&s.onBeforeWrite(void 0,_(),0,s),o.metadata?{value:lt?_().slice().reverse().join(""):_().join(""),metadata:a({action:"getmetadata"},r,s)}:lt?_().slice().reverse().join(""):_().join("");case"isValid":s.numericInput&&(lt=!0),o.value?(at=o.value.split(""),N(void 0,!1,!0,lt?at.reverse():at)):o.value=_().join("");for(var ft=_(),mt=$(),gt=ft.length-1;gt>mt&&!P(gt);gt--);return ft.splice(mt,gt+1-mt),L(ft)&&o.value===_().join("");case"getemptymask":return C().join("");case"remove":ot=o.el,rt=e(ot),r=ot.inputmask.maskset,s=ot.inputmask.opts,ot.inputmask._valueSet(R(ot)),pt.off(ot);var vt;Object.getOwnPropertyDescriptor&&Object.getPrototypeOf?(vt=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(ot),"value"),vt&&ot.inputmask.__valueGet&&Object.defineProperty(ot,"value",{get:ot.inputmask.__valueGet,set:ot.inputmask.__valueSet,configurable:!0})):document.__lookupGetter__&&ot.__lookupGetter__("value")&&ot.inputmask.__valueGet&&(ot.__defineGetter__("value",ot.inputmask.__valueGet),ot.__defineSetter__("value",ot.inputmask.__valueSet)),ot.inputmask=void 0;break;case"getmetadata":if(e.isArray(r.metadata)){for(var yt,bt=f(void 0,!0),wt=bt;wt>=0;wt--)if(h().validPositions[wt]&&void 0!==h().validPositions[wt].alternation){yt=h().validPositions[wt].alternation;break}return void 0!==yt?r.metadata[h().validPositions[wt].locator[yt]]:[]}return r.metadata}}t.prototype={defaults:{placeholder:"_",optionalmarker:{start:"[",end:"]"},quantifiermarker:{start:"{",end:"}"},groupmarker:{start:"(",end:")"},alternatormarker:"|",escapeChar:"\\",mask:null,oncomplete:e.noop,onincomplete:e.noop,oncleared:e.noop,repeat:0,greedy:!0,autoUnmask:!1,removeMaskOnSubmit:!1,clearMaskOnLostFocus:!0,insertMode:!0,clearIncomplete:!1,aliases:{},alias:null,onKeyDown:e.noop,onBeforeMask:null,onBeforePaste:function(t,n){return e.isFunction(n.onBeforeMask)?n.onBeforeMask(t,n):t},onBeforeWrite:null,onUnMask:null,showMaskOnFocus:!0,showMaskOnHover:!0,onKeyValidation:e.noop,skipOptionalPartCharacter:" ",showTooltip:!1,tooltip:void 0,numericInput:!1,rightAlign:!1,undoOnEscape:!0,radixPoint:"",radixPointDefinitionSymbol:void 0,groupSeparator:"",keepStatic:null,positionCaretOnTab:!0,tabThrough:!1,supportsInputType:["text","tel","password"],definitions:{9:{validator:"[0-9]",cardinality:1,definitionSymbol:"*"},a:{validator:"[A-Za-zА-яЁёÀ-ÿµ]",cardinality:1,definitionSymbol:"*"},"*":{validator:"[0-9A-Za-zА-яЁёÀ-ÿµ]",cardinality:1}},ignorables:[8,9,13,19,27,33,34,35,36,37,38,39,40,45,46,93,112,113,114,115,116,117,118,119,120,121,122,123],isComplete:null,canClearPosition:e.noop,postValidation:null,staticDefinitionSymbol:void 0,jitMasking:!1,nullable:!0,inputEventOnly:!1,positionCaretOnClick:"lvp",casing:null},masksCache:{},mask:function(n){var i=this;return"string"==typeof n&&(n=document.getElementById(n)||document.querySelectorAll(n)),n=n.nodeName?[n]:n,e.each(n,function(n,o){var l=e.extend(!0,{},i.opts);r(o,l,e.extend(!0,{},i.userOptions));var c=s(l,i.noMasksCache);void 0!==c&&(void 0!==o.inputmask&&o.inputmask.remove(),o.inputmask=new t,o.inputmask.opts=l,o.inputmask.noMasksCache=i.noMasksCache,o.inputmask.userOptions=e.extend(!0,{},i.userOptions),o.inputmask.el=o,o.inputmask.maskset=c,o.inputmask.isRTL=!1,e.data(o,"_inputmask_opts",l),a({action:"mask",el:o}))}),n&&n[0]?n[0].inputmask||this:this},option:function(t,n){return"string"==typeof t?this.opts[t]:"object"==typeof t?(e.extend(this.userOptions,t),this.el&&n!==!0&&this.mask(this.el),this):void 0},unmaskedvalue:function(e){return a({action:"unmaskedvalue",el:this.el,value:e},this.el&&this.el.inputmask?this.el.inputmask.maskset:s(this.opts,this.noMasksCache),this.opts)},remove:function(){return this.el?(a({action:"remove",el:this.el}),this.el.inputmask=void 0,this.el):void 0},getemptymask:function(){return a({action:"getemptymask"},this.maskset||s(this.opts,this.noMasksCache),this.opts)},hasMaskedValue:function(){return!this.opts.autoUnmask},isComplete:function(){return a({action:"isComplete",el:this.el},this.maskset||s(this.opts,this.noMasksCache),this.opts)},getmetadata:function(){return a({action:"getmetadata"},this.maskset||s(this.opts,this.noMasksCache),this.opts)},isValid:function(e){return a({action:"isValid",value:e},this.maskset||s(this.opts,this.noMasksCache),this.opts)},format:function(e,t){return a({action:"format",value:e,metadata:t},this.maskset||s(this.opts,this.noMasksCache),this.opts)}},t.extendDefaults=function(n){e.extend(!0,t.prototype.defaults,n)},t.extendDefinitions=function(n){e.extend(!0,t.prototype.defaults.definitions,n)},t.extendAliases=function(n){e.extend(!0,t.prototype.defaults.aliases,n)},t.format=function(e,n,i){return t(n).format(e,i)},t.unmask=function(e,n){return t(n).unmaskedvalue(e)},t.isValid=function(e,n){return t(n).isValid(e)},t.remove=function(t){e.each(t,function(e,t){t.inputmask&&t.inputmask.remove()})},t.escapeRegex=function(e){var t=["/",".","*","+","?","|","(",")","[","]","{","}","\\","$","^"];return e.replace(new RegExp("(\\"+t.join("|\\")+")","gim"),"\\$1")},t.keyCode={ALT:18,BACKSPACE:8,BACKSPACE_SAFARI:127,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91,X:88};var l=navigator.userAgent,c=/mobile/i.test(l),u=/iemobile/i.test(l),d=/iphone/i.test(l)&&!u;return window.Inputmask=t,t}(jQuery),function(e,t){return void 0===e.fn.inputmask&&(e.fn.inputmask=function(n,i){var o,r=this[0];if(void 0===i&&(i={}),"string"==typeof n)switch(n){case"unmaskedvalue":return r&&r.inputmask?r.inputmask.unmaskedvalue():e(r).val();case"remove":return this.each(function(){this.inputmask&&this.inputmask.remove()});case"getemptymask":return r&&r.inputmask?r.inputmask.getemptymask():"";case"hasMaskedValue":return!(!r||!r.inputmask)&&r.inputmask.hasMaskedValue();case"isComplete":return!r||!r.inputmask||r.inputmask.isComplete();case"getmetadata":return r&&r.inputmask?r.inputmask.getmetadata():void 0;case"setvalue":e(r).val(i),r&&void 0===r.inputmask&&e(r).triggerHandler("setvalue");break;case"option":if("string"!=typeof i)return this.each(function(){return void 0!==this.inputmask?this.inputmask.option(i):void 0});if(r&&void 0!==r.inputmask)return r.inputmask.option(i);break;default:return i.alias=n,o=new t(i),this.each(function(){o.mask(this)})}else{if("object"==typeof n)return o=new t(n),this.each(void 0===n.mask&&void 0===n.alias?function(){return void 0!==this.inputmask?this.inputmask.option(n):void o.mask(this)}:function(){o.mask(this)});if(void 0===n)return this.each(function(){o=new t(i),o.mask(this)})}}),e.fn.inputmask}(jQuery,Inputmask),function(e,t){return t.extendDefinitions({h:{validator:"[01][0-9]|2[0-3]",cardinality:2,prevalidator:[{validator:"[0-2]",cardinality:1}]},s:{validator:"[0-5][0-9]",cardinality:2,prevalidator:[{validator:"[0-5]",cardinality:1}]},d:{validator:"0[1-9]|[12][0-9]|3[01]",cardinality:2,prevalidator:[{validator:"[0-3]",cardinality:1}]},m:{validator:"0[1-9]|1[012]",cardinality:2,prevalidator:[{validator:"[01]",cardinality:1}]},y:{validator:"(19|20)\\d{2}",cardinality:4,prevalidator:[{validator:"[12]",cardinality:1},{validator:"(19|20)",cardinality:2},{validator:"(19|20)\\d",cardinality:3}]}}),t.extendAliases({"dd/mm/yyyy":{mask:"1/2/y",placeholder:"dd/mm/yyyy",regex:{val1pre:new RegExp("[0-3]"),val1:new RegExp("0[1-9]|[12][0-9]|3[01]"),val2pre:function(e){var n=t.escapeRegex.call(this,e);return new RegExp("((0[1-9]|[12][0-9]|3[01])"+n+"[01])")},val2:function(e){var n=t.escapeRegex.call(this,e);return new RegExp("((0[1-9]|[12][0-9])"+n+"(0[1-9]|1[012]))|(30"+n+"(0[13-9]|1[012]))|(31"+n+"(0[13578]|1[02]))")}},leapday:"29/02/",separator:"/",yearrange:{minyear:1900,maxyear:2099},isInYearRange:function(e,t,n){if(isNaN(e))return!1;var i=parseInt(e.concat(t.toString().slice(e.length))),o=parseInt(e.concat(n.toString().slice(e.length)));return!isNaN(i)&&i>=t&&n>=i||!isNaN(o)&&o>=t&&n>=o},determinebaseyear:function(e,t,n){var i=(new Date).getFullYear();if(e>i)return e;if(i>t){for(var o=t.toString().slice(0,2),r=t.toString().slice(2,4);o+n>t;)o--;var s=o+r;return e>s?e:s}if(i>=e&&t>=i){for(var a=i.toString().slice(0,2);a+n>t;)a--;var l=a+n;return e>l?e:l}return i},onKeyDown:function(n){var i=e(this);if(n.ctrlKey&&n.keyCode===t.keyCode.RIGHT){var o=new Date;i.val(o.getDate().toString()+(o.getMonth()+1).toString()+o.getFullYear().toString()),i.trigger("setvalue")}},getFrontValue:function(e,t,n){for(var i=0,o=0,r=0;r<e.length&&"2"!==e.charAt(r);r++){var s=n.definitions[e.charAt(r)];s?(i+=o,o=s.cardinality):o++}return t.join("").substr(i,o)},definitions:{1:{validator:function(e,t,n,i,o){var r=o.regex.val1.test(e);return i||r||e.charAt(1)!==o.separator&&-1==="-./".indexOf(e.charAt(1))||!(r=o.regex.val1.test("0"+e.charAt(0)))?r:(t.buffer[n-1]="0",{refreshFromBuffer:{start:n-1,end:n},pos:n,c:e.charAt(0)})},cardinality:2,prevalidator:[{validator:function(e,t,n,i,o){var r=e;isNaN(t.buffer[n+1])||(r+=t.buffer[n+1]);var s=1===r.length?o.regex.val1pre.test(r):o.regex.val1.test(r);if(!i&&!s){if(s=o.regex.val1.test(e+"0"))return t.buffer[n]=e,t.buffer[++n]="0",{pos:n,c:"0"};if(s=o.regex.val1.test("0"+e))return t.buffer[n]="0",n++,{pos:n}}return s},cardinality:1}]},2:{validator:function(e,t,n,i,o){var r=o.getFrontValue(t.mask,t.buffer,o);-1!==r.indexOf(o.placeholder[0])&&(r="01"+o.separator);var s=o.regex.val2(o.separator).test(r+e);if(!i&&!s&&(e.charAt(1)===o.separator||-1!=="-./".indexOf(e.charAt(1)))&&(s=o.regex.val2(o.separator).test(r+"0"+e.charAt(0))))return t.buffer[n-1]="0",{refreshFromBuffer:{start:n-1,end:n},pos:n,c:e.charAt(0)};if(o.mask.indexOf("2")===o.mask.length-1&&s){var a=t.buffer.join("").substr(4,4)+e;if(a!==o.leapday)return!0;var l=parseInt(t.buffer.join("").substr(0,4),10);return l%4===0&&(l%100!==0||l%400===0)}return s},cardinality:2,prevalidator:[{validator:function(e,t,n,i,o){isNaN(t.buffer[n+1])||(e+=t.buffer[n+1]);var r=o.getFrontValue(t.mask,t.buffer,o);-1!==r.indexOf(o.placeholder[0])&&(r="01"+o.separator);var s=1===e.length?o.regex.val2pre(o.separator).test(r+e):o.regex.val2(o.separator).test(r+e);return i||s||!(s=o.regex.val2(o.separator).test(r+"0"+e))?s:(t.buffer[n]="0",n++,{pos:n})},cardinality:1}]},y:{validator:function(e,t,n,i,o){if(o.isInYearRange(e,o.yearrange.minyear,o.yearrange.maxyear)){var r=t.buffer.join("").substr(0,6);if(r!==o.leapday)return!0;var s=parseInt(e,10);return s%4===0&&(s%100!==0||s%400===0)}return!1},cardinality:4,prevalidator:[{validator:function(e,t,n,i,o){var r=o.isInYearRange(e,o.yearrange.minyear,o.yearrange.maxyear);if(!i&&!r){var s=o.determinebaseyear(o.yearrange.minyear,o.yearrange.maxyear,e+"0").toString().slice(0,1);if(r=o.isInYearRange(s+e,o.yearrange.minyear,o.yearrange.maxyear))return t.buffer[n++]=s.charAt(0),{pos:n};if(s=o.determinebaseyear(o.yearrange.minyear,o.yearrange.maxyear,e+"0").toString().slice(0,2),r=o.isInYearRange(s+e,o.yearrange.minyear,o.yearrange.maxyear))return t.buffer[n++]=s.charAt(0),t.buffer[n++]=s.charAt(1),{pos:n}}return r},cardinality:1},{validator:function(e,t,n,i,o){var r=o.isInYearRange(e,o.yearrange.minyear,o.yearrange.maxyear);if(!i&&!r){var s=o.determinebaseyear(o.yearrange.minyear,o.yearrange.maxyear,e).toString().slice(0,2);if(r=o.isInYearRange(e[0]+s[1]+e[1],o.yearrange.minyear,o.yearrange.maxyear))return t.buffer[n++]=s.charAt(1),{pos:n};if(s=o.determinebaseyear(o.yearrange.minyear,o.yearrange.maxyear,e).toString().slice(0,2),o.isInYearRange(s+e,o.yearrange.minyear,o.yearrange.maxyear)){var a=t.buffer.join("").substr(0,6);if(a!==o.leapday)r=!0;else{var l=parseInt(e,10);r=l%4===0&&(l%100!==0||l%400===0)}}else r=!1;if(r)return t.buffer[n-1]=s.charAt(0),t.buffer[n++]=s.charAt(1),t.buffer[n++]=e.charAt(0),{refreshFromBuffer:{start:n-3,end:n},pos:n}}return r},cardinality:2},{validator:function(e,t,n,i,o){return o.isInYearRange(e,o.yearrange.minyear,o.yearrange.maxyear)},cardinality:3}]}},insertMode:!1,autoUnmask:!1},"mm/dd/yyyy":{placeholder:"mm/dd/yyyy",alias:"dd/mm/yyyy",regex:{val2pre:function(e){var n=t.escapeRegex.call(this,e);return new RegExp("((0[13-9]|1[012])"+n+"[0-3])|(02"+n+"[0-2])")},val2:function(e){var n=t.escapeRegex.call(this,e);return new RegExp("((0[1-9]|1[012])"+n+"(0[1-9]|[12][0-9]))|((0[13-9]|1[012])"+n+"30)|((0[13578]|1[02])"+n+"31)")},val1pre:new RegExp("[01]"),val1:new RegExp("0[1-9]|1[012]")},leapday:"02/29/",onKeyDown:function(n){var i=e(this);if(n.ctrlKey&&n.keyCode===t.keyCode.RIGHT){var o=new Date;i.val((o.getMonth()+1).toString()+o.getDate().toString()+o.getFullYear().toString()),i.trigger("setvalue")}}},"yyyy/mm/dd":{mask:"y/1/2",placeholder:"yyyy/mm/dd",alias:"mm/dd/yyyy",leapday:"/02/29",onKeyDown:function(n){var i=e(this);if(n.ctrlKey&&n.keyCode===t.keyCode.RIGHT){var o=new Date;i.val(o.getFullYear().toString()+(o.getMonth()+1).toString()+o.getDate().toString()),i.trigger("setvalue")}}},"dd.mm.yyyy":{mask:"1.2.y",placeholder:"dd.mm.yyyy",leapday:"29.02.",separator:".",alias:"dd/mm/yyyy"},"dd-mm-yyyy":{mask:"1-2-y",placeholder:"dd-mm-yyyy",leapday:"29-02-",separator:"-",alias:"dd/mm/yyyy"},"mm.dd.yyyy":{mask:"1.2.y",placeholder:"mm.dd.yyyy",leapday:"02.29.",separator:".",alias:"mm/dd/yyyy"},"mm-dd-yyyy":{mask:"1-2-y",placeholder:"mm-dd-yyyy",leapday:"02-29-",separator:"-",alias:"mm/dd/yyyy"},"yyyy.mm.dd":{mask:"y.1.2",placeholder:"yyyy.mm.dd",leapday:".02.29",separator:".",alias:"yyyy/mm/dd"},"yyyy-mm-dd":{mask:"y-1-2",placeholder:"yyyy-mm-dd",leapday:"-02-29",separator:"-",alias:"yyyy/mm/dd"},datetime:{mask:"1/2/y h:s",placeholder:"dd/mm/yyyy hh:mm",alias:"dd/mm/yyyy",regex:{hrspre:new RegExp("[012]"),hrs24:new RegExp("2[0-4]|1[3-9]"),hrs:new RegExp("[01][0-9]|2[0-4]"),ampm:new RegExp("^[a|p|A|P][m|M]"),mspre:new RegExp("[0-5]"),ms:new RegExp("[0-5][0-9]")},timeseparator:":",hourFormat:"24",definitions:{h:{validator:function(e,t,n,i,o){if("24"===o.hourFormat&&24===parseInt(e,10))return t.buffer[n-1]="0",t.buffer[n]="0",{refreshFromBuffer:{start:n-1,end:n},c:"0"};var r=o.regex.hrs.test(e);if(!i&&!r&&(e.charAt(1)===o.timeseparator||-1!=="-.:".indexOf(e.charAt(1)))&&(r=o.regex.hrs.test("0"+e.charAt(0))))return t.buffer[n-1]="0",t.buffer[n]=e.charAt(0),n++,{refreshFromBuffer:{start:n-2,end:n},pos:n,c:o.timeseparator};if(r&&"24"!==o.hourFormat&&o.regex.hrs24.test(e)){var s=parseInt(e,10);return 24===s?(t.buffer[n+5]="a",t.buffer[n+6]="m"):(t.buffer[n+5]="p",t.buffer[n+6]="m"),s-=12,10>s?(t.buffer[n]=s.toString(),t.buffer[n-1]="0"):(t.buffer[n]=s.toString().charAt(1),t.buffer[n-1]=s.toString().charAt(0)),{refreshFromBuffer:{start:n-1,end:n+6},c:t.buffer[n]}}return r},cardinality:2,prevalidator:[{validator:function(e,t,n,i,o){var r=o.regex.hrspre.test(e);return i||r||!(r=o.regex.hrs.test("0"+e))?r:(t.buffer[n]="0",n++,{pos:n})},cardinality:1}]},s:{validator:"[0-5][0-9]",cardinality:2,prevalidator:[{validator:function(e,t,n,i,o){var r=o.regex.mspre.test(e);return i||r||!(r=o.regex.ms.test("0"+e))?r:(t.buffer[n]="0",n++,{pos:n})},cardinality:1}]},t:{validator:function(e,t,n,i,o){return o.regex.ampm.test(e+"m")},casing:"lower",cardinality:1}},insertMode:!1,autoUnmask:!1},datetime12:{mask:"1/2/y h:s t\\m",placeholder:"dd/mm/yyyy hh:mm xm",alias:"datetime",hourFormat:"12"},"mm/dd/yyyy hh:mm xm":{mask:"1/2/y h:s t\\m",placeholder:"mm/dd/yyyy hh:mm xm",alias:"datetime12",regex:{val2pre:function(e){var n=t.escapeRegex.call(this,e);return new RegExp("((0[13-9]|1[012])"+n+"[0-3])|(02"+n+"[0-2])")},val2:function(e){var n=t.escapeRegex.call(this,e);return new RegExp("((0[1-9]|1[012])"+n+"(0[1-9]|[12][0-9]))|((0[13-9]|1[012])"+n+"30)|((0[13578]|1[02])"+n+"31)")},val1pre:new RegExp("[01]"),val1:new RegExp("0[1-9]|1[012]")},leapday:"02/29/",onKeyDown:function(n){var i=e(this);if(n.ctrlKey&&n.keyCode===t.keyCode.RIGHT){var o=new Date;i.val((o.getMonth()+1).toString()+o.getDate().toString()+o.getFullYear().toString()),i.trigger("setvalue")}}},"hh:mm t":{mask:"h:s t\\m",placeholder:"hh:mm xm",alias:"datetime",hourFormat:"12"},"h:s t":{mask:"h:s t\\m",placeholder:"hh:mm xm",alias:"datetime",hourFormat:"12"},"hh:mm:ss":{mask:"h:s:s",placeholder:"hh:mm:ss",alias:"datetime",autoUnmask:!1},"hh:mm":{mask:"h:s",placeholder:"hh:mm",alias:"datetime",autoUnmask:!1},date:{alias:"dd/mm/yyyy"},"mm/yyyy":{mask:"1/y",placeholder:"mm/yyyy",leapday:"donotuse",separator:"/",alias:"mm/dd/yyyy"},shamsi:{regex:{val2pre:function(e){var n=t.escapeRegex.call(this,e);return new RegExp("((0[1-9]|1[012])"+n+"[0-3])")},val2:function(e){var n=t.escapeRegex.call(this,e);return new RegExp("((0[1-9]|1[012])"+n+"(0[1-9]|[12][0-9]))|((0[1-9]|1[012])"+n+"30)|((0[1-6])"+n+"31)")},val1pre:new RegExp("[01]"),val1:new RegExp("0[1-9]|1[012]")},yearrange:{minyear:1300,maxyear:1499},mask:"y/1/2",leapday:"/12/30",placeholder:"yyyy/mm/dd",alias:"mm/dd/yyyy",clearIncomplete:!0}}),t}(jQuery,Inputmask),function(e,t){return t.extendDefinitions({A:{validator:"[A-Za-zА-яЁёÀ-ÿµ]",cardinality:1,casing:"upper"},"&":{validator:"[0-9A-Za-zА-яЁёÀ-ÿµ]",cardinality:1,casing:"upper"},"#":{validator:"[0-9A-Fa-f]",cardinality:1,casing:"upper"}}),t.extendAliases({url:{definitions:{i:{validator:".",cardinality:1}},mask:"(\\http://)|(\\http\\s://)|(ftp://)|(ftp\\s://)i{+}",insertMode:!1,autoUnmask:!1},ip:{mask:"i[i[i]].i[i[i]].i[i[i]].i[i[i]]",definitions:{i:{validator:function(e,t,n){return n-1>-1&&"."!==t.buffer[n-1]?(e=t.buffer[n-1]+e,e=n-2>-1&&"."!==t.buffer[n-2]?t.buffer[n-2]+e:"0"+e):e="00"+e,new RegExp("25[0-5]|2[0-4][0-9]|[01][0-9][0-9]").test(e)},cardinality:1}},onUnMask:function(e){return e}},email:{mask:"*{1,64}[.*{1,64}][.*{1,64}][.*{1,63}]@-{1,63}.-{1,63}[.-{1,63}][.-{1,63}]",greedy:!1,onBeforePaste:function(e){return e=e.toLowerCase(),e.replace("mailto:","")},definitions:{"*":{validator:"[0-9A-Za-z!#$%&'*+/=?^_`{|}~-]",cardinality:1,casing:"lower"},"-":{validator:"[0-9A-Za-z-]",cardinality:1,casing:"lower"}},onUnMask:function(e){return e}},mac:{mask:"##:##:##:##:##:##"},vin:{mask:"V{13}9{4}",definitions:{V:{validator:"[A-HJ-NPR-Za-hj-npr-z\\d]",cardinality:1,casing:"upper"}},clearIncomplete:!0,autoUnmask:!0}}),t}(jQuery,Inputmask),function(e,t){return t.extendAliases({numeric:{mask:function(e){function n(t){for(var n="",i=0;i<t.length;i++)n+=e.definitions[t.charAt(i)]||e.optionalmarker.start===t.charAt(i)||e.optionalmarker.end===t.charAt(i)||e.quantifiermarker.start===t.charAt(i)||e.quantifiermarker.end===t.charAt(i)||e.groupmarker.start===t.charAt(i)||e.groupmarker.end===t.charAt(i)||e.alternatormarker===t.charAt(i)?"\\"+t.charAt(i):t.charAt(i);return n}if(0!==e.repeat&&isNaN(e.integerDigits)&&(e.integerDigits=e.repeat),e.repeat=0,e.groupSeparator===e.radixPoint&&(e.groupSeparator="."===e.radixPoint?",":","===e.radixPoint?".":"")," "===e.groupSeparator&&(e.skipOptionalPartCharacter=void 0),e.autoGroup=e.autoGroup&&""!==e.groupSeparator,e.autoGroup&&("string"==typeof e.groupSize&&isFinite(e.groupSize)&&(e.groupSize=parseInt(e.groupSize)),isFinite(e.integerDigits))){var i=Math.floor(e.integerDigits/e.groupSize),o=e.integerDigits%e.groupSize;e.integerDigits=parseInt(e.integerDigits)+(0===o?i-1:i),e.integerDigits<1&&(e.integerDigits="*")}e.placeholder.length>1&&(e.placeholder=e.placeholder.charAt(0)),"radixFocus"===e.positionCaretOnClick&&""===e.placeholder&&e.integerOptional===!1&&(e.positionCaretOnClick="lvp"),e.definitions[";"]=e.definitions["~"],e.definitions[";"].definitionSymbol="~",e.numericInput===!0&&(e.positionCaretOnClick="radixFocus"===e.positionCaretOnClick?"lvp":e.positionCaretOnClick,e.digitsOptional=!1,isNaN(e.digits)&&(e.digits=2),e.decimalProtect=!1);var r=n(e.prefix);if(r+="[+]",r+=e.integerOptional===!0?"~{1,"+e.integerDigits+"}":"~{"+e.integerDigits+"}",void 0!==e.digits){e.decimalProtect&&(e.radixPointDefinitionSymbol=":");var s=e.digits.toString().split(",");isFinite(s[0]&&s[1]&&isFinite(s[1]))?r+=(e.decimalProtect?":":e.radixPoint)+";{"+e.digits+"}":(isNaN(e.digits)||parseInt(e.digits)>0)&&(r+=e.digitsOptional?"["+(e.decimalProtect?":":e.radixPoint)+";{1,"+e.digits+"}]":(e.decimalProtect?":":e.radixPoint)+";{"+e.digits+"}")}return r+="[-]",r+=n(e.suffix),e.greedy=!1,null!==e.min&&(e.min=e.min.toString().replace(new RegExp(t.escapeRegex(e.groupSeparator),"g"),""),","===e.radixPoint&&(e.min=e.min.replace(e.radixPoint,"."))),null!==e.max&&(e.max=e.max.toString().replace(new RegExp(t.escapeRegex(e.groupSeparator),"g"),""),","===e.radixPoint&&(e.max=e.max.replace(e.radixPoint,"."))),r},placeholder:"",greedy:!1,digits:"*",digitsOptional:!0,radixPoint:".",positionCaretOnClick:"radixFocus",groupSize:3,groupSeparator:"",autoGroup:!1,allowPlus:!0,allowMinus:!0,negationSymbol:{front:"-",back:""},integerDigits:"+",integerOptional:!0,prefix:"",suffix:"",rightAlign:!0,decimalProtect:!0,min:null,max:null,step:1,insertMode:!0,autoUnmask:!1,unmaskAsNumber:!1,postFormat:function(n,i,o){o.numericInput===!0&&(n=n.reverse(),isFinite(i)&&(i=n.join("").length-i-1));
var r,s;i=i>=n.length?n.length-1:i<o.prefix.length?o.prefix.length:i;var a=n[i],l=n.slice();a===o.groupSeparator&&(l.splice(i--,1),a=l[i]),l[i]="!";var c=l.join(""),u=c;if(c=c.replace(new RegExp(t.escapeRegex(o.suffix)+"$"),""),c=c.replace(new RegExp("^"+t.escapeRegex(o.prefix)),""),c.length>0&&o.autoGroup||-1!==c.indexOf(o.groupSeparator)){var d=t.escapeRegex(o.groupSeparator);c=c.replace(new RegExp(d,"g"),"");var h=c.split(a===o.radixPoint?"!":o.radixPoint);if(c=""===o.radixPoint?c:h[0],a!==o.negationSymbol.front&&(c=c.replace("!","?")),c.length>o.groupSize)for(var p=new RegExp("([-+]?[\\d?]+)([\\d?]{"+o.groupSize+"})");p.test(c)&&""!==o.groupSeparator;)c=c.replace(p,"$1"+o.groupSeparator+"$2"),c=c.replace(o.groupSeparator+o.groupSeparator,o.groupSeparator);c=c.replace("?","!"),""!==o.radixPoint&&h.length>1&&(c+=(a===o.radixPoint?"!":o.radixPoint)+h[1])}c=o.prefix+c+o.suffix;var f=u!==c;if(f)for(n.length=c.length,r=0,s=c.length;s>r;r++)n[r]=c.charAt(r);var m=e.inArray("!",c);return n[m]=a,m=o.numericInput&&isFinite(i)?n.join("").length-m-1:m,o.numericInput&&(n=n.reverse(),e.inArray(o.radixPoint,n)<m&&n.join("").length-o.suffix.length!==m&&(m-=1)),{pos:m,refreshFromBuffer:f,buffer:n}},onBeforeWrite:function(n,i,o,r){var s;if(n&&("blur"===n.type||"checkval"===n.type||"keydown"===n.type)){var a=r.numericInput?i.slice().reverse().join(""):i.join(""),l=a.replace(r.prefix,"");l=l.replace(r.suffix,""),l=l.replace(new RegExp(t.escapeRegex(r.groupSeparator),"g"),""),","===r.radixPoint&&(l=l.replace(r.radixPoint,"."));var c=l.match(new RegExp("[-"+t.escapeRegex(r.negationSymbol.front)+"]","g"));if(c=null!==c&&1===c.length,l=l.replace(new RegExp("[-"+t.escapeRegex(r.negationSymbol.front)+"]","g"),""),l=l.replace(new RegExp(t.escapeRegex(r.negationSymbol.back)+"$"),""),isNaN(r.placeholder)&&(l=l.replace(new RegExp(t.escapeRegex(r.placeholder),"g"),"")),l=l===r.negationSymbol.front?l+"0":l,""!==l&&isFinite(l)){var u=parseFloat(l),d=c?-1*u:u;if(null!==r.min&&isFinite(r.min)&&d<parseFloat(r.min)?(u=Math.abs(r.min),c=r.min<0,a=void 0):null!==r.max&&isFinite(r.max)&&d>parseFloat(r.max)&&(u=Math.abs(r.max),c=r.max<0,a=void 0),l=u.toString().replace(".",r.radixPoint).split(""),isFinite(r.digits)){var h=e.inArray(r.radixPoint,l),p=e.inArray(r.radixPoint,a);-1===h&&(l.push(r.radixPoint),h=l.length-1);for(var f=1;f<=r.digits;f++)r.digitsOptional||void 0!==l[h+f]&&l[h+f]!==r.placeholder.charAt(0)?-1!==p&&void 0!==a[p+f]&&(l[h+f]=l[h+f]||a[p+f]):l[h+f]="0";l[l.length-1]===r.radixPoint&&delete l[l.length-1]}if(u.toString()!==l&&u.toString()+"."!==l||c)return!c||0===u&&"blur"===n.type||(l.unshift(r.negationSymbol.front),l.push(r.negationSymbol.back)),l=(r.prefix+l.join("")).split(""),r.numericInput&&(l=l.reverse()),s=r.postFormat(l,r.numericInput?o:o-1,r),s.buffer&&(s.refreshFromBuffer=s.buffer.join("")!==i.join("")),s}}return r.autoGroup?(s=r.postFormat(i,r.numericInput?o:o-1,r),s.caret=o<=r.prefix.length?s.pos:s.pos+1,s):void 0},regex:{integerPart:function(e){return new RegExp("["+t.escapeRegex(e.negationSymbol.front)+"+]?\\d+")},integerNPart:function(e){return new RegExp("[\\d"+t.escapeRegex(e.groupSeparator)+t.escapeRegex(e.placeholder.charAt(0))+"]+")}},signHandler:function(e,t,n,i,o){if(!i&&o.allowMinus&&"-"===e||o.allowPlus&&"+"===e){var r=t.buffer.join("").match(o.regex.integerPart(o));if(r&&r[0].length>0)return t.buffer[r.index]===("-"===e?"+":o.negationSymbol.front)?"-"===e?""!==o.negationSymbol.back?{pos:r.index,c:o.negationSymbol.front,remove:r.index,caret:n,insert:{pos:t.buffer.length-o.suffix.length-1,c:o.negationSymbol.back}}:{pos:r.index,c:o.negationSymbol.front,remove:r.index,caret:n}:""!==o.negationSymbol.back?{pos:r.index,c:"+",remove:[r.index,t.buffer.length-o.suffix.length-1],caret:n}:{pos:r.index,c:"+",remove:r.index,caret:n}:t.buffer[r.index]===("-"===e?o.negationSymbol.front:"+")?"-"===e&&""!==o.negationSymbol.back?{remove:[r.index,t.buffer.length-o.suffix.length-1],caret:n-1}:{remove:r.index,caret:n-1}:"-"===e?""!==o.negationSymbol.back?{pos:r.index,c:o.negationSymbol.front,caret:n+1,insert:{pos:t.buffer.length-o.suffix.length,c:o.negationSymbol.back}}:{pos:r.index,c:o.negationSymbol.front,caret:n+1}:{pos:r.index,c:e,caret:n+1}}return!1},radixHandler:function(t,n,i,o,r){if(!o&&r.numericInput!==!0&&t===r.radixPoint&&void 0!==r.digits&&(isNaN(r.digits)||parseInt(r.digits)>0)){var s=e.inArray(r.radixPoint,n.buffer),a=n.buffer.join("").match(r.regex.integerPart(r));if(-1!==s&&n.validPositions[s])return n.validPositions[s-1]?{caret:s+1}:{pos:a.index,c:a[0],caret:s+1};if(!a||"0"===a[0]&&a.index+1!==i)return n.buffer[a?a.index:i]="0",{pos:(a?a.index:i)+1,c:r.radixPoint}}return!1},leadingZeroHandler:function(t,n,i,o,r,s){if(!o){var a=n.buffer.slice("");if(a.splice(0,r.prefix.length),a.splice(a.length-r.suffix.length,r.suffix.length),r.numericInput===!0){var a=a.reverse(),l=a[0];if("0"===l&&void 0===n.validPositions[i-1])return{pos:i,remove:a.length-1}}else{i-=r.prefix.length;var c=e.inArray(r.radixPoint,a),u=a.slice(0,-1!==c?c:void 0).join("").match(r.regex.integerNPart(r));if(u&&(-1===c||c>=i)){var d=-1===c?0:parseInt(a.slice(c+1).join(""));if(0===u[0].indexOf(""!==r.placeholder?r.placeholder.charAt(0):"0")&&(u.index+1===i||s!==!0&&0===d))return n.buffer.splice(u.index+r.prefix.length,1),{pos:u.index+r.prefix.length,remove:u.index+r.prefix.length};if("0"===t&&i<=u.index&&u[0]!==r.groupSeparator)return!1}}}return!0},definitions:{"~":{validator:function(n,i,o,r,s,a){var l=s.signHandler(n,i,o,r,s);if(!l&&(l=s.radixHandler(n,i,o,r,s),!l&&(l=r?new RegExp("[0-9"+t.escapeRegex(s.groupSeparator)+"]").test(n):new RegExp("[0-9]").test(n),l===!0&&(l=s.leadingZeroHandler(n,i,o,r,s,a),l===!0)))){var c=e.inArray(s.radixPoint,i.buffer);l=-1!==c&&(s.digitsOptional===!1||i.validPositions[o])&&s.numericInput!==!0&&o>c&&!r?{pos:o,remove:o}:{pos:o}}return l},cardinality:1},"+":{validator:function(e,t,n,i,o){var r=o.signHandler(e,t,n,i,o);return!r&&(i&&o.allowMinus&&e===o.negationSymbol.front||o.allowMinus&&"-"===e||o.allowPlus&&"+"===e)&&(r=!(!i&&"-"===e)||(""!==o.negationSymbol.back?{pos:n,c:"-"===e?o.negationSymbol.front:"+",caret:n+1,insert:{pos:t.buffer.length,c:o.negationSymbol.back}}:{pos:n,c:"-"===e?o.negationSymbol.front:"+",caret:n+1})),r},cardinality:1,placeholder:""},"-":{validator:function(e,t,n,i,o){var r=o.signHandler(e,t,n,i,o);return!r&&i&&o.allowMinus&&e===o.negationSymbol.back&&(r=!0),r},cardinality:1,placeholder:""},":":{validator:function(e,n,i,o,r){var s=r.signHandler(e,n,i,o,r);if(!s){var a="["+t.escapeRegex(r.radixPoint)+"]";s=new RegExp(a).test(e),s&&n.validPositions[i]&&n.validPositions[i].match.placeholder===r.radixPoint&&(s={caret:i+1})}return s?{c:r.radixPoint}:s},cardinality:1,placeholder:function(e){return e.radixPoint}}},onUnMask:function(e,n,i){if(""===n&&i.nullable===!0)return n;var o=e.replace(i.prefix,"");return o=o.replace(i.suffix,""),o=o.replace(new RegExp(t.escapeRegex(i.groupSeparator),"g"),""),i.unmaskAsNumber?(""!==i.radixPoint&&-1!==o.indexOf(i.radixPoint)&&(o=o.replace(t.escapeRegex.call(this,i.radixPoint),".")),Number(o)):o},isComplete:function(e,n){var i=e.join(""),o=e.slice();if(n.postFormat(o,0,n),o.join("")!==i)return!1;var r=i.replace(n.prefix,"");return r=r.replace(n.suffix,""),r=r.replace(new RegExp(t.escapeRegex(n.groupSeparator),"g"),""),","===n.radixPoint&&(r=r.replace(t.escapeRegex(n.radixPoint),".")),isFinite(r)},onBeforeMask:function(e,n){if(n.numericInput===!0&&(e=e.split("").reverse().join("")),""!==n.radixPoint&&isFinite(e))e=e.toString().replace(".",n.radixPoint);else{var i=e.match(/,/g),o=e.match(/\./g);o&&i?o.length>i.length?(e=e.replace(/\./g,""),e=e.replace(",",n.radixPoint)):i.length>o.length?(e=e.replace(/,/g,""),e=e.replace(".",n.radixPoint)):e=e.indexOf(".")<e.indexOf(",")?e.replace(/\./g,""):e=e.replace(/,/g,""):e=e.replace(new RegExp(t.escapeRegex(n.groupSeparator),"g"),"")}if(0===n.digits&&(-1!==e.indexOf(".")?e=e.substring(0,e.indexOf(".")):-1!==e.indexOf(",")&&(e=e.substring(0,e.indexOf(",")))),""!==n.radixPoint&&isFinite(n.digits)&&-1!==e.indexOf(n.radixPoint)){var r=e.split(n.radixPoint),s=r[1].match(new RegExp("\\d*"))[0];if(parseInt(n.digits)<s.toString().length){var a=Math.pow(10,parseInt(n.digits));e=e.replace(t.escapeRegex(n.radixPoint),"."),e=Math.round(parseFloat(e)*a)/a,e=e.toString().replace(".",n.radixPoint)}}return n.numericInput===!0&&(e=e.split("").reverse().join("")),e.toString()},canClearPosition:function(e,t,n,i,o){var r=e.validPositions[t].input,s=r!==o.radixPoint||null!==e.validPositions[t].match.fn&&o.decimalProtect===!1||isFinite(r)||t===n||r===o.groupSeparator||r===o.negationSymbol.front||r===o.negationSymbol.back;return s},onKeyDown:function(n,i,o,r){var s=e(this);if(n.ctrlKey)switch(n.keyCode){case t.keyCode.UP:s.val(parseFloat(this.inputmask.unmaskedvalue())+parseInt(r.step)),s.trigger("setvalue");break;case t.keyCode.DOWN:s.val(parseFloat(this.inputmask.unmaskedvalue())-parseInt(r.step)),s.trigger("setvalue")}}},currency:{prefix:"$ ",groupSeparator:",",alias:"numeric",placeholder:"0",autoGroup:!0,digits:2,digitsOptional:!1,clearMaskOnLostFocus:!1},decimal:{alias:"numeric"},integer:{alias:"numeric",digits:0,radixPoint:""},percentage:{alias:"numeric",digits:2,radixPoint:".",placeholder:"0",autoGroup:!1,min:0,max:100,suffix:" %",allowPlus:!1,allowMinus:!1}}),t}(jQuery,Inputmask),function(e,t){return t.extendAliases({abstractphone:{countrycode:"",phoneCodes:[],mask:function(e){e.definitions={"#":e.definitions[9]};var t=e.phoneCodes.sort(function(e,t){var n=(e.mask||e).replace(/#/g,"9").replace(/[\+\(\)#-]/g,""),i=(t.mask||t).replace(/#/g,"9").replace(/[\+\(\)#-]/g,""),o=(e.mask||e).split("#")[0],r=(t.mask||t).split("#")[0];return 0===r.indexOf(o)?-1:0===o.indexOf(r)?1:n.localeCompare(i)});return t},keepStatic:!0,onBeforeMask:function(e,t){var n=e.replace(/^0{1,2}/,"").replace(/[\s]/g,"");return(n.indexOf(t.countrycode)>1||-1===n.indexOf(t.countrycode))&&(n="+"+t.countrycode+n),n},onUnMask:function(e,t){return t}}}),t}(jQuery,Inputmask),function(e,t){return t.extendAliases({Regex:{mask:"r",greedy:!1,repeat:"*",regex:null,regexTokens:null,tokenizer:/\[\^?]?(?:[^\\\]]+|\\[\S\s]?)*]?|\\(?:0(?:[0-3][0-7]{0,2}|[4-7][0-7]?)?|[1-9][0-9]*|x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4}|c[A-Za-z]|[\S\s]?)|\((?:\?[:=!]?)?|(?:[?*+]|\{[0-9]+(?:,[0-9]*)?\})\??|[^.?*+^${[()|\\]+|./g,quantifierFilter:/[0-9]+[^,]/,isComplete:function(e,t){return new RegExp(t.regex).test(e.join(""))},definitions:{r:{validator:function(t,n,i,o,r){function s(e,t){this.matches=[],this.isGroup=e||!1,this.isQuantifier=t||!1,this.quantifier={min:1,max:1},this.repeaterPart=void 0}function a(){var e,t,n=new s,i=[];for(r.regexTokens=[];e=r.tokenizer.exec(r.regex);)switch(t=e[0],t.charAt(0)){case"(":i.push(new s(!0));break;case")":u=i.pop(),i.length>0?i[i.length-1].matches.push(u):n.matches.push(u);break;case"{":case"+":case"*":var o=new s(!1,!0);t=t.replace(/[{}]/g,"");var a=t.split(","),l=isNaN(a[0])?a[0]:parseInt(a[0]),c=1===a.length?l:isNaN(a[1])?a[1]:parseInt(a[1]);if(o.quantifier={min:l,max:c},i.length>0){var d=i[i.length-1].matches;e=d.pop(),e.isGroup||(u=new s(!0),u.matches.push(e),e=u),d.push(e),d.push(o)}else e=n.matches.pop(),e.isGroup||(u=new s(!0),u.matches.push(e),e=u),n.matches.push(e),n.matches.push(o);break;default:i.length>0?i[i.length-1].matches.push(t):n.matches.push(t)}n.matches.length>0&&r.regexTokens.push(n)}function l(t,n){var i=!1;n&&(h+="(",f++);for(var o=0;o<t.matches.length;o++){var r=t.matches[o];if(r.isGroup===!0)i=l(r,!0);else if(r.isQuantifier===!0){var s=e.inArray(r,t.matches),a=t.matches[s-1],u=h;if(isNaN(r.quantifier.max)){for(;r.repeaterPart&&r.repeaterPart!==h&&r.repeaterPart.length>h.length&&!(i=l(a,!0)););i=i||l(a,!0),i&&(r.repeaterPart=h),h=u+r.quantifier.max}else{for(var d=0,p=r.quantifier.max-1;p>d&&!(i=l(a,!0));d++);h=u+"{"+r.quantifier.min+","+r.quantifier.max+"}"}}else if(void 0!==r.matches)for(var m=0;m<r.length&&!(i=l(r[m],n));m++);else{var g;if("["==r.charAt(0)){g=h,g+=r;for(var v=0;f>v;v++)g+=")";var y=new RegExp("^("+g+")$");i=y.test(c)}else for(var b=0,w=r.length;w>b;b++)if("\\"!==r.charAt(b)){g=h,g+=r.substr(0,b+1),g=g.replace(/\|$/,"");for(var v=0;f>v;v++)g+=")";var y=new RegExp("^("+g+")$");if(i=y.test(c))break}h+=r}if(i)break}return n&&(h+=")",f--),i}var c,u,d=n.buffer.slice(),h="",p=!1,f=0;null===r.regexTokens&&a(),d.splice(i,0,t),c=d.join("");for(var m=0;m<r.regexTokens.length;m++){var g=r.regexTokens[m];if(p=l(g,g.isGroup))break}return p},cardinality:1}}}}),t}(jQuery,Inputmask)}.apply(e,arguments)})}(this),function(e,t){"function"==typeof define&&define.amd?define("typeahead",["jquery"],function(e){return t(e)}):"object"==typeof exports?module.exports=t(require("jquery")):t(jQuery)}(this,function(e){var t=function(){return{isMsie:function(){return/(msie|trident)/i.test(navigator.userAgent)?navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]:!1},isBlankString:function(e){return!e||/^\s*$/.test(e)},escapeRegExChars:function(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isArray:e.isArray,isFunction:e.isFunction,isObject:e.isPlainObject,isUndefined:function(e){return"undefined"==typeof e},isElement:function(e){return!(!e||1!==e.nodeType)},isJQuery:function(t){return t instanceof e},toStr:function(e){return t.isUndefined(e)||null===e?"":e+""},bind:e.proxy,each:function(t,n){function i(e,t){return n(t,e)}e.each(t,i)},map:e.map,filter:e.grep,every:function(t,n){var i=!0;return t?(e.each(t,function(e,o){return(i=n.call(null,o,e,t))?void 0:!1}),!!i):i},some:function(t,n){var i=!1;return t?(e.each(t,function(e,o){return(i=n.call(null,o,e,t))?!1:void 0}),!!i):i},mixin:e.extend,identity:function(e){return e},clone:function(t){return e.extend(!0,{},t)},getIdGenerator:function(){var e=0;return function(){return e++}},templatify:function(t){function n(){return String(t)}return e.isFunction(t)?t:n},defer:function(e){setTimeout(e,0)},debounce:function(e,t,n){var i,o;return function(){var r,s,a=this,l=arguments;return r=function(){i=null,n||(o=e.apply(a,l))},s=n&&!i,clearTimeout(i),i=setTimeout(r,t),s&&(o=e.apply(a,l)),o}},throttle:function(e,t){var n,i,o,r,s,a;return s=0,a=function(){s=new Date,o=null,r=e.apply(n,i)},function(){var l=new Date,c=t-(l-s);return n=this,i=arguments,0>=c?(clearTimeout(o),o=null,s=l,r=e.apply(n,i)):o||(o=setTimeout(a,c)),r}},stringify:function(e){return t.isString(e)?e:JSON.stringify(e)},noop:function(){}}}(),n=function(){function e(e){var s,a;return a=t.mixin({},r,e),s={css:o(),classes:a,html:n(a),selectors:i(a)},{css:s.css,html:s.html,classes:s.classes,selectors:s.selectors,mixin:function(e){t.mixin(e,s)}}}function n(e){return{wrapper:'<span class="'+e.wrapper+'"></span>',menu:'<div class="'+e.menu+'"></div>'}}function i(e){var n={};return t.each(e,function(e,t){n[t]="."+e}),n}function o(){var e={wrapper:{position:"relative",display:"inline-block"},hint:{position:"absolute",top:"0",left:"0",borderColor:"transparent",boxShadow:"none",opacity:"1"},input:{position:"relative",verticalAlign:"top",backgroundColor:"transparent"},inputWithNoHint:{position:"relative",verticalAlign:"top"},menu:{position:"absolute",top:"100%",left:"0",zIndex:"100",display:"none"},ltr:{left:"0",right:"auto"},rtl:{left:"auto",right:" 0"}};return t.isMsie()&&t.mixin(e.input,{backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)"}),e}var r={wrapper:"twitter-typeahead",input:"tt-input",hint:"tt-hint",menu:"tt-menu",dataset:"tt-dataset",suggestion:"tt-suggestion",selectable:"tt-selectable",empty:"tt-empty",open:"tt-open",cursor:"tt-cursor",highlight:"tt-highlight"};return e}(),i=function(){function n(t){t&&t.el||e.error("EventBus initialized without el"),this.$el=e(t.el)}var i,o;return i="typeahead:",o={render:"rendered",cursorchange:"cursorchanged",select:"selected",autocomplete:"autocompleted"},t.mixin(n.prototype,{_trigger:function(t,n){var o;return o=e.Event(i+t),(n=n||[]).unshift(o),this.$el.trigger.apply(this.$el,n),o},before:function(e){var t,n;return t=[].slice.call(arguments,1),n=this._trigger("before"+e,t),n.isDefaultPrevented()},trigger:function(e){var t;this._trigger(e,[].slice.call(arguments,1)),(t=o[e])&&this._trigger(t,[].slice.call(arguments,1))}}),n}(),o=function(){function e(e,t,n,i){var o;if(!n)return this;for(t=t.split(l),n=i?a(n,i):n,this._callbacks=this._callbacks||{};o=t.shift();)this._callbacks[o]=this._callbacks[o]||{sync:[],async:[]},this._callbacks[o][e].push(n);return this}function t(t,n,i){return e.call(this,"async",t,n,i)}function n(t,n,i){return e.call(this,"sync",t,n,i)}function i(e){var t;if(!this._callbacks)return this;for(e=e.split(l);t=e.shift();)delete this._callbacks[t];return this}function o(e){var t,n,i,o,s;if(!this._callbacks)return this;for(e=e.split(l),i=[].slice.call(arguments,1);(t=e.shift())&&(n=this._callbacks[t]);)o=r(n.sync,this,[t].concat(i)),s=r(n.async,this,[t].concat(i)),o()&&c(s);return this}function r(e,t,n){function i(){for(var i,o=0,r=e.length;!i&&r>o;o+=1)i=e[o].apply(t,n)===!1;return!i}return i}function s(){var e;return e=window.setImmediate?function(e){setImmediate(function(){e()})}:function(e){setTimeout(function(){e()},0)}}function a(e,t){return e.bind?e.bind(t):function(){e.apply(t,[].slice.call(arguments,0))}}var l=/\s+/,c=s();return{onSync:n,onAsync:t,off:i,trigger:o}}(),r=function(e){function n(e,n,i){for(var o,r=[],s=0,a=e.length;a>s;s++)r.push(t.escapeRegExChars(e[s]));return o=i?"\\b("+r.join("|")+")\\b":"("+r.join("|")+")",n?new RegExp(o):new RegExp(o,"i")}var i={node:null,pattern:null,tagName:"strong",className:null,wordsOnly:!1,caseSensitive:!1};return function(o){function r(t){var n,i,r;return(n=a.exec(t.data))&&(r=e.createElement(o.tagName),o.className&&(r.className=o.className),i=t.splitText(n.index),i.splitText(n[0].length),r.appendChild(i.cloneNode(!0)),t.parentNode.replaceChild(r,i)),!!n}function s(e,t){for(var n,i=3,o=0;o<e.childNodes.length;o++)n=e.childNodes[o],n.nodeType===i?o+=t(n)?1:0:s(n,t)}var a;o=t.mixin({},i,o),o.node&&o.pattern&&(o.pattern=t.isArray(o.pattern)?o.pattern:[o.pattern],a=n(o.pattern,o.caseSensitive,o.wordsOnly),s(o.node,r))}}(window.document),s=function(){function n(n,o){n=n||{},n.input||e.error("input is missing"),o.mixin(this),this.$hint=e(n.hint),this.$input=e(n.input),this.query=this.$input.val(),this.queryWhenFocused=this.hasFocus()?this.query:null,this.$overflowHelper=i(this.$input),this._checkLanguageDirection(),0===this.$hint.length&&(this.setHint=this.getHint=this.clearHint=this.clearHintIfInvalid=t.noop)}function i(t){return e('<pre aria-hidden="true"></pre>').css({position:"absolute",visibility:"hidden",whiteSpace:"pre",fontFamily:t.css("font-family"),fontSize:t.css("font-size"),fontStyle:t.css("font-style"),fontVariant:t.css("font-variant"),fontWeight:t.css("font-weight"),wordSpacing:t.css("word-spacing"),letterSpacing:t.css("letter-spacing"),textIndent:t.css("text-indent"),textRendering:t.css("text-rendering"),textTransform:t.css("text-transform")}).insertAfter(t)}function r(e,t){return n.normalizeQuery(e)===n.normalizeQuery(t)}function s(e){return e.altKey||e.ctrlKey||e.metaKey||e.shiftKey}var a;return a={9:"tab",27:"esc",37:"left",39:"right",13:"enter",38:"up",40:"down"},n.normalizeQuery=function(e){return t.toStr(e).replace(/^\s*/g,"").replace(/\s{2,}/g," ")},t.mixin(n.prototype,o,{_onBlur:function(){this.resetInputValue(),this.trigger("blurred")},_onFocus:function(){this.queryWhenFocused=this.query,this.trigger("focused")},_onKeydown:function(e){var t=a[e.which||e.keyCode];this._managePreventDefault(t,e),t&&this._shouldTrigger(t,e)&&this.trigger(t+"Keyed",e)},_onInput:function(){this._setQuery(this.getInputValue()),this.clearHintIfInvalid(),this._checkLanguageDirection()},_managePreventDefault:function(e,t){var n;switch(e){case"up":case"down":n=!s(t);break;default:n=!1}n&&t.preventDefault()},_shouldTrigger:function(e,t){var n;switch(e){case"tab":n=!s(t);break;default:n=!0}return n},_checkLanguageDirection:function(){var e=(this.$input.css("direction")||"ltr").toLowerCase();this.dir!==e&&(this.dir=e,this.$hint.attr("dir",e),this.trigger("langDirChanged",e))},_setQuery:function(e,t){var n,i;n=r(e,this.query),i=n?this.query.length!==e.length:!1,this.query=e,t||n?!t&&i&&this.trigger("whitespaceChanged",this.query):this.trigger("queryChanged",this.query)},bind:function(){var e,n,i,o,r=this;return e=t.bind(this._onBlur,this),n=t.bind(this._onFocus,this),i=t.bind(this._onKeydown,this),o=t.bind(this._onInput,this),this.$input.on("blur.tt",e).on("focus.tt",n).on("keydown.tt",i),!t.isMsie()||t.isMsie()>9?this.$input.on("input.tt",o):this.$input.on("keydown.tt keypress.tt cut.tt paste.tt",function(e){a[e.which||e.keyCode]||t.defer(t.bind(r._onInput,r,e))}),this},focus:function(){this.$input.focus()},blur:function(){this.$input.blur()},getLangDir:function(){return this.dir},getQuery:function(){return this.query||""},setQuery:function(e,t){this.setInputValue(e),this._setQuery(e,t)},hasQueryChangedSinceLastFocus:function(){return this.query!==this.queryWhenFocused},getInputValue:function(){return this.$input.val()},setInputValue:function(e){this.$input.val(e),this.clearHintIfInvalid(),this._checkLanguageDirection()},resetInputValue:function(){this.setInputValue(this.query)},getHint:function(){return this.$hint.val()},setHint:function(e){this.$hint.val(e)},clearHint:function(){this.setHint("")},clearHintIfInvalid:function(){var e,t,n,i;e=this.getInputValue(),t=this.getHint(),n=e!==t&&0===t.indexOf(e),i=""!==e&&n&&!this.hasOverflow(),!i&&this.clearHint()},hasFocus:function(){return this.$input.is(":focus")},hasOverflow:function(){var e=this.$input.width()-2;return this.$overflowHelper.text(this.getInputValue()),this.$overflowHelper.width()>=e},isCursorAtEnd:function(){var e,n,i;return e=this.$input.val().length,n=this.$input[0].selectionStart,t.isNumber(n)?n===e:document.selection?(i=document.selection.createRange(),i.moveStart("character",-e),e===i.text.length):!0},destroy:function(){this.$hint.off(".tt"),this.$input.off(".tt"),this.$overflowHelper.remove(),this.$hint=this.$input=this.$overflowHelper=e("<div>")}}),n}(),a=function(){function n(n,o){n=n||{},n.templates=n.templates||{},n.templates.notFound=n.templates.notFound||n.templates.empty,n.source||e.error("missing source"),n.node||e.error("missing node"),n.name&&!a(n.name)&&e.error("invalid dataset name: "+n.name),o.mixin(this),this.highlight=!!n.highlight,this.name=n.name||c(),this.limit=n.limit||5,this.displayFn=i(n.display||n.displayKey),this.templates=s(n.templates,this.displayFn),this.source=n.source.__ttAdapter?n.source.__ttAdapter():n.source,this.async=t.isUndefined(n.async)?this.source.length>2:!!n.async,this._resetLastSuggestion(),this.$el=e(n.node).addClass(this.classes.dataset).addClass(this.classes.dataset+"-"+this.name)}function i(e){function n(t){return t[e]}return e=e||t.stringify,t.isFunction(e)?e:n}function s(n,i){function o(t){return e("<div>").text(i(t))}return{notFound:n.notFound&&t.templatify(n.notFound),pending:n.pending&&t.templatify(n.pending),header:n.header&&t.templatify(n.header),footer:n.footer&&t.templatify(n.footer),suggestion:n.suggestion||o}}function a(e){return/^[_a-zA-Z0-9-]+$/.test(e)}var l,c;return l={val:"tt-selectable-display",obj:"tt-selectable-object"},c=t.getIdGenerator(),n.extractData=function(t){var n=e(t);return n.data(l.obj)?{val:n.data(l.val)||"",obj:n.data(l.obj)||null}:null},t.mixin(n.prototype,o,{_overwrite:function(e,t){t=t||[],t.length?this._renderSuggestions(e,t):this.async&&this.templates.pending?this._renderPending(e):!this.async&&this.templates.notFound?this._renderNotFound(e):this._empty(),this.trigger("rendered",this.name,t,!1)},_append:function(e,t){t=t||[],t.length&&this.$lastSuggestion.length?this._appendSuggestions(e,t):t.length?this._renderSuggestions(e,t):!this.$lastSuggestion.length&&this.templates.notFound&&this._renderNotFound(e),this.trigger("rendered",this.name,t,!0)},_renderSuggestions:function(e,t){var n;n=this._getSuggestionsFragment(e,t),this.$lastSuggestion=n.children().last(),this.$el.html(n).prepend(this._getHeader(e,t)).append(this._getFooter(e,t))},_appendSuggestions:function(e,t){var n,i;n=this._getSuggestionsFragment(e,t),i=n.children().last(),this.$lastSuggestion.after(n),this.$lastSuggestion=i},_renderPending:function(e){var t=this.templates.pending;this._resetLastSuggestion(),t&&this.$el.html(t({query:e,dataset:this.name}))},_renderNotFound:function(e){var t=this.templates.notFound;this._resetLastSuggestion(),t&&this.$el.html(t({query:e,dataset:this.name}))},_empty:function(){this.$el.empty(),this._resetLastSuggestion()},_getSuggestionsFragment:function(n,i){var o,s=this;return o=document.createDocumentFragment(),t.each(i,function(t){var i,r;r=s._injectQuery(n,t),i=e(s.templates.suggestion(r)).data(l.obj,t).data(l.val,s.displayFn(t)).addClass(s.classes.suggestion+" "+s.classes.selectable),o.appendChild(i[0])}),this.highlight&&r({className:this.classes.highlight,node:o,pattern:n}),e(o)},_getFooter:function(e,t){return this.templates.footer?this.templates.footer({query:e,suggestions:t,dataset:this.name}):null},_getHeader:function(e,t){return this.templates.header?this.templates.header({query:e,suggestions:t,dataset:this.name}):null},_resetLastSuggestion:function(){this.$lastSuggestion=e()},_injectQuery:function(e,n){return t.isObject(n)?t.mixin({_query:e},n):n},update:function(t){function n(e){s||(s=!0,e=(e||[]).slice(0,o.limit),a=e.length,o._overwrite(t,e),a<o.limit&&o.async&&o.trigger("asyncRequested",t))}function i(n){n=n||[],!r&&a<o.limit&&(o.cancel=e.noop,a+=n.length,o._append(t,n.slice(0,o.limit-a)),o.async&&o.trigger("asyncReceived",t))}var o=this,r=!1,s=!1,a=0;this.cancel(),this.cancel=function(){r=!0,o.cancel=e.noop,o.async&&o.trigger("asyncCanceled",t)},this.source(t,n,i),!s&&n([])},cancel:e.noop,clear:function(){this._empty(),this.cancel(),this.trigger("cleared")},isEmpty:function(){return this.$el.is(":empty")},destroy:function(){this.$el=e("<div>")}}),n}(),l=function(){function n(n,i){function o(t){var n=r.$node.find(t.node).first();return t.node=n.length?n:e("<div>").appendTo(r.$node),new a(t,i)}var r=this;n=n||{},n.node||e.error("node is required"),i.mixin(this),this.$node=e(n.node),this.query=null,this.datasets=t.map(n.datasets,o)}return t.mixin(n.prototype,o,{_onSelectableClick:function(t){this.trigger("selectableClicked",e(t.currentTarget))},_onRendered:function(e,t,n,i){this.$node.toggleClass(this.classes.empty,this._allDatasetsEmpty()),this.trigger("datasetRendered",t,n,i)},_onCleared:function(){this.$node.toggleClass(this.classes.empty,this._allDatasetsEmpty()),this.trigger("datasetCleared")},_propagate:function(){this.trigger.apply(this,arguments)},_allDatasetsEmpty:function(){function e(e){return e.isEmpty()}return t.every(this.datasets,e)},_getSelectables:function(){return this.$node.find(this.selectors.selectable)},_removeCursor:function(){var e=this.getActiveSelectable();e&&e.removeClass(this.classes.cursor)},_ensureVisible:function(e){var t,n,i,o;t=e.position().top,n=t+e.outerHeight(!0),i=this.$node.scrollTop(),o=this.$node.height()+parseInt(this.$node.css("paddingTop"),10)+parseInt(this.$node.css("paddingBottom"),10),0>t?this.$node.scrollTop(i+t):n>o&&this.$node.scrollTop(i+(n-o))},bind:function(){var e,n=this;return e=t.bind(this._onSelectableClick,this),this.$node.on("click.tt",this.selectors.selectable,e),t.each(this.datasets,function(e){e.onSync("asyncRequested",n._propagate,n).onSync("asyncCanceled",n._propagate,n).onSync("asyncReceived",n._propagate,n).onSync("rendered",n._onRendered,n).onSync("cleared",n._onCleared,n)}),this},isOpen:function(){return this.$node.hasClass(this.classes.open)},open:function(){this.$node.addClass(this.classes.open)},close:function(){this.$node.removeClass(this.classes.open),this._removeCursor()},setLanguageDirection:function(e){this.$node.attr("dir",e)},selectableRelativeToCursor:function(e){var t,n,i,o;return n=this.getActiveSelectable(),t=this._getSelectables(),i=n?t.index(n):-1,o=i+e,o=(o+1)%(t.length+1)-1,o=-1>o?t.length-1:o,-1===o?null:t.eq(o)},setCursor:function(e){this._removeCursor(),(e=e&&e.first())&&(e.addClass(this.classes.cursor),this._ensureVisible(e))},getSelectableData:function(e){return e&&e.length?a.extractData(e):null},getActiveSelectable:function(){var e=this._getSelectables().filter(this.selectors.cursor).first();return e.length?e:null},getTopSelectable:function(){var e=this._getSelectables().first();return e.length?e:null},update:function(e){function n(t){t.update(e)}var i=e!==this.query;return i&&(this.query=e,t.each(this.datasets,n)),i},empty:function(){function e(e){e.clear()}t.each(this.datasets,e),this.query=null,this.$node.addClass(this.classes.empty)},destroy:function(){function n(e){e.destroy()}this.$node.off(".tt"),this.$node=e("<div>"),t.each(this.datasets,n)}}),n}(),c=function(){function e(){l.apply(this,[].slice.call(arguments,0))}var n=l.prototype;return t.mixin(e.prototype,l.prototype,{open:function(){return!this._allDatasetsEmpty()&&this._show(),n.open.apply(this,[].slice.call(arguments,0))},close:function(){return this._hide(),n.close.apply(this,[].slice.call(arguments,0))},_onRendered:function(){return this._allDatasetsEmpty()?this._hide():this.isOpen()&&this._show(),n._onRendered.apply(this,[].slice.call(arguments,0))},_onCleared:function(){return this._allDatasetsEmpty()?this._hide():this.isOpen()&&this._show(),n._onCleared.apply(this,[].slice.call(arguments,0))},setLanguageDirection:function(e){return this.$node.css("ltr"===e?this.css.ltr:this.css.rtl),n.setLanguageDirection.apply(this,[].slice.call(arguments,0))},_hide:function(){this.$node.hide()},_show:function(){this.$node.css("display","block")}}),e}(),u=function(){function n(n,o){var r,s,a,l,c,u,d,h,p,f,m;n=n||{},n.input||e.error("missing input"),n.menu||e.error("missing menu"),n.eventBus||e.error("missing event bus"),o.mixin(this),this.eventBus=n.eventBus,this.minLength=t.isNumber(n.minLength)?n.minLength:1,this.input=n.input,this.menu=n.menu,this.enabled=!0,this.active=!1,this.input.hasFocus()&&this.activate(),this.dir=this.input.getLangDir(),this._hacks(),this.menu.bind().onSync("selectableClicked",this._onSelectableClicked,this).onSync("asyncRequested",this._onAsyncRequested,this).onSync("asyncCanceled",this._onAsyncCanceled,this).onSync("asyncReceived",this._onAsyncReceived,this).onSync("datasetRendered",this._onDatasetRendered,this).onSync("datasetCleared",this._onDatasetCleared,this),r=i(this,"activate","open","_onFocused"),s=i(this,"deactivate","_onBlurred"),a=i(this,"isActive","isOpen","_onEnterKeyed"),l=i(this,"isActive","isOpen","_onTabKeyed"),c=i(this,"isActive","_onEscKeyed"),u=i(this,"isActive","open","_onUpKeyed"),d=i(this,"isActive","open","_onDownKeyed"),h=i(this,"isActive","isOpen","_onLeftKeyed"),p=i(this,"isActive","isOpen","_onRightKeyed"),f=i(this,"_openIfActive","_onQueryChanged"),m=i(this,"_openIfActive","_onWhitespaceChanged"),this.input.bind().onSync("focused",r,this).onSync("blurred",s,this).onSync("enterKeyed",a,this).onSync("tabKeyed",l,this).onSync("escKeyed",c,this).onSync("upKeyed",u,this).onSync("downKeyed",d,this).onSync("leftKeyed",h,this).onSync("rightKeyed",p,this).onSync("queryChanged",f,this).onSync("whitespaceChanged",m,this).onSync("langDirChanged",this._onLangDirChanged,this)}function i(e){var n=[].slice.call(arguments,1);return function(){var i=[].slice.call(arguments);t.each(n,function(t){return e[t].apply(e,i)})}}return t.mixin(n.prototype,{_hacks:function(){var n,i;n=this.input.$input||e("<div>"),i=this.menu.$node||e("<div>"),n.on("blur.tt",function(e){var o,r,s;o=document.activeElement,r=i.is(o),s=i.has(o).length>0,t.isMsie()&&(r||s)&&(e.preventDefault(),e.stopImmediatePropagation(),t.defer(function(){n.focus()}))}),i.on("mousedown.tt",function(e){e.preventDefault()})},_onSelectableClicked:function(e,t){this.select(t)},_onDatasetCleared:function(){this._updateHint()},_onDatasetRendered:function(e,t,n,i){this._updateHint(),this.eventBus.trigger("render",n,i,t)
},_onAsyncRequested:function(e,t,n){this.eventBus.trigger("asyncrequest",n,t)},_onAsyncCanceled:function(e,t,n){this.eventBus.trigger("asynccancel",n,t)},_onAsyncReceived:function(e,t,n){this.eventBus.trigger("asyncreceive",n,t)},_onFocused:function(){this._minLengthMet()&&this.menu.update(this.input.getQuery())},_onBlurred:function(){this.input.hasQueryChangedSinceLastFocus()&&this.eventBus.trigger("change",this.input.getQuery())},_onEnterKeyed:function(e,t){var n;(n=this.menu.getActiveSelectable())&&this.select(n)&&t.preventDefault()},_onTabKeyed:function(e,t){var n;(n=this.menu.getActiveSelectable())?this.select(n)&&t.preventDefault():(n=this.menu.getTopSelectable())&&this.autocomplete(n)&&t.preventDefault()},_onEscKeyed:function(){this.close()},_onUpKeyed:function(){this.moveCursor(-1)},_onDownKeyed:function(){this.moveCursor(1)},_onLeftKeyed:function(){"rtl"===this.dir&&this.input.isCursorAtEnd()&&this.autocomplete(this.menu.getTopSelectable())},_onRightKeyed:function(){"ltr"===this.dir&&this.input.isCursorAtEnd()&&this.autocomplete(this.menu.getTopSelectable())},_onQueryChanged:function(e,t){this._minLengthMet(t)?this.menu.update(t):this.menu.empty()},_onWhitespaceChanged:function(){this._updateHint()},_onLangDirChanged:function(e,t){this.dir!==t&&(this.dir=t,this.menu.setLanguageDirection(t))},_openIfActive:function(){this.isActive()&&this.open()},_minLengthMet:function(e){return e=t.isString(e)?e:this.input.getQuery()||"",e.length>=this.minLength},_updateHint:function(){var e,n,i,o,r,a,l;e=this.menu.getTopSelectable(),n=this.menu.getSelectableData(e),i=this.input.getInputValue(),!n||t.isBlankString(i)||this.input.hasOverflow()?this.input.clearHint():(o=s.normalizeQuery(i),r=t.escapeRegExChars(o),a=new RegExp("^(?:"+r+")(.+$)","i"),l=a.exec(n.val),l&&this.input.setHint(i+l[1]))},isEnabled:function(){return this.enabled},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},isActive:function(){return this.active},activate:function(){return this.isActive()?!0:!this.isEnabled()||this.eventBus.before("active")?!1:(this.active=!0,this.eventBus.trigger("active"),!0)},deactivate:function(){return this.isActive()?this.eventBus.before("idle")?!1:(this.active=!1,this.close(),this.eventBus.trigger("idle"),!0):!0},isOpen:function(){return this.menu.isOpen()},open:function(){return this.isOpen()||this.eventBus.before("open")||(this.menu.open(),this._updateHint(),this.eventBus.trigger("open")),this.isOpen()},close:function(){return this.isOpen()&&!this.eventBus.before("close")&&(this.menu.close(),this.input.clearHint(),this.input.resetInputValue(),this.eventBus.trigger("close")),!this.isOpen()},setVal:function(e){this.input.setQuery(t.toStr(e))},getVal:function(){return this.input.getQuery()},select:function(e){var t=this.menu.getSelectableData(e);return t&&!this.eventBus.before("select",t.obj)?(this.input.setQuery(t.val,!0),this.eventBus.trigger("select",t.obj),this.close(),!0):!1},autocomplete:function(e){var t,n,i;return t=this.input.getQuery(),n=this.menu.getSelectableData(e),i=n&&t!==n.val,i&&!this.eventBus.before("autocomplete",n.obj)?(this.input.setQuery(n.val),this.eventBus.trigger("autocomplete",n.obj),!0):!1},moveCursor:function(e){var t,n,i,o,r;return t=this.input.getQuery(),n=this.menu.selectableRelativeToCursor(e),i=this.menu.getSelectableData(n),o=i?i.obj:null,r=this._minLengthMet()&&this.menu.update(t),r||this.eventBus.before("cursorchange",o)?!1:(this.menu.setCursor(n),i?this.input.setInputValue(i.val):(this.input.resetInputValue(),this._updateHint()),this.eventBus.trigger("cursorchange",o),!0)},destroy:function(){this.input.destroy(),this.menu.destroy()}}),n}();!function(){function o(t,n){t.each(function(){var t,i=e(this);(t=i.data(m.typeahead))&&n(t,i)})}function r(e,t){return e.clone().addClass(t.classes.hint).removeData().css(t.css.hint).css(d(e)).prop("readonly",!0).removeAttr("id name placeholder required").attr({autocomplete:"off",spellcheck:"false",tabindex:-1})}function a(e,t){e.data(m.attrs,{dir:e.attr("dir"),autocomplete:e.attr("autocomplete"),spellcheck:e.attr("spellcheck"),style:e.attr("style")}),e.addClass(t.classes.input).attr({autocomplete:"off",spellcheck:!1});try{!e.attr("dir")&&e.attr("dir","auto")}catch(n){}return e}function d(e){return{backgroundAttachment:e.css("background-attachment"),backgroundClip:e.css("background-clip"),backgroundColor:e.css("background-color"),backgroundImage:e.css("background-image"),backgroundOrigin:e.css("background-origin"),backgroundPosition:e.css("background-position"),backgroundRepeat:e.css("background-repeat"),backgroundSize:e.css("background-size")}}function h(e){var n,i;n=e.data(m.www),i=e.parent().filter(n.selectors.wrapper),t.each(e.data(m.attrs),function(n,i){t.isUndefined(n)?e.removeAttr(i):e.attr(i,n)}),e.removeData(m.typeahead).removeData(m.www).removeData(m.attr).removeClass(n.classes.input),i.length&&(e.detach().insertAfter(i),i.remove())}function p(n){var i,o;return i=t.isJQuery(n)||t.isElement(n),o=i?e(n).first():[],o.length?o:null}var f,m,g;f=e.fn.typeahead,m={www:"tt-www",attrs:"tt-attrs",typeahead:"tt-typeahead"},g={initialize:function(o,d){function h(){var n,h,g,v,y,b,w,x,C,_,k;t.each(d,function(e){e.highlight=!!o.highlight}),n=e(this),h=e(f.html.wrapper),g=p(o.hint),v=p(o.menu),y=o.hint!==!1&&!g,b=o.menu!==!1&&!v,y&&(g=r(n,f)),b&&(v=e(f.html.menu).css(f.css.menu)),g&&g.val(""),n=a(n,f),(y||b)&&(h.css(f.css.wrapper),n.css(y?f.css.input:f.css.inputWithNoHint),n.wrap(h).parent().prepend(y?g:null).append(b?v:null)),k=b?c:l,w=new i({el:n}),x=new s({hint:g,input:n},f),C=new k({node:v,datasets:d},f),_=new u({input:x,menu:C,eventBus:w,minLength:o.minLength},f),n.data(m.www,f),n.data(m.typeahead,_)}var f;return d=t.isArray(d)?d:[].slice.call(arguments,1),o=o||{},f=n(o.classNames),this.each(h)},isEnabled:function(){var e;return o(this.first(),function(t){e=t.isEnabled()}),e},enable:function(){return o(this,function(e){e.enable()}),this},disable:function(){return o(this,function(e){e.disable()}),this},isActive:function(){var e;return o(this.first(),function(t){e=t.isActive()}),e},activate:function(){return o(this,function(e){e.activate()}),this},deactivate:function(){return o(this,function(e){e.deactivate()}),this},isOpen:function(){var e;return o(this.first(),function(t){e=t.isOpen()}),e},open:function(){return o(this,function(e){e.open()}),this},close:function(){return o(this,function(e){e.close()}),this},select:function(t){var n=!1,i=e(t);return o(this.first(),function(e){n=e.select(i)}),n},autocomplete:function(t){var n=!1,i=e(t);return o(this.first(),function(e){n=e.autocomplete(i)}),n},moveCursor:function(e){var t=!1;return o(this.first(),function(n){t=n.moveCursor(e)}),t},val:function(e){var t;return arguments.length?(o(this,function(t){t.setVal(e)}),this):(o(this.first(),function(e){t=e.getVal()}),t)},destroy:function(){return o(this,function(e,t){h(t),e.destroy()}),this}},e.fn.typeahead=function(e){return g[e]?g[e].apply(this,[].slice.call(arguments,1)):g.initialize.apply(this,arguments)},e.fn.typeahead.noConflict=function(){return e.fn.typeahead=f,this}}()}),function(e,t){"function"==typeof define&&define.amd?define("bloodhound",["jquery"],function(n){return e.Bloodhound=t(n)}):"object"==typeof exports?module.exports=t(require("jquery")):e.Bloodhound=t(jQuery)}(this,function(e){var t=function(){return{isMsie:function(){return/(msie|trident)/i.test(navigator.userAgent)?navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]:!1},isBlankString:function(e){return!e||/^\s*$/.test(e)},escapeRegExChars:function(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isArray:e.isArray,isFunction:e.isFunction,isObject:e.isPlainObject,isUndefined:function(e){return"undefined"==typeof e},isElement:function(e){return!(!e||1!==e.nodeType)},isJQuery:function(t){return t instanceof e},toStr:function(e){return t.isUndefined(e)||null===e?"":e+""},bind:e.proxy,each:function(t,n){function i(e,t){return n(t,e)}e.each(t,i)},map:e.map,filter:e.grep,every:function(t,n){var i=!0;return t?(e.each(t,function(e,o){return(i=n.call(null,o,e,t))?void 0:!1}),!!i):i},some:function(t,n){var i=!1;return t?(e.each(t,function(e,o){return(i=n.call(null,o,e,t))?!1:void 0}),!!i):i},mixin:e.extend,identity:function(e){return e},clone:function(t){return e.extend(!0,{},t)},getIdGenerator:function(){var e=0;return function(){return e++}},templatify:function(t){function n(){return String(t)}return e.isFunction(t)?t:n},defer:function(e){setTimeout(e,0)},debounce:function(e,t,n){var i,o;return function(){var r,s,a=this,l=arguments;return r=function(){i=null,n||(o=e.apply(a,l))},s=n&&!i,clearTimeout(i),i=setTimeout(r,t),s&&(o=e.apply(a,l)),o}},throttle:function(e,t){var n,i,o,r,s,a;return s=0,a=function(){s=new Date,o=null,r=e.apply(n,i)},function(){var l=new Date,c=t-(l-s);return n=this,i=arguments,0>=c?(clearTimeout(o),o=null,s=l,r=e.apply(n,i)):o||(o=setTimeout(a,c)),r}},stringify:function(e){return t.isString(e)?e:JSON.stringify(e)},noop:function(){}}}(),n="0.11.1",i=function(){function e(e){return e=t.toStr(e),e?e.split(/\s+/):[]}function n(e){return e=t.toStr(e),e?e.split(/\W+/):[]}function i(e){return function(n){return n=t.isArray(n)?n:[].slice.call(arguments,0),function(i){var o=[];return t.each(n,function(n){o=o.concat(e(t.toStr(i[n])))}),o}}}return{nonword:n,whitespace:e,obj:{nonword:i(n),whitespace:i(e)}}}(),o=function(){function n(n){this.maxSize=t.isNumber(n)?n:100,this.reset(),this.maxSize<=0&&(this.set=this.get=e.noop)}function i(){this.head=this.tail=null}function o(e,t){this.key=e,this.val=t,this.prev=this.next=null}return t.mixin(n.prototype,{set:function(e,t){var n,i=this.list.tail;this.size>=this.maxSize&&(this.list.remove(i),delete this.hash[i.key],this.size--),(n=this.hash[e])?(n.val=t,this.list.moveToFront(n)):(n=new o(e,t),this.list.add(n),this.hash[e]=n,this.size++)},get:function(e){var t=this.hash[e];return t?(this.list.moveToFront(t),t.val):void 0},reset:function(){this.size=0,this.hash={},this.list=new i}}),t.mixin(i.prototype,{add:function(e){this.head&&(e.next=this.head,this.head.prev=e),this.head=e,this.tail=this.tail||e},remove:function(e){e.prev?e.prev.next=e.next:this.head=e.next,e.next?e.next.prev=e.prev:this.tail=e.prev},moveToFront:function(e){this.remove(e),this.add(e)}}),n}(),r=function(){function n(e,n){this.prefix=["__",e,"__"].join(""),this.ttlKey="__ttl__",this.keyMatcher=new RegExp("^"+t.escapeRegExChars(this.prefix)),this.ls=n||a,!this.ls&&this._noop()}function i(){return(new Date).getTime()}function o(e){return JSON.stringify(t.isUndefined(e)?null:e)}function r(t){return e.parseJSON(t)}function s(e){var t,n,i=[],o=a.length;for(t=0;o>t;t++)(n=a.key(t)).match(e)&&i.push(n.replace(e,""));return i}var a;try{a=window.localStorage,a.setItem("~~~","!"),a.removeItem("~~~")}catch(l){a=null}return t.mixin(n.prototype,{_prefix:function(e){return this.prefix+e},_ttlKey:function(e){return this._prefix(e)+this.ttlKey},_noop:function(){this.get=this.set=this.remove=this.clear=this.isExpired=t.noop},_safeSet:function(e,t){try{this.ls.setItem(e,t)}catch(n){"QuotaExceededError"===n.name&&(this.clear(),this._noop())}},get:function(e){return this.isExpired(e)&&this.remove(e),r(this.ls.getItem(this._prefix(e)))},set:function(e,n,r){return t.isNumber(r)?this._safeSet(this._ttlKey(e),o(i()+r)):this.ls.removeItem(this._ttlKey(e)),this._safeSet(this._prefix(e),o(n))},remove:function(e){return this.ls.removeItem(this._ttlKey(e)),this.ls.removeItem(this._prefix(e)),this},clear:function(){var e,t=s(this.keyMatcher);for(e=t.length;e--;)this.remove(t[e]);return this},isExpired:function(e){var n=r(this.ls.getItem(this._ttlKey(e)));return t.isNumber(n)&&i()>n?!0:!1}}),n}(),s=function(){function n(e){e=e||{},this.cancelled=!1,this.lastReq=null,this._send=e.transport,this._get=e.limiter?e.limiter(this._get):this._get,this._cache=e.cache===!1?new o(0):a}var i=0,r={},s=6,a=new o(10);return n.setMaxPendingRequests=function(e){s=e},n.resetCache=function(){a.reset()},t.mixin(n.prototype,{_fingerprint:function(t){return t=t||{},t.url+t.type+e.param(t.data||{})},_get:function(e,t){function n(e){t(null,e),u._cache.set(l,e)}function o(){t(!0)}function a(){i--,delete r[l],u.onDeckRequestArgs&&(u._get.apply(u,u.onDeckRequestArgs),u.onDeckRequestArgs=null)}var l,c,u=this;l=this._fingerprint(e),this.cancelled||l!==this.lastReq||((c=r[l])?c.done(n).fail(o):s>i?(i++,r[l]=this._send(e).done(n).fail(o).always(a)):this.onDeckRequestArgs=[].slice.call(arguments,0))},get:function(n,i){var o,r;i=i||e.noop,n=t.isString(n)?{url:n}:n||{},r=this._fingerprint(n),this.cancelled=!1,this.lastReq=r,(o=this._cache.get(r))?i(null,o):this._get(n,i)},cancel:function(){this.cancelled=!0}}),n}(),a=window.SearchIndex=function(){function n(n){n=n||{},n.datumTokenizer&&n.queryTokenizer||e.error("datumTokenizer and queryTokenizer are both required"),this.identify=n.identify||t.stringify,this.datumTokenizer=n.datumTokenizer,this.queryTokenizer=n.queryTokenizer,this.reset()}function i(e){return e=t.filter(e,function(e){return!!e}),e=t.map(e,function(e){return e.toLowerCase()})}function o(){var e={};return e[l]=[],e[a]={},e}function r(e){for(var t={},n=[],i=0,o=e.length;o>i;i++)t[e[i]]||(t[e[i]]=!0,n.push(e[i]));return n}function s(e,t){var n=0,i=0,o=[];e=e.sort(),t=t.sort();for(var r=e.length,s=t.length;r>n&&s>i;)e[n]<t[i]?n++:e[n]>t[i]?i++:(o.push(e[n]),n++,i++);return o}var a="c",l="i";return t.mixin(n.prototype,{bootstrap:function(e){this.datums=e.datums,this.trie=e.trie},add:function(e){var n=this;e=t.isArray(e)?e:[e],t.each(e,function(e){var r,s;n.datums[r=n.identify(e)]=e,s=i(n.datumTokenizer(e)),t.each(s,function(e){var t,i,s;for(t=n.trie,i=e.split("");s=i.shift();)t=t[a][s]||(t[a][s]=o()),t[l].push(r)})})},get:function(e){var n=this;return t.map(e,function(e){return n.datums[e]})},search:function(e){var n,o,c=this;return n=i(this.queryTokenizer(e)),t.each(n,function(e){var t,n,i,r;if(o&&0===o.length)return!1;for(t=c.trie,n=e.split("");t&&(i=n.shift());)t=t[a][i];return t&&0===n.length?(r=t[l].slice(0),void(o=o?s(o,r):r)):(o=[],!1)}),o?t.map(r(o),function(e){return c.datums[e]}):[]},all:function(){var e=[];for(var t in this.datums)e.push(this.datums[t]);return e},reset:function(){this.datums={},this.trie=o()},serialize:function(){return{datums:this.datums,trie:this.trie}}}),n}(),l=function(){function e(e){this.url=e.url,this.ttl=e.ttl,this.cache=e.cache,this.prepare=e.prepare,this.transform=e.transform,this.transport=e.transport,this.thumbprint=e.thumbprint,this.storage=new r(e.cacheKey)}var n;return n={data:"data",protocol:"protocol",thumbprint:"thumbprint"},t.mixin(e.prototype,{_settings:function(){return{url:this.url,type:"GET",dataType:"json"}},store:function(e){this.cache&&(this.storage.set(n.data,e,this.ttl),this.storage.set(n.protocol,location.protocol,this.ttl),this.storage.set(n.thumbprint,this.thumbprint,this.ttl))},fromCache:function(){var e,t={};return this.cache?(t.data=this.storage.get(n.data),t.protocol=this.storage.get(n.protocol),t.thumbprint=this.storage.get(n.thumbprint),e=t.thumbprint!==this.thumbprint||t.protocol!==location.protocol,t.data&&!e?t.data:null):null},fromNetwork:function(e){function t(){e(!0)}function n(t){e(null,o.transform(t))}var i,o=this;e&&(i=this.prepare(this._settings()),this.transport(i).fail(t).done(n))},clear:function(){return this.storage.clear(),this}}),e}(),c=function(){function e(e){this.url=e.url,this.prepare=e.prepare,this.transform=e.transform,this.transport=new s({cache:e.cache,limiter:e.limiter,transport:e.transport})}return t.mixin(e.prototype,{_settings:function(){return{url:this.url,type:"GET",dataType:"json"}},get:function(e,t){function n(e,n){t(e?[]:o.transform(n))}var i,o=this;if(t)return e=e||"",i=this.prepare(e,this._settings()),this.transport.get(i,n)},cancelLastRequest:function(){this.transport.cancel()}}),e}(),u=function(){function i(i){var o;return i?(o={url:null,ttl:864e5,cache:!0,cacheKey:null,thumbprint:"",prepare:t.identity,transform:t.identity,transport:null},i=t.isString(i)?{url:i}:i,i=t.mixin(o,i),!i.url&&e.error("prefetch requires url to be set"),i.transform=i.filter||i.transform,i.cacheKey=i.cacheKey||i.url,i.thumbprint=n+i.thumbprint,i.transport=i.transport?a(i.transport):e.ajax,i):null}function o(n){var i;if(n)return i={url:null,cache:!0,prepare:null,replace:null,wildcard:null,limiter:null,rateLimitBy:"debounce",rateLimitWait:300,transform:t.identity,transport:null},n=t.isString(n)?{url:n}:n,n=t.mixin(i,n),!n.url&&e.error("remote requires url to be set"),n.transform=n.filter||n.transform,n.prepare=r(n),n.limiter=s(n),n.transport=n.transport?a(n.transport):e.ajax,delete n.replace,delete n.wildcard,delete n.rateLimitBy,delete n.rateLimitWait,n}function r(e){function t(e,t){return t.url=r(t.url,e),t}function n(e,t){return t.url=t.url.replace(s,encodeURIComponent(e)),t}function i(e,t){return t}var o,r,s;return o=e.prepare,r=e.replace,s=e.wildcard,o?o:o=r?t:e.wildcard?n:i}function s(e){function n(e){return function(n){return t.debounce(n,e)}}function i(e){return function(n){return t.throttle(n,e)}}var o,r,s;return o=e.limiter,r=e.rateLimitBy,s=e.rateLimitWait,o||(o=/^throttle$/i.test(r)?i(s):n(s)),o}function a(n){return function(i){function o(e){t.defer(function(){s.resolve(e)})}function r(e){t.defer(function(){s.reject(e)})}var s=e.Deferred();return n(i,o,r),s}}return function(n){var r,s;return r={initialize:!0,identify:t.stringify,datumTokenizer:null,queryTokenizer:null,sufficient:5,sorter:null,local:[],prefetch:null,remote:null},n=t.mixin(r,n||{}),!n.datumTokenizer&&e.error("datumTokenizer is required"),!n.queryTokenizer&&e.error("queryTokenizer is required"),s=n.sorter,n.sorter=s?function(e){return e.sort(s)}:t.identity,n.local=t.isFunction(n.local)?n.local():n.local,n.prefetch=i(n.prefetch),n.remote=o(n.remote),n}}(),d=function(){function n(e){e=u(e),this.sorter=e.sorter,this.identify=e.identify,this.sufficient=e.sufficient,this.local=e.local,this.remote=e.remote?new c(e.remote):null,this.prefetch=e.prefetch?new l(e.prefetch):null,this.index=new a({identify:this.identify,datumTokenizer:e.datumTokenizer,queryTokenizer:e.queryTokenizer}),e.initialize!==!1&&this.initialize()}var o;return o=window&&window.Bloodhound,n.noConflict=function(){return window&&(window.Bloodhound=o),n},n.tokenizers=i,t.mixin(n.prototype,{__ttAdapter:function(){function e(e,t,i){return n.search(e,t,i)}function t(e,t){return n.search(e,t)}var n=this;return this.remote?e:t},_loadPrefetch:function(){function t(e,t){return e?n.reject():(o.add(t),o.prefetch.store(o.index.serialize()),void n.resolve())}var n,i,o=this;return n=e.Deferred(),this.prefetch?(i=this.prefetch.fromCache())?(this.index.bootstrap(i),n.resolve()):this.prefetch.fromNetwork(t):n.resolve(),n.promise()},_initialize:function(){function e(){t.add(t.local)}var t=this;return this.clear(),(this.initPromise=this._loadPrefetch()).done(e),this.initPromise},initialize:function(e){return!this.initPromise||e?this._initialize():this.initPromise},add:function(e){return this.index.add(e),this},get:function(e){return e=t.isArray(e)?e:[].slice.call(arguments),this.index.get(e)},search:function(e,n,i){function o(e){var n=[];t.each(e,function(e){!t.some(r,function(t){return s.identify(e)===s.identify(t)})&&n.push(e)}),i&&i(n)}var r,s=this;return r=this.sorter(this.index.search(e)),n(this.remote?r.slice():r),this.remote&&r.length<this.sufficient?this.remote.get(e,o):this.remote&&this.remote.cancelLastRequest(),this},all:function(){return this.index.all()},clear:function(){return this.index.reset(),this},clearPrefetchCache:function(){return this.prefetch&&this.prefetch.clear(),this},clearRemoteCache:function(){return s.resetCache(),this},ttAdapter:function(){return this.__ttAdapter()}}),n}();return d}),function(e,t){"function"==typeof define&&define.amd?define("jqueryFormValidator",["jquery"],function(e){return t(e)}):"object"==typeof exports?module.exports=t(require("jquery")):t(jQuery)}(this,function(e){!function(e,t){function n(e,t){this.$form=e,this.$input=t,this.reset(),t.on("change paste",this.reset.bind(this))}var i=function(){return!1},o={numHalted:0,haltValidation:function(t){this.numHalted++,e.formUtils.haltValidation=!0,t.unbind("submit",i).bind("submit",i).find('*[type="submit"]').addClass("disabled").attr("disabled","disabled")},unHaltValidation:function(t){this.numHalted--,0===this.numHalted&&(e.formUtils.haltValidation=!1,t.unbind("submit",i).find('*[type="submit"]').removeClass("disabled").removeAttr("disabled","disabled"))}};n.prototype.reset=function(){this.haltedFormValidation=!1,this.hasRun=!1,this.isRunning=!1,this.result=t},n.prototype.run=function(e,t){return"keyup"===e?null:this.isRunning?(this.haltedFormValidation||"submit"!==e||(o.haltValidation(),this.haltedFormValidation=!0),null):this.hasRun?this.result:("submit"===e&&(o.haltValidation(this.$form),this.haltedFormValidation=!0),this.isRunning=!0,this.$input.attr("disabled","disabled").addClass("async-validation"),this.$form.addClass("async-validation"),t(function(e){this.done(e)}.bind(this)),null)},n.prototype.done=function(e){this.result=e,this.hasRun=!0,this.isRunning=!1,this.$input.removeAttr("disabled").removeClass("async-validation"),this.$form.removeClass("async-validation"),this.haltedFormValidation?(o.unHaltValidation(this.$form),this.$form.trigger("submit")):this.$input.trigger("validation.revalidate")},e.formUtils=e.extend(e.formUtils||{},{asyncValidation:function(e,t,i){var o,r=t.get(0);return r.asyncValidators||(r.asyncValidators={}),r.asyncValidators[e]?o=r.asyncValidators[e]:(o=new n(i,t),r.asyncValidators[e]=o),o}})}(e),function(e){function t(t){t&&"custom"===t.errorMessagePosition&&"function"==typeof t.errorMessageCustom&&(e.formUtils.warn("Use of deprecated function errorMessageCustom, use config.submitErrorMessageCallback instead"),t.submitErrorMessageCallback=function(e,n){t.errorMessageCustom(e,t.language.errorTitle,n,t)})}function n(t){if(t.errorMessagePosition&&"object"==typeof t.errorMessagePosition){e.formUtils.warn("Deprecated use of config parameter errorMessagePosition, use config.submitErrorMessageCallback instead");var n=t.errorMessagePosition;t.errorMessagePosition="top",t.submitErrorMessageCallback=function(){return n}}}function i(t){var n=t.find("[data-validation-if-checked]");n.length&&e.formUtils.warn('Detected use of attribute "data-validation-if-checked" which is deprecated. Use "data-validation-depends-on" provided by module "logic"'),n.on("beforeValidation",function(){var n=e(this),i=n.valAttr("if-checked"),o=e('input[name="'+i+'"]',t),r=o.is(":checked"),s=(e.formUtils.getValue(o)||"").toString(),a=n.valAttr("if-checked-value");(!r||a&&a!==s)&&n.valAttr("skipped",!0)})}function o(t){var n={se:"sv",cz:"cs",dk:"da"};if(t.lang in n){var i=n[t.lang];e.formUtils.warn('Deprecated use of lang code "'+t.lang+'" use "'+i+'" instead'),t.lang=i}}e.fn.validateForm=function(t,n){return e.formUtils.warn("Use of deprecated function $.validateForm, use $.isValid instead"),this.isValid(t,n,!0)},e(window).on("formValidationPluginInit",function(e,i){o(i),t(i),n(i)}).on("validatorsLoaded formValidationSetup",function(t,n){n||(n=e("form")),i(n)})}(e),function(e){var t={resolveErrorMessage:function(e,t,n,i,o){var r=i.validationErrorMsgAttribute+"-"+n.replace("validate_",""),s=e.attr(r);return s||(s=e.attr(i.validationErrorMsgAttribute),s||(s="function"!=typeof t.errorMessageKey?o[t.errorMessageKey]:o[t.errorMessageKey(i)],s||(s=t.errorMessage))),s},getParentContainer:function(t){if(t.valAttr("error-msg-container"))return e(t.valAttr("error-msg-container"));var n=t.parent();if(!n.hasClass("form-group")&&!n.closest("form").hasClass("form-horizontal")){var i=n.closest(".form-group");if(i.length)return i.eq(0)}return n},applyInputErrorStyling:function(e,t){e.addClass(t.errorElementClass).removeClass("valid"),this.getParentContainer(e).addClass(t.inputParentClassOnError).removeClass(t.inputParentClassOnSuccess),""!==t.borderColorOnError&&e.css("border-color",t.borderColorOnError)},applyInputSuccessStyling:function(e,t){e.addClass("valid"),this.getParentContainer(e).addClass(t.inputParentClassOnSuccess)},removeInputStylingAndMessage:function(e,n){e.removeClass("valid").removeClass(n.errorElementClass).css("border-color","");var i=t.getParentContainer(e);if(i.removeClass(n.inputParentClassOnError).removeClass(n.inputParentClassOnSuccess),"function"==typeof n.inlineErrorMessageCallback){var o=n.inlineErrorMessageCallback(e,!1,n);o&&o.html("")}else i.find("."+n.errorMessageClass).remove()},removeAllMessagesAndStyling:function(n,i){if("function"==typeof i.submitErrorMessageCallback){var o=i.submitErrorMessageCallback(n,!1,i);o&&o.html("")}else n.find("."+i.errorMessageClass+".alert").remove();n.find("."+i.errorElementClass+",.valid").each(function(){t.removeInputStylingAndMessage(e(this),i)})},setInlineMessage:function(t,n,i){this.applyInputErrorStyling(t,i);var o,r=document.getElementById(t.attr("name")+"_err_msg"),s=!1,a=function(i){e.formUtils.$win.trigger("validationErrorDisplay",[t,i]),i.html(n)},l=function(){var r=!1;s.find("."+i.errorMessageClass).each(function(){return this.inputReferer===t[0]?(r=e(this),!1):void 0}),r?n?a(r):r.remove():""!==n&&(o=e('<div class="'+i.errorMessageClass+' alert"></div>'),a(o),o[0].inputReferer=t[0],s.prepend(o))};if(r)e.formUtils.warn("Using deprecated element reference "+r.id),s=e(r),l();else if("function"==typeof i.inlineErrorMessageCallback){if(s=i.inlineErrorMessageCallback(t,n,i),!s)return;l()}else{var c=this.getParentContainer(t);o=c.find("."+i.errorMessageClass+".help-block"),0===o.length&&(o=e("<span></span>").addClass("help-block").addClass(i.errorMessageClass),o.appendTo(c)),a(o)}},setMessageInTopOfForm:function(t,n,i,o){var r='<div class="{errorMessageClass} alert alert-danger"><strong>{errorTitle}</strong><ul>{fields}</ul></div>',s=!1;if("function"!=typeof i.submitErrorMessageCallback||(s=i.submitErrorMessageCallback(t,n,i))){var a={errorTitle:o.errorTitle,fields:"",errorMessageClass:i.errorMessageClass};e.each(n,function(e,t){a.fields+="<li>"+t+"</li>"}),e.each(a,function(e,t){r=r.replace("{"+e+"}",t)}),s?s.html(r):t.children().eq(0).before(e(r))}}};e.formUtils=e.extend(e.formUtils||{},{dialogs:t})}(e),function(e,t,n){var i=0;e.fn.validateOnBlur=function(t,n){var i=this,o=this.find("*[data-validation]");return o.each(function(){var o=e(this);if(o.is("[type=radio]")){var r=i.find('[type=radio][name="'+o.attr("name")+'"]');r.bind("blur.validation",function(){o.validateInputOnBlur(t,n,!0,"blur")}),n.validateCheckboxRadioOnClick&&r.bind("click.validation",function(){o.validateInputOnBlur(t,n,!0,"click")})}}),o.bind("blur.validation",function(){e(this).validateInputOnBlur(t,n,!0,"blur")}),n.validateCheckboxRadioOnClick&&this.find("input[type=checkbox][data-validation],input[type=radio][data-validation]").bind("click.validation",function(){e(this).validateInputOnBlur(t,n,!0,"click")}),this},e.fn.validateOnEvent=function(t,n){var i="FORM"===this[0].nodeName?this.find("*[data-validation-event]"):this;return i.each(function(){var i=e(this),o=i.valAttr("event");o&&i.unbind(o+".validation").bind(o+".validation",function(i){9!==(i||{}).keyCode&&e(this).validateInputOnBlur(t,n,!0,o)})}),this},e.fn.showHelpOnFocus=function(t){return t||(t="data-validation-help"),this.find("textarea,input").each(function(){var n=e(this),o="jquery_form_help_"+ ++i,r=n.attr(t);n.removeClass("has-help-text").unbind("focus.help").unbind("blur.help"),r&&n.addClass("has-help-txt").bind("focus.help",function(){var t=n.parent().find("."+o);0===t.length&&(t=e("<span />").addClass(o).addClass("help").addClass("help-block").text(r).hide(),n.after(t)),t.fadeIn()}).bind("blur.help",function(){e(this).parent().find("."+o).fadeOut("slow")})}),this},e.fn.validate=function(t,n,i){var o=e.extend({},e.formUtils.LANG,i||{});this.each(function(){var i=e(this),r=i.closest("form").get(0)||{},s=r.validationConfig||{};i.one("validation",function(e,n){"function"==typeof t&&t(n,this,e)}),i.validateInputOnBlur(o,e.extend({},s,n||{}),!0)})},e.fn.willPostponeValidation=function(){return(this.valAttr("suggestion-nr")||this.valAttr("postpone")||this.hasClass("hasDatepicker"))&&!t.postponedValidation},e.fn.validateInputOnBlur=function(n,i,o,r){if(e.formUtils.eventType=r,this.willPostponeValidation()){var s=this,a=this.valAttr("postpone")||200;return t.postponedValidation=function(){s.validateInputOnBlur(n,i,o,r),t.postponedValidation=!1},setTimeout(function(){t.postponedValidation&&t.postponedValidation()},a),this}n=e.extend({},e.formUtils.LANG,n||{}),e.formUtils.dialogs.removeInputStylingAndMessage(this,i);var l=this,c=l.closest("form"),u=e.formUtils.validateInput(l,n,i,c,r),d=function(){l.validateInputOnBlur(n,i,!1,"blur.revalidated")};return"blur"===r&&l.unbind("validation.revalidate",d).one("validation.revalidate",d),o&&l.removeKeyUpValidation(),u.shouldChangeDisplay&&(u.isValid?e.formUtils.dialogs.applyInputSuccessStyling(l,i):e.formUtils.dialogs.setInlineMessage(l,u.errorMsg,i)),!u.isValid&&o&&l.validateOnKeyUp(n,i),this},e.fn.validateOnKeyUp=function(t,n){return this.each(function(){var i=e(this);i.valAttr("has-keyup-event")||i.valAttr("has-keyup-event","true").bind("keyup.validation",function(e){9!==e.keyCode&&i.validateInputOnBlur(t,n,!1,"keyup")})}),this},e.fn.removeKeyUpValidation=function(){return this.each(function(){e(this).valAttr("has-keyup-event",!1).unbind("keyup.validation")}),this},e.fn.valAttr=function(e,t){return t===n?this.attr("data-validation-"+e):t===!1||null===t?this.removeAttr("data-validation-"+e):(e=e.length>0?"-"+e:"",this.attr("data-validation"+e,t))},e.fn.isValid=function(t,n,i){if(e.formUtils.isLoadingModules){var o=this;return setTimeout(function(){o.isValid(t,n,i)},200),null}n=e.extend({},e.formUtils.defaultConfig(),n||{}),t=e.extend({},e.formUtils.LANG,t||{}),i=i!==!1,e.formUtils.errorDisplayPreventedWhenHalted&&(delete e.formUtils.errorDisplayPreventedWhenHalted,i=!1);var r=function(t,o){e.inArray(t,a)<0&&a.push(t),l.push(o),o.valAttr("current-error",t),i&&e.formUtils.dialogs.applyInputErrorStyling(o,n)},s=[],a=[],l=[],c=this,u=function(t,i){return"submit"===i||"button"===i||"reset"===i?!0:e.inArray(t,n.ignore||[])>-1};if(i&&e.formUtils.dialogs.removeAllMessagesAndStyling(c,n),c.find("input,textarea,select").filter(':not([type="submit"],[type="button"])').each(function(){var i=e(this),o=i.attr("type"),a="radio"===o||"checkbox"===o,l=i.attr("name");if(!u(l,o)&&(!a||e.inArray(l,s)<0)){a&&s.push(l);var d=e.formUtils.validateInput(i,t,n,c,"submit");d.isValid?d.isValid&&d.shouldChangeDisplay&&(i.valAttr("current-error",!1),e.formUtils.dialogs.applyInputSuccessStyling(i,n)):r(d.errorMsg,i)}}),"function"==typeof n.onValidate){var d=n.onValidate(c);e.isArray(d)?e.each(d,function(e,t){r(t.message,t.element)}):d&&d.element&&d.message&&r(d.message,d.element)}return e.formUtils.isValidatingEntireForm=!1,l.length>0&&i&&("top"===n.errorMessagePosition?e.formUtils.dialogs.setMessageInTopOfForm(c,a,n,t):e.each(l,function(t,i){e.formUtils.dialogs.setInlineMessage(i,i.valAttr("current-error"),n)}),n.scrollToTopOnError&&e.formUtils.$win.scrollTop(c.offset().top-20)),!i&&e.formUtils.haltValidation&&(e.formUtils.errorDisplayPreventedWhenHalted=!0),0===l.length&&!e.formUtils.haltValidation},e.fn.restrictLength=function(t){return new e.formUtils.lengthRestriction(this,t),this},e.fn.addSuggestions=function(t){var n=!1;return this.find("input").each(function(){var i=e(this);n=e.split(i.attr("data-suggestions")),n.length>0&&!i.hasClass("has-suggestions")&&(e.formUtils.suggest(i,n,t),i.addClass("has-suggestions"))}),this}}(e,window),function(e){e.formUtils=e.extend(e.formUtils||{},{isLoadingModules:!1,loadedModules:{},loadModules:function(t,n,i){if(e.formUtils.isLoadingModules)return void setTimeout(function(){e.formUtils.loadModules(t,n,i)},10);var o=!1,r=function(t,n){var r=e.split(t),s=r.length,a=function(){s--,0===s&&(e.formUtils.isLoadingModules=!1,i&&o&&"function"==typeof i&&i())
};s>0&&(e.formUtils.isLoadingModules=!0);var l="?_="+(new Date).getTime(),c=document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0];e.each(r,function(t,i){if(i=e.trim(i),0===i.length)a();else{var r=n+i+(".js"===i.slice(-3)?"":".js"),s=document.createElement("SCRIPT");r in e.formUtils.loadedModules?a():(e.formUtils.loadedModules[r]=1,o=!0,s.type="text/javascript",s.onload=a,s.src=r+(".dev.js"===r.slice(-7)?l:""),s.onerror=function(){e.formUtils.warn("Unable to load form validation module "+r)},s.onreadystatechange=function(){("complete"===this.readyState||"loaded"===this.readyState)&&(a(),this.onload=null,this.onreadystatechange=null)},c.appendChild(s))}})};if(n)r(t,n);else{var s=function(){var n=!1;return e('script[src*="form-validator"]').each(function(){var e=this.src.split("form-validator")[1].split("node_modules").length>1;return e?void 0:(n=this.src.substr(0,this.src.lastIndexOf("/"))+"/","/"===n&&(n=""),!1)}),n!==!1?(r(t,n),!0):!1};s()||e(s)}}})}(e),function(e){e.split=function(t,n,i){i=void 0===i||i===!0;var o="[,|"+(i?"\\s":"")+"-]\\s*",r=new RegExp(o,"g");if("function"!=typeof n){if(!t)return[];var s=[];return e.each(t.split(n?n:r),function(t,n){n=e.trim(n),n.length&&s.push(n)}),s}t&&e.each(t.split(r),function(t,i){return i=e.trim(i),i.length?n(i,t):void 0})},e.validate=function(t){var n=e.extend(e.formUtils.defaultConfig(),{form:"form",validateOnEvent:!1,validateOnBlur:!0,validateCheckboxRadioOnClick:!0,showHelpOnFocus:!0,addSuggestions:!0,modules:"",onModulesLoaded:null,language:!1,onSuccess:!1,onError:!1,onElementValidate:!1});if(t=e.extend(n,t||{}),e(window).trigger("formValidationPluginInit",[t]),t.lang&&"en"!==t.lang){var i="lang/"+t.lang+".js";t.modules+=t.modules.length?","+i:i}e(t.form).each(function(n,i){i.validationConfig=t;var o=e(i);o.trigger("formValidationSetup",[o,t]),o.find(".has-help-txt").unbind("focus.validation").unbind("blur.validation"),o.removeClass("has-validation-callback").unbind("submit.validation").unbind("reset.validation").find("input[data-validation],textarea[data-validation]").unbind("blur.validation"),o.bind("submit.validation",function(n){var i=e(this),o=function(){return n.stopImmediatePropagation(),!1};if(e.formUtils.haltValidation)return o();if(e.formUtils.isLoadingModules)return setTimeout(function(){i.trigger("submit.validation")},200),o();var r=i.isValid(t.language,t);if(e.formUtils.haltValidation)return o();if(!r||"function"!=typeof t.onSuccess)return r||"function"!=typeof t.onError?r?!0:o():(t.onError(i),o());var s=t.onSuccess(i);return s===!1?o():void 0}).bind("reset.validation",function(){e.formUtils.dialogs.removeAllMessagesAndStyling(o,t)}).addClass("has-validation-callback"),t.showHelpOnFocus&&o.showHelpOnFocus(),t.addSuggestions&&o.addSuggestions(),t.validateOnBlur&&(o.validateOnBlur(t.language,t),o.bind("html5ValidationAttrsFound",function(){o.validateOnBlur(t.language,t)})),t.validateOnEvent&&o.validateOnEvent(t.language,t)}),""!==t.modules&&e.formUtils.loadModules(t.modules,!1,function(){"function"==typeof t.onModulesLoaded&&t.onModulesLoaded();var n="string"==typeof t.form?e(t.form):t.form;e.formUtils.$win.trigger("validatorsLoaded",[n,t])})}}(e),function(e,t){var n=e(t);e.formUtils=e.extend(e.formUtils||{},{$win:n,defaultConfig:function(){return{ignore:[],errorElementClass:"error",borderColorOnError:"#b94a48",errorMessageClass:"form-error",validationRuleAttribute:"data-validation",validationErrorMsgAttribute:"data-validation-error-msg",errorMessagePosition:"inline",errorMessageTemplate:{container:'<div class="{errorMessageClass} alert alert-danger">{messages}</div>',messages:"<strong>{errorTitle}</strong><ul>{fields}</ul>",field:"<li>{msg}</li>"},scrollToTopOnError:!0,dateFormat:"yyyy-mm-dd",addValidClassOnAll:!1,decimalSeparator:".",inputParentClassOnError:"has-error",inputParentClassOnSuccess:"has-success",validateHiddenInputs:!1,inlineErrorMessageCallback:!1,submitErrorMessageCallback:!1}},validators:{},_events:{load:[],valid:[],invalid:[]},haltValidation:!1,addValidator:function(e){var t=0===e.name.indexOf("validate_")?e.name:"validate_"+e.name;void 0===e.validateOnKeyUp&&(e.validateOnKeyUp=!0),this.validators[t]=e},warn:function(e){"console"in t?"function"==typeof t.console.warn?t.console.warn(e):"function"==typeof t.console.log&&t.console.log(e):alert(e)},getValue:function(e,t){var n=t?t.find(e):e;if(n.length>0){var i=n.eq(0).attr("type");return"radio"===i||"checkbox"===i?n.filter(":checked").val()||"":n.val()||""}return!1},validateInput:function(t,n,i,o,r){i=i||e.formUtils.defaultConfig(),n=n||e.formUtils.LANG;var s=this.getValue(t);t.valAttr("skipped",!1).one("beforeValidation",function(){(t.attr("disabled")||!t.is(":visible")&&!i.validateHiddenInputs)&&t.valAttr("skipped",1)}).trigger("beforeValidation",[s,n,i]);var a="true"===t.valAttr("optional"),l=!s&&a,c=t.attr(i.validationRuleAttribute),u=!0,d="",h={isValid:!0,shouldChangeDisplay:!0,errorMsg:""};if(!c||l||t.valAttr("skipped"))return h.shouldChangeDisplay=i.addValidClassOnAll,h;var p=t.valAttr("ignore");return p&&e.each(p.split(""),function(e,t){s=s.replace(new RegExp("\\"+t,"g"),"")}),e.split(c,function(a){0!==a.indexOf("validate_")&&(a="validate_"+a);var l=e.formUtils.validators[a];if(!l)throw new Error('Using undefined validator "'+a+'". Maybe you have forgotten to load the module that "'+a+'" belongs to?');return"validate_checkbox_group"===a&&(t=o.find('[name="'+t.attr("name")+'"]:eq(0)')),("keyup"!==r||l.validateOnKeyUp)&&(u=l.validatorFunction(s,t,i,n,o,r)),u?void 0:(i.validateOnBlur&&t.validateOnKeyUp(n,i),d=e.formUtils.dialogs.resolveErrorMessage(t,l,a,i,n),!1)}),u===!1?(t.trigger("validation",!1),h.errorMsg=d,h.isValid=!1,h.shouldChangeDisplay=!0):null===u?h.shouldChangeDisplay=!1:(t.trigger("validation",!0),h.shouldChangeDisplay=!0),"function"==typeof i.onElementValidate&&null!==d&&i.onElementValidate(h.isValid,t,o,d),t.trigger("afterValidation",[h,r]),h},parseDate:function(t,n,i){var o,r,s,a,l=n.replace(/[a-zA-Z]/gi,"").substring(0,1),c="^",u=n.split(l||null);if(e.each(u,function(e,t){c+=(e>0?"\\"+l:"")+"(\\d{"+t.length+"})"}),c+="$",i){var d=[];e.each(t.split(l),function(e,t){1===t.length&&(t="0"+t),d.push(t)}),t=d.join(l)}if(o=t.match(new RegExp(c)),null===o)return!1;var h=function(t,n,i){for(var o=0;o<n.length;o++)if(n[o].substring(0,1)===t)return e.formUtils.parseDateInt(i[o+1]);return-1};return s=h("m",u,o),r=h("d",u,o),a=h("y",u,o),2===s&&r>28&&(a%4!==0||a%100===0&&a%400!==0)||2===s&&r>29&&(a%4===0||a%100!==0&&a%400===0)||s>12||0===s?!1:this.isShortMonth(s)&&r>30||!this.isShortMonth(s)&&r>31||0===r?!1:[a,s,r]},parseDateInt:function(e){return 0===e.indexOf("0")&&(e=e.replace("0","")),parseInt(e,10)},isShortMonth:function(e){return e%2===0&&7>e||e%2!==0&&e>7},lengthRestriction:function(t,n){var i=parseInt(n.text(),10),o=0,r=function(){var e=t.val().length;if(e>i){var r=t.scrollTop();t.val(t.val().substring(0,i)),t.scrollTop(r)}o=i-e,0>o&&(o=0),n.text(o)};e(t).bind("keydown keyup keypress focus blur",r).bind("cut paste",function(){setTimeout(r,100)}),e(document).bind("ready",r)},numericRangeCheck:function(t,n){var i=e.split(n),o=parseInt(n.substr(3),10);return 1===i.length&&-1===n.indexOf("min")&&-1===n.indexOf("max")&&(i=[n,n]),2===i.length&&(t<parseInt(i[0],10)||t>parseInt(i[1],10))?["out",i[0],i[1]]:0===n.indexOf("min")&&o>t?["min",o]:0===n.indexOf("max")&&t>o?["max",o]:["ok"]},_numSuggestionElements:0,_selectedSuggestion:null,_previousTypedVal:null,suggest:function(t,i,o){var r={css:{maxHeight:"150px",background:"#FFF",lineHeight:"150%",textDecoration:"underline",overflowX:"hidden",overflowY:"auto",border:"#CCC solid 1px",borderTop:"none",cursor:"pointer"},activeSuggestionCSS:{background:"#E9E9E9"}},s=function(e,t){var n=t.offset();e.css({width:t.outerWidth(),left:n.left+"px",top:n.top+t.outerHeight()+"px"})};o&&e.extend(r,o),r.css.position="absolute",r.css["z-index"]=9999,t.attr("autocomplete","off"),0===this._numSuggestionElements&&n.bind("resize",function(){e(".jquery-form-suggestions").each(function(){var t=e(this),n=t.attr("data-suggest-container");s(t,e(".suggestions-"+n).eq(0))})}),this._numSuggestionElements++;var a=function(t){var n=t.valAttr("suggestion-nr");e.formUtils._selectedSuggestion=null,e.formUtils._previousTypedVal=null,e(".jquery-form-suggestion-"+n).fadeOut("fast")};return t.data("suggestions",i).valAttr("suggestion-nr",this._numSuggestionElements).unbind("focus.suggest").bind("focus.suggest",function(){e(this).trigger("keyup"),e.formUtils._selectedSuggestion=null}).unbind("keyup.suggest").bind("keyup.suggest",function(){var n=e(this),i=[],o=e.trim(n.val()).toLocaleLowerCase();if(o!==e.formUtils._previousTypedVal){e.formUtils._previousTypedVal=o;var l=!1,c=n.valAttr("suggestion-nr"),u=e(".jquery-form-suggestion-"+c);if(u.scrollTop(0),""!==o){var d=o.length>2;e.each(n.data("suggestions"),function(e,t){var n=t.toLocaleLowerCase();return n===o?(i.push("<strong>"+t+"</strong>"),l=!0,!1):void((0===n.indexOf(o)||d&&n.indexOf(o)>-1)&&i.push(t.replace(new RegExp(o,"gi"),"<strong>$&</strong>")))})}l||0===i.length&&u.length>0?u.hide():i.length>0&&0===u.length?(u=e("<div></div>").css(r.css).appendTo("body"),t.addClass("suggestions-"+c),u.attr("data-suggest-container",c).addClass("jquery-form-suggestions").addClass("jquery-form-suggestion-"+c)):i.length>0&&!u.is(":visible")&&u.show(),i.length>0&&o.length!==i[0].length&&(s(u,n),u.html(""),e.each(i,function(t,i){e("<div></div>").append(i).css({overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",padding:"5px"}).addClass("form-suggest-element").appendTo(u).click(function(){n.focus(),n.val(e(this).text()),n.trigger("change"),a(n)})}))}}).unbind("keydown.validation").bind("keydown.validation",function(t){var n,i,o=t.keyCode?t.keyCode:t.which,s=e(this);if(13===o&&null!==e.formUtils._selectedSuggestion){if(n=s.valAttr("suggestion-nr"),i=e(".jquery-form-suggestion-"+n),i.length>0){var l=i.find("div").eq(e.formUtils._selectedSuggestion).text();s.val(l),s.trigger("change"),a(s),t.preventDefault()}}else{n=s.valAttr("suggestion-nr"),i=e(".jquery-form-suggestion-"+n);var c=i.children();if(c.length>0&&e.inArray(o,[38,40])>-1){38===o?(null===e.formUtils._selectedSuggestion?e.formUtils._selectedSuggestion=c.length-1:e.formUtils._selectedSuggestion--,e.formUtils._selectedSuggestion<0&&(e.formUtils._selectedSuggestion=c.length-1)):40===o&&(null===e.formUtils._selectedSuggestion?e.formUtils._selectedSuggestion=0:e.formUtils._selectedSuggestion++,e.formUtils._selectedSuggestion>c.length-1&&(e.formUtils._selectedSuggestion=0));var u=i.innerHeight(),d=i.scrollTop(),h=i.children().eq(0).outerHeight(),p=h*e.formUtils._selectedSuggestion;return(d>p||p>d+u)&&i.scrollTop(p),c.removeClass("active-suggestion").css("background","none").eq(e.formUtils._selectedSuggestion).addClass("active-suggestion").css(r.activeSuggestionCSS),t.preventDefault(),!1}}}).unbind("blur.suggest").bind("blur.suggest",function(){a(e(this))}),t},LANG:{errorTitle:"O formulário não pode ser enviado!",requiredField:"Campo de preenchimento obrigatório",requiredFields:"Você ainda não preencheu todos os campos obrigatórios",badTime:"A hora digitada não é válida",badEmail:"O e-mail digitado não é válido",badTelephone:"O telefone digitado não é válido",badSecurityAnswer:"A pergunta de segurança não foi respondida corretamente",badDate:"A data digitada não é válida",lengthBadStart:"Sua resposta deve incluir entre ",lengthBadEnd:" caracteres",lengthTooLongStart:"Sua resposta tem mais que ",lengthTooShortStart:"Sua resposta tem menos que",notConfirmed:"As informações digitadas não puderam ser confirmadas",badDomain:"O domínio digitado não é válido",badUrl:"A URL digitada não é válida",badCustomVal:"Os dados digitados não são válidos",andSpaces:" e espaços",badInt:"O número digitado não é válido",badSecurityNumber:"O número de seguro social digitado não é válido",badUKVatAnswer:"O número do VAT digitado não é válido para o Reino Unido",badStrength:"Senha muito fraca",badNumberOfSelectedOptionsStart:"Selecione pelo menos",badNumberOfSelectedOptionsEnd:" alternativa(s)",badAlphaNumeric:"Use somente caracteres alfanuméricos (letras a-z e números)",badAlphaNumericExtra:" e",wrongFileSize:"O arquivo selecionado é maior que o tamanho máximo permitido (%s)",wrongFileType:"Somente arquivos %s são permitidos",groupCheckedRangeStart:"Por favor, escolha entre ",groupCheckedTooFewStart:"Por favor, escolha pelo menos ",groupCheckedTooManyStart:"Por favor, escolhe no máximo ",groupCheckedEnd:" alternativa(s)",badCreditCard:"O número de cartão de crédito digitado não é válido",badCVV:"O código de segurança do cartão de crédito não é válido",wrongFileDim:"As dimensões da imagem não são válidas",imageTooTall:"a imagem não pode ser mais alta que ",imageTooWide:"a imagem não pode ser mais larga que ",imageTooSmall:"a imagem é muito pequena",min:"min",max:"max",imageRatioNotAccepted:"A proporção da imagem (largura x altura) não é válida",badBrazilTelephoneAnswer:"O número de telefone digitado é inválido",badBrazilCEPAnswer:"O CEP digitado é inválido",badBrazilCPFAnswer:"O CPF digitado é inválido"}})}(e,window),function(e){e.formUtils.addValidator({name:"email",validatorFunction:function(t){var n=t.toLowerCase().split("@"),i=n[0],o=n[1];if(i&&o){if(0===i.indexOf('"')){var r=i.length;if(i=i.replace(/\"/g,""),i.length!==r-2)return!1}return e.formUtils.validators.validate_domain.validatorFunction(n[1])&&0!==i.indexOf(".")&&"."!==i.substring(i.length-1,i.length)&&-1===i.indexOf("..")&&!/[^\w\+\.\-\#\-\_\~\!\$\&\'\(\)\*\+\,\;\=\:]/.test(i)}return!1},errorMessage:"",errorMessageKey:"badEmail"}),e.formUtils.addValidator({name:"domain",validatorFunction:function(e){return e.length>0&&e.length<=253&&!/[^a-zA-Z0-9]/.test(e.slice(-2))&&!/[^a-zA-Z0-9]/.test(e.substr(0,1))&&!/[^a-zA-Z0-9\.\-]/.test(e)&&1===e.split("..").length&&e.split(".").length>1},errorMessage:"",errorMessageKey:"badDomain"}),e.formUtils.addValidator({name:"required",validatorFunction:function(t,n,i,o,r){switch(n.attr("type")){case"checkbox":return n.is(":checked");case"radio":return r.find('input[name="'+n.attr("name")+'"]').filter(":checked").length>0;default:return""!==e.trim(t)}},errorMessage:"",errorMessageKey:function(e){return"top"===e.errorMessagePosition||"function"==typeof e.errorMessagePosition?"requiredFields":"requiredField"}}),e.formUtils.addValidator({name:"length",validatorFunction:function(t,n,i,o){var r=n.valAttr("length"),s=n.attr("type");if(void 0===r)return alert('Please add attribute "data-validation-length" to '+n[0].nodeName+" named "+n.attr("name")),!0;var a,l="file"===s&&void 0!==n.get(0).files?n.get(0).files.length:t.length,c=e.formUtils.numericRangeCheck(l,r);switch(c[0]){case"out":this.errorMessage=o.lengthBadStart+r+o.lengthBadEnd,a=!1;break;case"min":this.errorMessage=o.lengthTooShortStart+c[1]+o.lengthBadEnd,a=!1;break;case"max":this.errorMessage=o.lengthTooLongStart+c[1]+o.lengthBadEnd,a=!1;break;default:a=!0}return a},errorMessage:"",errorMessageKey:""}),e.formUtils.addValidator({name:"url",validatorFunction:function(t){var n=/^(https?|ftp):\/\/((((\w|-|\.|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])(\w|-|\.|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])(\w|-|\.|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/(((\w|-|\.|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/((\w|-|\.|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|\[|\]|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#(((\w|-|\.|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i;if(n.test(t)){var i=t.split("://")[1],o=i.indexOf("/");return o>-1&&(i=i.substr(0,o)),e.formUtils.validators.validate_domain.validatorFunction(i)}return!1},errorMessage:"",errorMessageKey:"badUrl"}),e.formUtils.addValidator({name:"number",validatorFunction:function(e,t,n){if(""!==e){var i,o,r=t.valAttr("allowing")||"",s=t.valAttr("decimal-separator")||n.decimalSeparator,a=!1,l=t.valAttr("step")||"",c=!1,u=t.attr("data-sanitize")||"",d=u.match(/(^|[\s])numberFormat([\s]|$)/i);if(d){if(!window.numeral)throw new ReferenceError("The data-sanitize value numberFormat cannot be used without the numeral library. Please see Data Validation in http://www.formvalidator.net for more information.");e.length&&(e=String(numeral().unformat(e)))}if(-1===r.indexOf("number")&&(r+=",number"),-1===r.indexOf("negative")&&0===e.indexOf("-"))return!1;if(r.indexOf("range")>-1&&(i=parseFloat(r.substring(r.indexOf("[")+1,r.indexOf(";"))),o=parseFloat(r.substring(r.indexOf(";")+1,r.indexOf("]"))),a=!0),""!==l&&(c=!0),","===s){if(e.indexOf(".")>-1)return!1;e=e.replace(",",".")}if(""===e.replace(/[0-9-]/g,"")&&(!a||e>=i&&o>=e)&&(!c||e%l===0))return!0;if(r.indexOf("float")>-1&&null!==e.match(new RegExp("^([0-9-]+)\\.([0-9]+)$"))&&(!a||e>=i&&o>=e)&&(!c||e%l===0))return!0}return!1},errorMessage:"",errorMessageKey:"badInt"}),e.formUtils.addValidator({name:"alphanumeric",validatorFunction:function(t,n,i,o){var r="^([a-zA-Z0-9",s="]+)$",a=n.valAttr("allowing"),l="";if(a){l=r+a+s;var c=a.replace(/\\/g,"");c.indexOf(" ")>-1&&(c=c.replace(" ",""),c+=o.andSpaces||e.formUtils.LANG.andSpaces),this.errorMessage=o.badAlphaNumeric+o.badAlphaNumericExtra+c}else l=r+s,this.errorMessage=o.badAlphaNumeric;return new RegExp(l).test(t)},errorMessage:"",errorMessageKey:""}),e.formUtils.addValidator({name:"custom",validatorFunction:function(e,t){var n=new RegExp(t.valAttr("regexp"));return n.test(e)},errorMessage:"",errorMessageKey:"badCustomVal"}),e.formUtils.addValidator({name:"date",validatorFunction:function(t,n,i){var o=n.valAttr("format")||i.dateFormat||"yyyy-mm-dd",r="false"===n.valAttr("require-leading-zero");return e.formUtils.parseDate(t,o,r)!==!1},errorMessage:"",errorMessageKey:"badDate"}),e.formUtils.addValidator({name:"checkbox_group",validatorFunction:function(t,n,i,o,r){var s=!0,a=n.attr("name"),l=e('input[type=checkbox][name^="'+a+'"]',r),c=l.filter(":checked").length,u=n.valAttr("qty");if(void 0===u){var d=n.get(0).nodeName;alert('Attribute "data-validation-qty" is missing from '+d+" named "+n.attr("name"))}var h=e.formUtils.numericRangeCheck(c,u);switch(h[0]){case"out":this.errorMessage=o.groupCheckedRangeStart+u+o.groupCheckedEnd,s=!1;break;case"min":this.errorMessage=o.groupCheckedTooFewStart+h[1]+o.groupCheckedEnd,s=!1;break;case"max":this.errorMessage=o.groupCheckedTooManyStart+h[1]+o.groupCheckedEnd,s=!1;break;default:s=!0}if(!s){var p=function(){l.unbind("click",p),l.filter("*[data-validation]").validateInputOnBlur(o,i,!1,"blur")};l.bind("click",p)}return s}})}(e)}),function(e,t,n){!function i(e,t,n){function o(s,a){if(!t[s]){if(!e[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(r)return r(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var u=t[s]={exports:{}};e[s][0].call(u.exports,function(t){var n=e[s][1][t];return o(n?n:t)},u,u.exports,i,e,t,n)}return t[s].exports}for(var r="function"==typeof require&&require,s=0;s<n.length;s++)o(n[s]);return o}({1:[function(i,o,r){var s=function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(r,"__esModule",{value:!0});var a,l,c,u,d=i("./modules/handle-dom"),h=i("./modules/utils"),p=i("./modules/handle-swal-dom"),f=i("./modules/handle-click"),m=i("./modules/handle-key"),g=s(m),v=i("./modules/default-params"),y=s(v),b=i("./modules/set-params"),w=s(b);r["default"]=c=u=function(){function i(e){var t=o;return t[e]===n?y["default"][e]:t[e]}var o=arguments[0];if(d.addClass(t.body,"stop-scrolling"),p.resetInput(),o===n)return h.logStr("SweetAlert expects at least 1 attribute!"),!1;var r=h.extend({},y["default"]);switch(typeof o){case"string":r.title=o,r.text=arguments[1]||"",r.type=arguments[2]||"";break;case"object":if(o.title===n)return h.logStr('Missing "title" argument!'),!1;r.title=o.title;for(var s in y["default"])r[s]=i(s);r.confirmButtonText=r.showCancelButton?"Confirm":y["default"].confirmButtonText,r.confirmButtonText=i("confirmButtonText"),r.doneFunction=arguments[1]||null;break;default:return h.logStr('Unexpected type of argument! Expected "string" or "object", got '+typeof o),!1}w["default"](r),p.fixVerticalPosition(),p.openModal(arguments[1]);for(var c=p.getModal(),m=c.querySelectorAll("button"),v=["onclick","onmouseover","onmouseout","onmousedown","onmouseup","onfocus"],b=function(e){return f.handleButton(e,r,c)},x=0;x<m.length;x++)for(var C=0;C<v.length;C++){var _=v[C];m[x][_]=b}p.getOverlay().onclick=b,a=e.onkeydown;var k=function(e){return g["default"](e,r,c)};e.onkeydown=k,e.onfocus=function(){setTimeout(function(){l!==n&&(l.focus(),l=n)},0)},u.enableButtons()},c.setDefaults=u.setDefaults=function(e){if(!e)throw new Error("userParams is required");if("object"!=typeof e)throw new Error("userParams has to be a object");h.extend(y["default"],e)},c.close=u.close=function(){var i=p.getModal();d.fadeOut(p.getOverlay(),5),d.fadeOut(i,5),d.removeClass(i,"showSweetAlert"),d.addClass(i,"hideSweetAlert"),d.removeClass(i,"visible");var o=i.querySelector(".sa-icon.sa-success");d.removeClass(o,"animate"),d.removeClass(o.querySelector(".sa-tip"),"animateSuccessTip"),d.removeClass(o.querySelector(".sa-long"),"animateSuccessLong");var r=i.querySelector(".sa-icon.sa-error");d.removeClass(r,"animateErrorIcon"),d.removeClass(r.querySelector(".sa-x-mark"),"animateXMark");var s=i.querySelector(".sa-icon.sa-warning");return d.removeClass(s,"pulseWarning"),d.removeClass(s.querySelector(".sa-body"),"pulseWarningIns"),d.removeClass(s.querySelector(".sa-dot"),"pulseWarningIns"),setTimeout(function(){var e=i.getAttribute("data-custom-class");d.removeClass(i,e)},300),d.removeClass(t.body,"stop-scrolling"),e.onkeydown=a,e.previousActiveElement&&e.previousActiveElement.focus(),l=n,clearTimeout(i.timeout),!0},c.showInputError=u.showInputError=function(e){var t=p.getModal(),n=t.querySelector(".sa-input-error");d.addClass(n,"show");var i=t.querySelector(".sa-error-container");d.addClass(i,"show"),i.querySelector("p").innerHTML=e,setTimeout(function(){c.enableButtons()},1),t.querySelector("input").focus()},c.resetInputError=u.resetInputError=function(e){if(e&&13===e.keyCode)return!1;var t=p.getModal(),n=t.querySelector(".sa-input-error");d.removeClass(n,"show");var i=t.querySelector(".sa-error-container");d.removeClass(i,"show")},c.disableButtons=u.disableButtons=function(){var e=p.getModal(),t=e.querySelector("button.confirm"),n=e.querySelector("button.cancel");t.disabled=!0,n.disabled=!0},c.enableButtons=u.enableButtons=function(){var e=p.getModal(),t=e.querySelector("button.confirm"),n=e.querySelector("button.cancel");t.disabled=!1,n.disabled=!1},"undefined"!=typeof e?e.sweetAlert=e.swal=c:h.logStr("SweetAlert is a frontend module!"),o.exports=r["default"]},{"./modules/default-params":2,"./modules/handle-click":3,"./modules/handle-dom":4,"./modules/handle-key":5,"./modules/handle-swal-dom":6,"./modules/set-params":8,"./modules/utils":9}],2:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var i={title:"",text:"",type:null,allowOutsideClick:!1,showConfirmButton:!0,showCancelButton:!1,closeOnConfirm:!0,closeOnCancel:!0,confirmButtonText:"OK",confirmButtonColor:"#8CD4F5",cancelButtonText:"Cancel",imageUrl:null,imageSize:null,timer:null,customClass:"",html:!1,animation:!0,allowEscapeKey:!0,inputType:"text",inputPlaceholder:"",inputValue:"",showLoaderOnConfirm:!1};n["default"]=i,t.exports=n["default"]},{}],3:[function(t,n,i){Object.defineProperty(i,"__esModule",{value:!0});var o=t("./utils"),r=(t("./handle-swal-dom"),t("./handle-dom")),s=function(t,n,i){function s(e){f&&n.confirmButtonColor&&(p.style.backgroundColor=e)}var c,u,d,h=t||e.event,p=h.target||h.srcElement,f=-1!==p.className.indexOf("confirm"),m=-1!==p.className.indexOf("sweet-overlay"),g=r.hasClass(i,"visible"),v=n.doneFunction&&"true"===i.getAttribute("data-has-done-function");switch(f&&n.confirmButtonColor&&(c=n.confirmButtonColor,u=o.colorLuminance(c,-.04),d=o.colorLuminance(c,-.14)),h.type){case"mouseover":s(u);break;case"mouseout":s(c);break;case"mousedown":s(d);break;case"mouseup":s(u);break;case"focus":var y=i.querySelector("button.confirm"),b=i.querySelector("button.cancel");f?b.style.boxShadow="none":y.style.boxShadow="none";break;case"click":var w=i===p,x=r.isDescendant(i,p);if(!w&&!x&&g&&!n.allowOutsideClick)break;f&&v&&g?a(i,n):v&&g||m?l(i,n):r.isDescendant(i,p)&&"BUTTON"===p.tagName&&sweetAlert.close()}},a=function(e,t){var n=!0;r.hasClass(e,"show-input")&&(n=e.querySelector("input").value,n||(n="")),t.doneFunction(n),t.closeOnConfirm&&sweetAlert.close(),t.showLoaderOnConfirm&&sweetAlert.disableButtons()},l=function(e,t){var n=String(t.doneFunction).replace(/\s/g,""),i="function("===n.substring(0,9)&&")"!==n.substring(9,10);i&&t.doneFunction(!1),t.closeOnCancel&&sweetAlert.close()};i["default"]={handleButton:s,handleConfirm:a,handleCancel:l},n.exports=i["default"]},{"./handle-dom":4,"./handle-swal-dom":6,"./utils":9}],4:[function(n,i,o){Object.defineProperty(o,"__esModule",{value:!0});var r=function(e,t){return new RegExp(" "+t+" ").test(" "+e.className+" ")},s=function(e,t){r(e,t)||(e.className+=" "+t)},a=function(e,t){var n=" "+e.className.replace(/[\t\r\n]/g," ")+" ";if(r(e,t)){for(;n.indexOf(" "+t+" ")>=0;)n=n.replace(" "+t+" "," ");e.className=n.replace(/^\s+|\s+$/g,"")}},l=function(e){var n=t.createElement("div");return n.appendChild(t.createTextNode(e)),n.innerHTML},c=function(e){e.style.opacity="",e.style.display="block"},u=function(e){if(e&&!e.length)return c(e);for(var t=0;t<e.length;++t)c(e[t])},d=function(e){e.style.opacity="",e.style.display="none"},h=function(e){if(e&&!e.length)return d(e);for(var t=0;t<e.length;++t)d(e[t])},p=function(e,t){for(var n=t.parentNode;null!==n;){if(n===e)return!0;n=n.parentNode}return!1},f=function(e){e.style.left="-9999px",e.style.display="block";var t,n=e.clientHeight;return t="undefined"!=typeof getComputedStyle?parseInt(getComputedStyle(e).getPropertyValue("padding-top"),10):parseInt(e.currentStyle.padding),e.style.left="",e.style.display="none","-"+parseInt((n+t)/2)+"px"},m=function(e,t){if(+e.style.opacity<1){t=t||16,e.style.opacity=0,e.style.display="block";var n=+new Date,i=function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){e.style.opacity=+e.style.opacity+(new Date-n)/100,n=+new Date,+e.style.opacity<1&&setTimeout(i,t)});i()}e.style.display="block"},g=function(e,t){t=t||16,e.style.opacity=1;var n=+new Date,i=function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){e.style.opacity=+e.style.opacity-(new Date-n)/100,n=+new Date,+e.style.opacity>0?setTimeout(i,t):e.style.display="none"});i()},v=function(n){if("function"==typeof MouseEvent){var i=new MouseEvent("click",{view:e,bubbles:!1,cancelable:!0});n.dispatchEvent(i)}else if(t.createEvent){var o=t.createEvent("MouseEvents");o.initEvent("click",!1,!1),n.dispatchEvent(o)}else t.createEventObject?n.fireEvent("onclick"):"function"==typeof n.onclick&&n.onclick()},y=function(t){"function"==typeof t.stopPropagation?(t.stopPropagation(),t.preventDefault()):e.event&&e.event.hasOwnProperty("cancelBubble")&&(e.event.cancelBubble=!0)};o.hasClass=r,o.addClass=s,o.removeClass=a,o.escapeHtml=l,o._show=c,o.show=u,o._hide=d,o.hide=h,o.isDescendant=p,o.getTopMargin=f,o.fadeIn=m,o.fadeOut=g,o.fireClick=v,o.stopEventPropagation=y},{}],5:[function(t,i,o){Object.defineProperty(o,"__esModule",{value:!0});var r=t("./handle-dom"),s=t("./handle-swal-dom"),a=function(t,i,o){var a=t||e.event,l=a.keyCode||a.which,c=o.querySelector("button.confirm"),u=o.querySelector("button.cancel"),d=o.querySelectorAll("button[tabindex]");if(-1!==[9,13,32,27].indexOf(l)){for(var h=a.target||a.srcElement,p=-1,f=0;f<d.length;f++)if(h===d[f]){p=f;break}9===l?(h=-1===p?c:p===d.length-1?d[0]:d[p+1],r.stopEventPropagation(a),h.focus(),i.confirmButtonColor&&s.setFocusStyle(h,i.confirmButtonColor)):13===l?("INPUT"===h.tagName&&(h=c,c.focus()),h=-1===p?c:n):27===l&&i.allowEscapeKey===!0?(h=u,r.fireClick(h,a)):h=n}};o["default"]=a,i.exports=o["default"]},{"./handle-dom":4,"./handle-swal-dom":6}],6:[function(n,i,o){var r=function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(o,"__esModule",{value:!0});var s=n("./utils"),a=n("./handle-dom"),l=n("./default-params"),c=r(l),u=n("./injected-html"),d=r(u),h=".sweet-alert",p=".sweet-overlay",f=function(){var e=t.createElement("div");for(e.innerHTML=d["default"];e.firstChild;)t.body.appendChild(e.firstChild)},m=function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){var e=t.querySelector(h);return e||(f(),e=m()),e}),g=function(){var e=m();return e?e.querySelector("input"):void 0},v=function(){return t.querySelector(p)},y=function(e,t){var n=s.hexToRgb(t);e.style.boxShadow="0 0 2px rgba("+n+", 0.8), inset 0 0 0 1px rgba(0, 0, 0, 0.05)"},b=function(n){var i=m();a.fadeIn(v(),10),a.show(i),a.addClass(i,"showSweetAlert"),a.removeClass(i,"hideSweetAlert"),e.previousActiveElement=t.activeElement;var o=i.querySelector("button.confirm");o.focus(),setTimeout(function(){a.addClass(i,"visible")},500);var r=i.getAttribute("data-timer");if("null"!==r&&""!==r){var s=n;i.timeout=setTimeout(function(){var e=(s||null)&&"true"===i.getAttribute("data-has-done-function");e?s(null):sweetAlert.close()},r)}},w=function(){var e=m(),t=g();a.removeClass(e,"show-input"),t.value=c["default"].inputValue,t.setAttribute("type",c["default"].inputType),t.setAttribute("placeholder",c["default"].inputPlaceholder),x()},x=function(e){if(e&&13===e.keyCode)return!1;var t=m(),n=t.querySelector(".sa-input-error");a.removeClass(n,"show");var i=t.querySelector(".sa-error-container");a.removeClass(i,"show")},C=function(){var e=m();e.style.marginTop=a.getTopMargin(m())};o.sweetAlertInitialize=f,o.getModal=m,o.getOverlay=v,o.getInput=g,o.setFocusStyle=y,o.openModal=b,o.resetInput=w,o.resetInputError=x,o.fixVerticalPosition=C},{"./default-params":2,"./handle-dom":4,"./injected-html":7,"./utils":9}],7:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var i='<div class="sweet-overlay" tabIndex="-1"></div><div class="sweet-alert"><div class="sa-icon sa-error">\n      <span class="sa-x-mark">\n        <span class="sa-line sa-left"></span>\n        <span class="sa-line sa-right"></span>\n      </span>\n    </div><div class="sa-icon sa-warning">\n      <span class="sa-body"></span>\n      <span class="sa-dot"></span>\n    </div><div class="sa-icon sa-info"></div><div class="sa-icon sa-success">\n      <span class="sa-line sa-tip"></span>\n      <span class="sa-line sa-long"></span>\n\n      <div class="sa-placeholder"></div>\n      <div class="sa-fix"></div>\n    </div><div class="sa-icon sa-custom"></div><h2>Title</h2>\n    <p>Text</p>\n    <fieldset>\n      <input type="text" tabIndex="3" />\n      <div class="sa-input-error"></div>\n    </fieldset><div class="sa-error-container">\n      <div class="icon">!</div>\n      <p>Not valid!</p>\n    </div><div class="sa-button-container">\n      <button class="cancel" tabIndex="2">Cancel</button>\n      <div class="sa-confirm-button-container">\n        <button class="confirm" tabIndex="1">OK</button><div class="la-ball-fall">\n          <div></div>\n          <div></div>\n          <div></div>\n        </div>\n      </div>\n    </div></div>';
n["default"]=i,t.exports=n["default"]},{}],8:[function(e,t,i){Object.defineProperty(i,"__esModule",{value:!0});var o=e("./utils"),r=e("./handle-swal-dom"),s=e("./handle-dom"),a=["error","warning","info","success","input","prompt"],l=function(e){var t=r.getModal(),i=t.querySelector("h2"),l=t.querySelector("p"),c=t.querySelector("button.cancel"),u=t.querySelector("button.confirm");if(i.innerHTML=e.html?e.title:s.escapeHtml(e.title).split("\n").join("<br>"),l.innerHTML=e.html?e.text:s.escapeHtml(e.text||"").split("\n").join("<br>"),e.text&&s.show(l),e.customClass)s.addClass(t,e.customClass),t.setAttribute("data-custom-class",e.customClass);else{var d=t.getAttribute("data-custom-class");s.removeClass(t,d),t.setAttribute("data-custom-class","")}if(s.hide(t.querySelectorAll(".sa-icon")),e.type&&!o.isIE8()){var h=function(){for(var i=!1,o=0;o<a.length;o++)if(e.type===a[o]){i=!0;break}if(!i)return logStr("Unknown alert type: "+e.type),{v:!1};var l=["success","error","warning","info"],c=n;-1!==l.indexOf(e.type)&&(c=t.querySelector(".sa-icon.sa-"+e.type),s.show(c));var u=r.getInput();switch(e.type){case"success":s.addClass(c,"animate"),s.addClass(c.querySelector(".sa-tip"),"animateSuccessTip"),s.addClass(c.querySelector(".sa-long"),"animateSuccessLong");break;case"error":s.addClass(c,"animateErrorIcon"),s.addClass(c.querySelector(".sa-x-mark"),"animateXMark");break;case"warning":s.addClass(c,"pulseWarning"),s.addClass(c.querySelector(".sa-body"),"pulseWarningIns"),s.addClass(c.querySelector(".sa-dot"),"pulseWarningIns");break;case"input":case"prompt":u.setAttribute("type",e.inputType),u.value=e.inputValue,u.setAttribute("placeholder",e.inputPlaceholder),s.addClass(t,"show-input"),setTimeout(function(){u.focus(),u.addEventListener("keyup",swal.resetInputError)},400)}}();if("object"==typeof h)return h.v}if(e.imageUrl){var p=t.querySelector(".sa-icon.sa-custom");p.style.backgroundImage="url("+e.imageUrl+")",s.show(p);var f=80,m=80;if(e.imageSize){var g=e.imageSize.toString().split("x"),v=g[0],y=g[1];v&&y?(f=v,m=y):logStr("Parameter imageSize expects value with format WIDTHxHEIGHT, got "+e.imageSize)}p.setAttribute("style",p.getAttribute("style")+"width:"+f+"px; height:"+m+"px")}t.setAttribute("data-has-cancel-button",e.showCancelButton),e.showCancelButton?c.style.display="inline-block":s.hide(c),t.setAttribute("data-has-confirm-button",e.showConfirmButton),e.showConfirmButton?u.style.display="inline-block":s.hide(u),e.cancelButtonText&&(c.innerHTML=s.escapeHtml(e.cancelButtonText)),e.confirmButtonText&&(u.innerHTML=s.escapeHtml(e.confirmButtonText)),e.confirmButtonColor&&(u.style.backgroundColor=e.confirmButtonColor,u.style.borderLeftColor=e.confirmLoadingButtonColor,u.style.borderRightColor=e.confirmLoadingButtonColor,r.setFocusStyle(u,e.confirmButtonColor)),t.setAttribute("data-allow-outside-click",e.allowOutsideClick);var b=e.doneFunction?!0:!1;t.setAttribute("data-has-done-function",b),e.animation?"string"==typeof e.animation?t.setAttribute("data-animation",e.animation):t.setAttribute("data-animation","pop"):t.setAttribute("data-animation","none"),t.setAttribute("data-timer",e.timer)};i["default"]=l,t.exports=i["default"]},{"./handle-dom":4,"./handle-swal-dom":6,"./utils":9}],9:[function(t,n,i){Object.defineProperty(i,"__esModule",{value:!0});var o=function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},r=function(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?parseInt(t[1],16)+", "+parseInt(t[2],16)+", "+parseInt(t[3],16):null},s=function(){return e.attachEvent&&!e.addEventListener},a=function(t){e.console&&e.console.log("SweetAlert: "+t)},l=function(e,t){e=String(e).replace(/[^0-9a-f]/gi,""),e.length<6&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),t=t||0;var n,i,o="#";for(i=0;3>i;i++)n=parseInt(e.substr(2*i,2),16),n=Math.round(Math.min(Math.max(0,n+n*t),255)).toString(16),o+=("00"+n).substr(n.length);return o};i.extend=o,i.hexToRgb=r,i.isIE8=s,i.logStr=a,i.colorLuminance=l},{}]},{},[1]),"function"==typeof define&&define.amd?define("sweetAlert",[],function(){return sweetAlert}):"undefined"!=typeof module&&module.exports&&(module.exports=sweetAlert)}(window,document),function(e){define("metisMenu",[],function(){return function(){!function(e){function t(){var e=document.createElement("mm"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in t)if(void 0!==e.style[n])return{end:t[n]};return!1}function n(t){return this.each(function(){var n=e(this),i=n.data("mm"),r=e.extend({},o.DEFAULTS,n.data(),"object"==typeof t&&t);i||n.data("mm",i=new o(this,r)),"string"==typeof t&&i[t]()})}e.fn.emulateTransitionEnd=function(t){var n=!1,o=this;e(this).one("mmTransitionEnd",function(){n=!0});var r=function(){n||e(o).trigger(i.end)};return setTimeout(r,t),this};var i=t();i&&(e.event.special.mmTransitionEnd={bindType:i.end,delegateType:i.end,handle:function(t){return e(t.target).is(this)?t.handleObj.handler.apply(this,arguments):void 0}});var o=function(t,n){this.$element=e(t),this.options=e.extend({},o.DEFAULTS,n),this.transitioning=null,this.options.toggle,this.init()};o.TRANSITION_DURATION=350,o.DEFAULTS={toggle:!0,doubleTapToGo:!1},o.prototype.init=function(){var t=this;this.$element.find("li.active").has("ul").children("ul").addClass("collapse in"),this.$element.find("li").not(".active").has("ul").children("ul").addClass("collapse"),this.options.doubleTapToGo&&this.$element.find("li.active").has("ul").children("a").addClass("doubleTapToGo"),this.$element.find("li").has("ul").children("a").on("click.metisMenu",function(n){var i=e(this),o=i.parent("li"),r=o.children("ul");return n.preventDefault(),o.hasClass("active")?t.hide(r):t.show(r),t.options.doubleTapToGo&&t.doubleTapToGo(i)&&"#"!==i.attr("href")&&""!==i.attr("href")?(n.stopPropagation(),void(document.location=i.attr("href"))):void 0})},o.prototype.doubleTapToGo=function(e){var t=this.$element;return e.hasClass("doubleTapToGo")?(e.removeClass("doubleTapToGo"),!0):e.parent().children("ul").length?(t.find(".doubleTapToGo").removeClass("doubleTapToGo"),e.addClass("doubleTapToGo"),!1):void 0},o.prototype.show=function(t){var n=e(t),r=n.parent("li");if(!this.transitioning&&!n.hasClass("in")){r.addClass("active"),this.options.toggle&&this.hide(r.siblings().children("ul.in")),n.removeClass("collapse").addClass("collapsing").height(0),this.transitioning=1;var s=function(){n.removeClass("collapsing").addClass("collapse in").height(""),this.transitioning=0};return i?void n.one("mmTransitionEnd",e.proxy(s,this)).emulateTransitionEnd(o.TRANSITION_DURATION).height(n[0].scrollHeight):s.call(this)}},o.prototype.hide=function(t){var n=e(t);if(!this.transitioning&&n.hasClass("in")){n.parent("li").removeClass("active"),n.height(n.height())[0].offsetHeight,n.addClass("collapsing").removeClass("collapse").removeClass("in"),this.transitioning=1;var r=function(){this.transitioning=0,n.removeClass("collapsing").addClass("collapse")};return i?void n.height(0).one("mmTransitionEnd",e.proxy(r,this)).emulateTransitionEnd(o.TRANSITION_DURATION):r.call(this)}};var r=e.fn.metisMenu;e.fn.metisMenu=n,e.fn.metisMenu.Constructor=o,e.fn.metisMenu.noConflict=function(){return e.fn.metisMenu=r,this}}(jQuery)}.apply(e,arguments)})}(this),!function(e){return"function"==typeof define&&define.amd?define("nifty",["jquery"],function(t){return e(t,window,document)}):"object"==typeof exports?module.exports=e(require("jquery"),window,document):e(jQuery,window,document)}(function(e,t,n){var i,o,r,s,a,l,c,u,d,h,p,f,m,g,v,y,b,w,x,C,_,k,S,T,E,P,M,A,I,D,O;S={paneClass:"nano-pane",sliderClass:"nano-slider",contentClass:"nano-content",iOSNativeScrolling:!1,preventPageScrolling:!1,disableResize:!1,alwaysVisible:!1,flashDelay:1500,sliderMinHeight:20,sliderMaxHeight:null,documentContext:null,windowContext:null},w="scrollbar",b="scroll",d="mousedown",h="mouseenter",p="mousemove",m="mousewheel",f="mouseup",y="resize",a="drag",l="enter",C="up",v="panedown",r="DOMMouseScroll",s="down",_="wheel",c="keydown",u="keyup",x="touchmove",i="Microsoft Internet Explorer"===t.navigator.appName&&/msie 7./i.test(t.navigator.appVersion)&&t.ActiveXObject,o=null,M=t.requestAnimationFrame,k=t.cancelAnimationFrame,I=n.createElement("div").style,O=function(){var e,t,n,i,o,r;for(i=["t","webkitT","MozT","msT","OT"],e=o=0,r=i.length;r>o;e=++o)if(n=i[e],t=i[e]+"ransform",t in I)return i[e].substr(0,i[e].length-1);return!1}(),D=function(e){return O===!1?!1:""===O?e:O+e.charAt(0).toUpperCase()+e.substr(1)},A=D("transform"),E=A!==!1,T=function(){var e,t,i;return e=n.createElement("div"),t=e.style,t.position="absolute",t.width="100px",t.height="100px",t.overflow=b,t.top="-9999px",n.body.appendChild(e),i=e.offsetWidth-e.clientWidth,n.body.removeChild(e),i},P=function(){var e,n,i;return n=t.navigator.userAgent,(e=/(?=.+Mac OS X)(?=.+Firefox)/.test(n))?(i=/Firefox\/\d{2}\./.exec(n),i&&(i=i[0].replace(/\D+/g,"")),e&&+i>23):!1},g=function(){function c(i,r){this.el=i,this.options=r,o||(o=T()),this.$el=e(this.el),this.doc=e(this.options.documentContext||n),this.win=e(this.options.windowContext||t),this.body=this.doc.find("body"),this.$content=this.$el.children("."+this.options.contentClass),this.$content.attr("tabindex",this.options.tabIndex||0),this.content=this.$content[0],this.previousPosition=0,this.options.iOSNativeScrolling&&null!=this.el.style.WebkitOverflowScrolling?this.nativeScrolling():this.generate(),this.createEvents(),this.addEvents(),this.reset()}return c.prototype.preventScrolling=function(e,t){if(this.isActive)if(e.type===r)(t===s&&e.originalEvent.detail>0||t===C&&e.originalEvent.detail<0)&&e.preventDefault();else if(e.type===m){if(!e.originalEvent||!e.originalEvent.wheelDelta)return;(t===s&&e.originalEvent.wheelDelta<0||t===C&&e.originalEvent.wheelDelta>0)&&e.preventDefault()}},c.prototype.nativeScrolling=function(){this.$content.css({WebkitOverflowScrolling:"touch"}),this.iOSNativeScrolling=!0,this.isActive=!0},c.prototype.updateScrollValues=function(){var e,t;e=this.content,this.maxScrollTop=e.scrollHeight-e.clientHeight,this.prevScrollTop=this.contentScrollTop||0,this.contentScrollTop=e.scrollTop,t=this.contentScrollTop>this.previousPosition?"down":this.contentScrollTop<this.previousPosition?"up":"same",this.previousPosition=this.contentScrollTop,"same"!==t&&this.$el.trigger("update",{position:this.contentScrollTop,maximum:this.maxScrollTop,direction:t}),this.iOSNativeScrolling||(this.maxSliderTop=this.paneHeight-this.sliderHeight,this.sliderTop=0===this.maxScrollTop?0:this.contentScrollTop*this.maxSliderTop/this.maxScrollTop)},c.prototype.setOnScrollStyles=function(){var e;E?(e={},e[A]="translate(0, "+this.sliderTop+"px)"):e={top:this.sliderTop},M?(k&&this.scrollRAF&&k(this.scrollRAF),this.scrollRAF=M(function(t){return function(){return t.scrollRAF=null,t.slider.css(e)}}(this))):this.slider.css(e)},c.prototype.createEvents=function(){this.events={down:function(e){return function(t){return e.isBeingDragged=!0,e.offsetY=t.pageY-e.slider.offset().top,e.slider.is(t.target)||(e.offsetY=0),e.pane.addClass("active"),e.doc.bind(p,e.events[a]).bind(f,e.events[C]),e.body.bind(h,e.events[l]),!1}}(this),drag:function(e){return function(t){return e.sliderY=t.pageY-e.$el.offset().top-e.paneTop-(e.offsetY||.5*e.sliderHeight),e.scroll(),e.contentScrollTop>=e.maxScrollTop&&e.prevScrollTop!==e.maxScrollTop?e.$el.trigger("scrollend"):0===e.contentScrollTop&&0!==e.prevScrollTop&&e.$el.trigger("scrolltop"),!1}}(this),up:function(e){return function(){return e.isBeingDragged=!1,e.pane.removeClass("active"),e.doc.unbind(p,e.events[a]).unbind(f,e.events[C]),e.body.unbind(h,e.events[l]),!1}}(this),resize:function(e){return function(){e.reset()}}(this),panedown:function(e){return function(t){return e.sliderY=(t.offsetY||t.originalEvent.layerY)-.5*e.sliderHeight,e.scroll(),e.events.down(t),!1}}(this),scroll:function(e){return function(t){e.updateScrollValues(),e.isBeingDragged||(e.iOSNativeScrolling||(e.sliderY=e.sliderTop,e.setOnScrollStyles()),null!=t&&(e.contentScrollTop>=e.maxScrollTop?(e.options.preventPageScrolling&&e.preventScrolling(t,s),e.prevScrollTop!==e.maxScrollTop&&e.$el.trigger("scrollend")):0===e.contentScrollTop&&(e.options.preventPageScrolling&&e.preventScrolling(t,C),0!==e.prevScrollTop&&e.$el.trigger("scrolltop"))))}}(this),wheel:function(e){return function(t){var n;return null!=t?(n=t.delta||t.wheelDelta||t.originalEvent&&t.originalEvent.wheelDelta||-t.detail||t.originalEvent&&-t.originalEvent.detail,n&&(e.sliderY+=-n/3),e.scroll(),!1):void 0}}(this),enter:function(e){return function(t){var n;return e.isBeingDragged&&1!==(t.buttons||t.which)?(n=e.events)[C].apply(n,arguments):void 0}}(this)}},c.prototype.addEvents=function(){var e;this.removeEvents(),e=this.events,this.options.disableResize||this.win.bind(y,e[y]),this.iOSNativeScrolling||(this.slider.bind(d,e[s]),this.pane.bind(d,e[v]).bind(""+m+" "+r,e[_])),this.$content.bind(""+b+" "+m+" "+r+" "+x,e[b])},c.prototype.removeEvents=function(){var e;e=this.events,this.win.unbind(y,e[y]),this.iOSNativeScrolling||(this.slider.unbind(),this.pane.unbind()),this.$content.unbind(""+b+" "+m+" "+r+" "+x,e[b])},c.prototype.generate=function(){var e,n,i,r,s,a,l;return r=this.options,a=r.paneClass,l=r.sliderClass,e=r.contentClass,(s=this.$el.children("."+a)).length||s.children("."+l).length||this.$el.append('<div class="'+a+'"><div class="'+l+'" /></div>'),this.pane=this.$el.children("."+a),this.slider=this.pane.find("."+l),0===o&&P()?(i=t.getComputedStyle(this.content,null).getPropertyValue("padding-right").replace(/[^0-9.]+/g,""),n={right:-14,paddingRight:+i+14}):o&&(n={right:-o},this.$el.addClass("has-scrollbar")),null!=n&&this.$content.css(n),this},c.prototype.restore=function(){this.stopped=!1,this.iOSNativeScrolling||this.pane.show(),this.addEvents()},c.prototype.reset=function(){var e,t,n,r,s,a,l,c,u,d,h,p;return this.iOSNativeScrolling?void(this.contentHeight=this.content.scrollHeight):(this.$el.find("."+this.options.paneClass).length||this.generate().stop(),this.stopped&&this.restore(),e=this.content,r=e.style,s=r.overflowY,i&&this.$content.css({height:this.$content.height()}),t=e.scrollHeight+o,d=parseInt(this.$el.css("max-height"),10),d>0&&(this.$el.height(""),this.$el.height(e.scrollHeight>d?d:e.scrollHeight)),l=this.pane.outerHeight(!1),u=parseInt(this.pane.css("top"),10),a=parseInt(this.pane.css("bottom"),10),c=l+u+a,p=Math.round(c/t*l),p<this.options.sliderMinHeight?p=this.options.sliderMinHeight:null!=this.options.sliderMaxHeight&&p>this.options.sliderMaxHeight&&(p=this.options.sliderMaxHeight),s===b&&r.overflowX!==b&&(p+=o),this.maxSliderTop=c-p,this.contentHeight=t,this.paneHeight=l,this.paneOuterHeight=c,this.sliderHeight=p,this.paneTop=u,this.slider.height(p),this.events.scroll(),this.pane.show(),this.isActive=!0,e.scrollHeight===e.clientHeight||this.pane.outerHeight(!0)>=e.scrollHeight&&s!==b?(this.pane.hide(),this.isActive=!1):this.el.clientHeight===e.scrollHeight&&s===b?this.slider.hide():this.slider.show(),this.pane.css({opacity:this.options.alwaysVisible?1:"",visibility:this.options.alwaysVisible?"visible":""}),n=this.$content.css("position"),("static"===n||"relative"===n)&&(h=parseInt(this.$content.css("right"),10),h&&this.$content.css({right:"",marginRight:h})),this)},c.prototype.scroll=function(){return this.isActive?(this.sliderY=Math.max(0,this.sliderY),this.sliderY=Math.min(this.maxSliderTop,this.sliderY),this.$content.scrollTop(this.maxScrollTop*this.sliderY/this.maxSliderTop),this.iOSNativeScrolling||(this.updateScrollValues(),this.setOnScrollStyles()),this):void 0},c.prototype.scrollBottom=function(e){return this.isActive?(this.$content.scrollTop(this.contentHeight-this.$content.height()-e).trigger(m),this.stop().restore(),this):void 0},c.prototype.scrollTop=function(e){return this.isActive?(this.$content.scrollTop(+e).trigger(m),this.stop().restore(),this):void 0},c.prototype.scrollTo=function(e){return this.isActive?(this.scrollTop(this.$el.find(e).get(0).offsetTop),this):void 0},c.prototype.stop=function(){return k&&this.scrollRAF&&(k(this.scrollRAF),this.scrollRAF=null),this.stopped=!0,this.removeEvents(),this.iOSNativeScrolling||this.pane.hide(),this},c.prototype.destroy=function(){return this.stopped||this.stop(),!this.iOSNativeScrolling&&this.pane.length&&this.pane.remove(),i&&this.$content.height(""),this.$content.removeAttr("tabindex"),this.$el.hasClass("has-scrollbar")&&(this.$el.removeClass("has-scrollbar"),this.$content.css({right:""})),this},c.prototype.flash=function(){return!this.iOSNativeScrolling&&this.isActive?(this.reset(),this.pane.addClass("flashed"),setTimeout(function(e){return function(){e.pane.removeClass("flashed")}}(this),this.options.flashDelay),this):void 0},c}(),e.fn.nanoScroller=function(t){return this.each(function(){var n,i;if((i=this.nanoscroller)||(n=e.extend({},S,t),this.nanoscroller=i=new g(this,n)),t&&"object"==typeof t){if(e.extend(i.options,t),null!=t.scrollBottom)return i.scrollBottom(t.scrollBottom);if(null!=t.scrollTop)return i.scrollTop(t.scrollTop);if(t.scrollTo)return i.scrollTo(t.scrollTo);if("bottom"===t.scroll)return i.scrollBottom(0);if("top"===t.scroll)return i.scrollTop(0);if(t.scroll&&t.scroll instanceof e)return i.scrollTo(t.scroll);if(t.stop)return i.stop();if(t.destroy)return i.destroy();if(t.flash)return i.flash()}return i.reset()})},e.fn.nanoScroller.Constructor=g}),!function(e){e(document).ready(function(){setTimeout(function(){e(document).trigger("nifty.ready")},1e3)}),e(document).on("nifty.ready",function(){var t=e(".add-tooltip");t.length&&t.tooltip();var n=e(".add-popover");n.length&&n.popover(),e("#navbar-container .navbar-top-links").on("shown.bs.dropdown",".dropdown",function(){e(this).find(".nano").nanoScroller({preventPageScrolling:!0})}),e.niftyNav("bind"),e.niftyAside("bind")})}(jQuery),!function(e){var t=null,n=function(e){{var t=e.find(".mega-dropdown-toggle");e.find(".mega-dropdown-menu")}t.on("click",function(t){t.preventDefault(),e.toggleClass("open")})},i={toggle:function(){return this.toggleClass("open"),null},show:function(){return this.addClass("open"),null},hide:function(){return this.removeClass("open"),null}};e.fn.niftyMega=function(t){var o=!1;return this.each(function(){i[t]?o=i[t].apply(e(this).find("input"),Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t||n(e(this))}),o},e(document).on("nifty.ready",function(){t=e(".mega-dropdown"),t.length&&(t.niftyMega(),e("html").on("click",function(n){e(n.target).closest(".mega-dropdown").length||t.removeClass("open")}))})}(jQuery),!function(e){e(document).on("nifty.ready",function(){var t=e('[data-dismiss="panel"]');t.length?t.one("click",function(t){t.preventDefault();var n=e(this).parents(".panel");n.addClass("remove").on("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(e){"opacity"==e.originalEvent.propertyName&&n.remove()})}):t=null})}(jQuery),!function(e){e(document).one("nifty.ready",function(){function t(){i.scrollTop()>s&&!r?(n.addClass("in").stop(!0,!0).css({animation:"none"}).show(0).css({animation:"jellyIn .8s"}),r=!0):i.scrollTop()<s&&r&&(n.removeClass("in"),r=!1)}var n=e(".scroll-top"),i=e(window),o=function(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}();if(n.length&&!o){var r=!1,s=250;t(),i.scroll(t),n.on("click",function(t){t.preventDefault(),e("body, html").animate({scrollTop:0},500)})}else n=null,i=null;o=null})}(jQuery),!function(e){var t={displayIcon:!0,iconColor:"text-dark",iconClass:"fa fa-refresh fa-spin fa-2x",title:"",desc:""},n=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)},i={show:function(t){var i=e(t.attr("data-target")),o="nifty-overlay-"+n()+n()+"-"+n(),r=e('<div id="'+o+'" class="panel-overlay"></div>');return t.prop("disabled",!0).data("niftyOverlay",o),i.addClass("panel-overlay-wrap"),r.appendTo(i).html(t.data("overlayTemplate")),null},hide:function(t){var n=e(t.attr("data-target")),i=e("#"+t.data("niftyOverlay"));return i.length&&(t.prop("disabled",!1),n.removeClass("panel-overlay-wrap"),i.hide().remove()),null}},o=function(n,i){if(n.data("overlayTemplate"))return null;var o=e.extend({},t,i),r=o.displayIcon?'<span class="panel-overlay-icon '+o.iconColor+'"><i class="'+o.iconClass+'"></i></span>':"";return n.data("overlayTemplate",'<div class="panel-overlay-content pad-all unselectable">'+r+'<h4 class="panel-overlay-title">'+o.title+"</h4><p>"+o.desc+"</p></div>"),null};e.fn.niftyOverlay=function(t){return i[t]?i[t](this):"object"!=typeof t&&t?null:this.each(function(){o(e(this),t)})}}(jQuery),!function(e){var t,n,i,o,r={},s=!1,a=function(){var e=document.body||document.documentElement,t=e.style,n=void 0!==t.transition||void 0!==t.WebkitTransition;return n}();e.niftyNoty=function(l){{var c,u={type:"primary",icon:"",title:"",message:"",closeBtn:!0,container:"page",floating:{position:"top-right",animationIn:"jellyIn",animationOut:"fadeOut"},html:null,focus:!0,timer:0,onShow:function(){},onShown:function(){},onHide:function(){},onHidden:function(){}},d=e.extend({},u,l),h=e('<div class="alert-wrap"></div>'),p=function(){var e="";return l&&l.icon&&(e='<div class="media-left alert-icon"><i class="'+d.icon+'"></i></div>'),e},f=function(){var e=d.closeBtn?'<button class="close" type="button"><i class="pci-cross pci-circle"></i></button>':"",t='<div class="alert alert-'+d.type+'" role="alert">'+e+'<div class="media">';return d.html?t+d.html+"</div></div>":t+p()+'<div class="media-body"><h4 class="alert-title">'+d.title+'</h4><p class="alert-message">'+d.message+"</p></div></div>"}(),m=function(){return d.onHide(),"floating"===d.container&&d.floating.animationOut&&(h.removeClass(d.floating.animationIn).addClass(d.floating.animationOut),a||(d.onHidden(),h.remove())),h.removeClass("in").on("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(e){"max-height"==e.originalEvent.propertyName&&(d.onHidden(),h.remove())}),clearInterval(c),null},g=function(t){e("body, html").animate({scrollTop:t},300,function(){h.addClass("in")})};!function(){if(d.onShow(),"page"===d.container)t||(t=e('<div id="page-alert"></div>'),o&&o.length||(o=e("#content-container")),o.prepend(t)),n=t,d.focus&&g(0);else if("floating"===d.container)r[d.floating.position]||(r[d.floating.position]=e('<div id="floating-'+d.floating.position+'" class="floating-container"></div>'),i&&o.length||(i=e("#container")),i.append(r[d.floating.position])),n=r[d.floating.position],d.floating.animationIn&&h.addClass("in animated "+d.floating.animationIn),d.focus=!1;else{var a=e(d.container),l=a.children(".panel-alert"),c=a.children(".panel-heading");if(!a.length)return s=!1,!1;l.length?n=l:(n=e('<div class="panel-alert"></div>'),c.length?c.after(n):a.prepend(n)),d.focus&&g(a.offset().top-30)}return s=!0,!1}()}if(s){if(n.append(h.html(f)),h.find('[data-dismiss="noty"]').one("click",m),d.closeBtn&&h.find(".close").one("click",m),d.timer>0&&(c=setInterval(m,d.timer)),!d.focus)var v=setInterval(function(){h.addClass("in"),clearInterval(v)},200);h.one("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd animationend webkitAnimationEnd oAnimationEnd MSAnimationEnd",function(e){"max-height"!=e.originalEvent.propertyName&&"animationend"!=e.type||!s||(d.onShown(),s=!1)})}}}(jQuery),!function(e){var t={dynamicMode:!0,selectedOn:null,onChange:null},n=function(n,i){var o=e.extend({},t,i),r=n.find(".lang-selected"),s=r.parent(".lang-selector").siblings(".dropdown-menu"),a=s.find("a"),l=a.filter(".active").find(".lang-id").text(),c=a.filter(".active").find(".lang-name").text(),u=function(e){a.removeClass("active"),e.addClass("active"),r.html(e.html()),l=e.find(".lang-id").text(),c=e.find(".lang-name").text(),n.trigger("onChange",[{id:l,name:c}]),"function"==typeof o.onChange&&o.onChange.call(this,{id:l,name:c})};a.on("click",function(t){o.dynamicMode&&(t.preventDefault(),t.stopPropagation()),n.dropdown("toggle"),u(e(this))}),o.selectedOn&&u(e(o.selectedOn))},i={getSelectedID:function(){return e(this).find(".lang-id").text()},getSelectedName:function(){return e(this).find(".lang-name").text()},getSelected:function(){var t=e(this);return{id:t.find(".lang-id").text(),name:t.find(".lang-name").text()}},setDisable:function(){return e(this).addClass("disabled"),null},setEnable:function(){return e(this).removeClass("disabled"),null}};e.fn.niftyLanguage=function(t){var o=!1;return this.each(function(){i[t]?o=i[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t||n(e(this),t)}),o}}(jQuery),!function(e){var t,n=function(t){if(!t.data("nifty-check")){t.data("nifty-check",!0),t.text().trim().length?t.addClass("form-text"):t.removeClass("form-text");var n=t.find("input")[0],i=n.name,o=function(){return"radio"==n.type&&i?e(".form-radio").not(t).find("input").filter('input[name="'+i+'"]').parent():!1}(),r=function(){"radio"==n.type&&o.length&&o.each(function(){var t=e(this);t.hasClass("active")&&t.trigger("nifty.ch.unchecked"),t.removeClass("active")}),n.checked?t.addClass("active").trigger("nifty.ch.checked"):t.removeClass("active").trigger("nifty.ch.unchecked")};n.checked?t.addClass("active"):t.removeClass("active"),e(n).on("change",r)}},i={isChecked:function(){return this[0].checked},toggle:function(){return this[0].checked=!this[0].checked,this.trigger("change"),null},toggleOn:function(){return this[0].checked||(this[0].checked=!0,this.trigger("change")),null},toggleOff:function(){return this[0].checked&&"checkbox"==this[0].type&&(this[0].checked=!1,this.trigger("change")),null}},o=function(){t=e(".form-checkbox, .form-radio"),t.length&&t.niftyCheck()};e.fn.niftyCheck=function(t){var o=!1;return this.each(function(){i[t]?o=i[t].apply(e(this).find("input"),Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t||n(e(this))}),o},e(document).on("nifty.ready",o).on("change",".form-checkbox, .form-radio",o).on("change",".btn-file :file",function(){var t=e(this),n=t.get(0).files?t.get(0).files.length:1,i=t.val().replace(/\\/g,"/").replace(/.*\//,""),o=function(){try{return t[0].files[0].size}catch(e){return"Nan"}}(),r=function(){if("Nan"==o)return"Unknown";var e=Math.floor(Math.log(o)/Math.log(1024));return 1*(o/Math.pow(1024,e)).toFixed(2)+" "+["B","kB","MB","GB","TB"][e]}();t.trigger("fileselect",[n,i,r])})}(jQuery),!function(e){e(document).on("nifty.ready",function(){var t=e("#mainnav-shortcut");t.length?t.find("li").each(function(){var t=e(this);t.popover({animation:!1,trigger:"hover",placement:"bottom",container:"#mainnav-container",viewport:"#mainnav-container",template:'<div class="popover mainnav-shortcut"><div class="arrow"></div><div class="popover-content"></div>'})}):t=null})}(jQuery),!function(e,t){var n={};n.eventName="resizeEnd",n.delay=250,n.poll=function(){var i=e(this),o=i.data(n.eventName);o.timeoutId&&t.clearTimeout(o.timeoutId),o.timeoutId=t.setTimeout(function(){i.trigger(n.eventName)},n.delay)},e.event.special[n.eventName]={setup:function(){var t=e(this);t.data(n.eventName,{}),t.on("resize",n.poll)},teardown:function(){var i=e(this),o=i.data(n.eventName);o.timeoutId&&t.clearTimeout(o.timeoutId),i.removeData(n.eventName),i.off("resize",n.poll)}},e.fn[n.eventName]=function(e,t){return arguments.length>0?this.on(n.eventName,null,e,t):this.trigger(n.eventName)}}(jQuery,this),!function(e){var t=null,n=null,i=null,o=null,r=null,s=null,a=!1,l=!1,c=null,u=null,d=e(window),h=!1,p=function(){var t,i=e('#mainnav-menu > li > a, #mainnav-menu-wrap .mainnav-widget a[data-toggle="menu-widget"]');i.each(function(){var r=e(this),s=r.children(".menu-title"),a=r.siblings(".collapse"),l=e(r.attr("data-target")),c=l.length?l.parent():null,u=null,d=null,h=null,p=null,f=(r.outerHeight()-r.height()/4,function(){return l.length&&r.on("click",function(e){e.preventDefault()}),a.length?(r.on("click",function(e){e.preventDefault()}).parent("li").removeClass("active"),!0):!1}()),m=null,g=function(e){clearInterval(m),m=setInterval(function(){e.nanoScroller({preventPageScrolling:!0,alwaysVisible:!0}),clearInterval(m)},100)};e(document).click(function(t){e(t.target).closest("#mainnav-container").length||r.removeClass("hover").popover("hide")}),e("#mainnav-menu-wrap > .nano").on("update",function(){r.removeClass("hover").popover("hide")}),r.popover({animation:!1,trigger:"manual",container:"#mainnav",viewport:r,html:!0,title:function(){return f?s.html():null},content:function(){var t;return f?(t=e('<div class="sub-menu"></div>'),a.addClass("pop-in").wrap('<div class="nano-content"></div>').parent().appendTo(t)):l.length?(t=e('<div class="sidebar-widget-popover"></div>'),l.wrap('<div class="nano-content"></div>').parent().appendTo(t)):t='<span class="single-content">'+s.html()+"</span>",t},template:'<div class="popover menu-popover"><h4 class="popover-title"></h4><div class="popover-content"></div></div>'}).on("show.bs.popover",function(){if(!u){if(u=r.data("bs.popover").tip(),d=u.find(".popover-title"),h=u.children(".popover-content"),!f&&0==l.length)return;p=h.children(".sub-menu")}!f&&0==l.length}).on("shown.bs.popover",function(){if(!f&&0==l.length){var t=0-.5*r.outerHeight();return void h.css({"margin-top":t+"px",width:"auto"})}var i=parseInt(u.css("top")),s=r.outerHeight(),a=function(){return n.hasClass("mainnav-fixed")?e(window).outerHeight()-i-s:e(document).height()-i-s}(),c=h.find(".nano-content").children().css("height","auto").outerHeight();h.find(".nano-content").children().css("height",""),i>a?(d.length&&!d.is(":visible")&&(s=Math.round(0-.5*s)),i-=5,h.css({top:"",bottom:s+"px",height:i}).children().addClass("nano").css({width:"100%"}).nanoScroller({preventPageScrolling:!0}),g(h.find(".nano"))):(!n.hasClass("navbar-fixed")&&o.hasClass("affix-top")&&(a-=50),c>a?((n.hasClass("navbar-fixed")||o.hasClass("affix-top"))&&(a-=s+5),a-=5,h.css({top:s+"px",bottom:"",height:a}).children().addClass("nano").css({width:"100%"}).nanoScroller({preventPageScrolling:!0}),g(h.find(".nano"))):(d.length&&!d.is(":visible")&&(s=Math.round(0-.5*s)),h.css({top:s+"px",bottom:"",height:"auto"}))),d.length&&d.css("height",r.outerHeight()),h.on("click",function(){h.find(".nano-pane").hide(),g(h.find(".nano"))})}).on("click",function(){n.hasClass("mainnav-sm")&&(i.popover("hide"),r.addClass("hover").popover("show"))}).hover(function(){i.popover("hide"),r.addClass("hover").popover("show").one("hidden.bs.popover",function(){r.removeClass("hover"),f?a.removeAttr("style").appendTo(r.parent()):l.length&&l.appendTo(c),clearInterval(t)})},function(){clearInterval(t),t=setInterval(function(){u&&(u.one("mouseleave",function(){r.removeClass("hover").popover("hide")}),u.is(":hover")||r.removeClass("hover").popover("hide")),clearInterval(t)},100)})}),l=!0},f=function(){var n=e("#mainnav-menu").find(".collapse");n.length&&n.each(function(){var t=e(this);t.hasClass("in")?t.parent("li").addClass("active"):t.parent("li").removeClass("active")}),t.popover("destroy").unbind("mouseenter mouseleave"),l=!1},m=function(){var t,i=n.width();t=740>=i?"xs":i>740&&992>i?"sm":i>=992&&1200>=i?"md":"lg",u!=t&&(u=t,c=t,"sm"==c&&n.hasClass("mainnav-lg")?e.niftyNav("collapse"):"xs"==c&&n.hasClass("mainnav-lg")&&n.removeClass("mainnav-sm mainnav-out mainnav-lg").addClass("mainnav-sm"))},g=function(){o.css(n.hasClass("boxed-layout")&&n.hasClass("mainnav-fixed")&&i.length?{left:i.offset().left+"px"}:{left:""})},v=function(){if(!h)try{o.niftyAffix("update")}catch(e){h=!0}},y=function(){return v(),f(),m(),g(),("collapse"==a||n.hasClass("mainnav-sm"))&&(n.removeClass("mainnav-in mainnav-out mainnav-lg"),p()),r=e("#mainnav").height(),a=!1,null},b={revealToggle:function(){n.hasClass("reveal")||n.addClass("reveal"),n.toggleClass("mainnav-in mainnav-out").removeClass("mainnav-lg mainnav-sm"),l&&f()},revealIn:function(){n.hasClass("reveal")||n.addClass("reveal"),n.addClass("mainnav-in").removeClass("mainnav-out mainnav-lg mainnav-sm"),l&&f()},revealOut:function(){n.hasClass("reveal")||n.addClass("reveal"),n.removeClass("mainnav-in mainnav-lg mainnav-sm").addClass("mainnav-out"),l&&f()
},slideToggle:function(){n.hasClass("slide")||n.addClass("slide"),n.toggleClass("mainnav-in mainnav-out").removeClass("mainnav-lg mainnav-sm"),l&&f()},slideIn:function(){n.hasClass("slide")||n.addClass("slide"),n.addClass("mainnav-in").removeClass("mainnav-out mainnav-lg mainnav-sm"),l&&f()},slideOut:function(){n.hasClass("slide")||n.addClass("slide"),n.removeClass("mainnav-in mainnav-lg mainnav-sm").addClass("mainnav-out"),l&&f()},pushToggle:function(){n.toggleClass("mainnav-in mainnav-out").removeClass("mainnav-lg mainnav-sm"),n.hasClass("mainnav-in mainnav-out")&&n.removeClass("mainnav-in"),l&&f()},pushIn:function(){n.addClass("mainnav-in").removeClass("mainnav-out mainnav-lg mainnav-sm"),l&&f()},pushOut:function(){n.removeClass("mainnav-in mainnav-lg mainnav-sm").addClass("mainnav-out"),l&&f()},colExpToggle:function(){return n.hasClass("mainnav-lg mainnav-sm")&&n.removeClass("mainnav-lg"),n.toggleClass("mainnav-lg mainnav-sm").removeClass("mainnav-in mainnav-out"),d.trigger("resize")},collapse:function(){return n.addClass("mainnav-sm").removeClass("mainnav-lg mainnav-in mainnav-out"),a="collapse",d.trigger("resize")},expand:function(){return n.removeClass("mainnav-sm mainnav-in mainnav-out").addClass("mainnav-lg"),d.trigger("resize")},togglePosition:function(){n.toggleClass("mainnav-fixed"),v()},fixedPosition:function(){n.addClass("mainnav-fixed"),s.nanoScroller({preventPageScrolling:!0}),v()},staticPosition:function(){n.removeClass("mainnav-fixed"),s.nanoScroller({preventPageScrolling:!1}),v()},update:y,refresh:y,getScreenSize:function(){return u},bind:function(){var a=e("#mainnav-menu");if(0==a.length)return!1;t=e('#mainnav-menu > li > a, #mainnav-menu-wrap .mainnav-widget a[data-toggle="menu-widget"]'),n=e("#container"),i=n.children(".boxed"),o=e("#mainnav-container"),r=e("#mainnav").height();var l=null;o.on("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(t){(l||t.target===o[0])&&(clearInterval(l),l=setInterval(function(){e(window).trigger("resize"),clearInterval(l),l=null},300))});var c=e(".mainnav-toggle");c.length&&c.on("click",function(t){t.preventDefault(),t.stopPropagation(),e.niftyNav(c.hasClass("push")?"pushToggle":c.hasClass("slide")?"slideToggle":c.hasClass("reveal")?"revealToggle":"colExpToggle")});try{setTimeout(function(){a.metisMenu({toggle:!0})},1e3)}catch(u){console.error(u.message)}try{s=e("#mainnav-menu-wrap > .nano"),s.length&&s.nanoScroller({preventPageScrolling:n.hasClass("mainnav-fixed")?!0:!1})}catch(u){console.error(u.message)}e(window).on("resizeEnd",y).trigger("resize")}};e.niftyNav=function(e,t){if(b[e]){("colExpToggle"==e||"expand"==e||"collapse"==e)&&("xs"==c&&"collapse"==e?e="pushOut":"xs"!=c&&"sm"!=c||"colExpToggle"!=e&&"expand"!=e||!n.hasClass("mainnav-sm")||(e="pushIn"));var i=b[e].apply(this,Array.prototype.slice.call(arguments,1));if("bind"!=e&&y(),t)return t();if(i)return i}return null},e.fn.isOnScreen=function(){var e={top:d.scrollTop(),left:d.scrollLeft()};e.right=e.left+d.width(),e.bottom=e.top+d.height();var t=this.offset();return t.right=t.left+this.outerWidth(),t.bottom=t.top+this.outerHeight(),!(e.right<t.left||e.left>t.right||e.bottom<t.bottom||e.top>t.top)}}(jQuery),!function(e){var t,n=null,i=e(window),o={toggleHideShow:function(){t.toggleClass("aside-in"),i.trigger("resize"),t.hasClass("aside-in")&&r()},show:function(){t.addClass("aside-in"),i.trigger("resize"),r()},hide:function(){t.removeClass("aside-in"),i.trigger("resize")},toggleAlign:function(){t.toggleClass("aside-left"),a()},alignLeft:function(){t.addClass("aside-left"),a()},alignRight:function(){t.removeClass("aside-left"),a()},togglePosition:function(){t.toggleClass("aside-fixed"),a()},fixedPosition:function(){t.addClass("aside-fixed"),a()},staticPosition:function(){t.removeClass("aside-fixed"),a()},toggleTheme:function(){t.toggleClass("aside-bright")},brightTheme:function(){t.addClass("aside-bright")},darkTheme:function(){t.removeClass("aside-bright")},update:function(){a()},bind:function(){l()}},r=function(){var n=t.width();t.hasClass("mainnav-in")&&n>740&&(n>740&&992>n?e.niftyNav("collapse"):t.removeClass("mainnav-in mainnav-lg mainnav-sm").addClass("mainnav-out"))},s=e("#container").children(".boxed"),a=function(){try{n.niftyAffix("update")}catch(e){}var i={};i=t.hasClass("boxed-layout")&&t.hasClass("aside-fixed")&&s.length?t.hasClass("aside-left")?{"-ms-transform":"translateX("+s.offset().left+"px)","-webkit-transform":"translateX("+s.offset().left+"px)",transform:"translateX("+s.offset().left+"px)"}:{"-ms-transform":"translateX("+(0-s.offset().left)+"px)","-webkit-transform":"translateX("+(0-s.offset().left)+"px)",transform:"translateX("+(0-s.offset().left)+"px)"}:{"-ms-transform":"","-webkit-transform":"",transform:"",right:""},n.css(i)},l=function(){if(n=e("#aside-container"),n.length){t=e("#container"),i.on("resizeEnd",a),n.on("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(e){e.target==n[0]&&i.trigger("resize")}),n.find(".nano").nanoScroller({preventPageScrolling:t.hasClass("aside-fixed")?!0:!1});var o=e(".aside-toggle");o.length&&o.on("click",function(t){t.preventDefault(),e.niftyAside("toggleHideShow")})}};e.niftyAside=function(e,t){return o[e]&&(o[e].apply(this,Array.prototype.slice.call(arguments,1)),t)?t():null}}(jQuery),!function(e){var t,n,i,o,r,s,a=function(e){clearInterval(s),s=setInterval(function(){e[0]==t[0]?o.nanoScroller({flash:!0,preventPageScrolling:i.hasClass("mainnav-fixed")?!0:!1}):e[0]==n[0]&&r.nanoScroller({preventPageScrolling:i.hasClass("aside-fixed")?!0:!1}),clearInterval(s),s=null},500)},l=function(){i=e("#container"),t=e("#mainnav-container"),n=e("#aside-container"),o=e("#mainnav-menu-wrap > .nano"),r=e("#aside > .nano"),t.length&&t.niftyAffix({className:"mainnav-fixed"}),n.length&&n.niftyAffix({className:"aside-fixed"})};e.fn.niftyAffix=function(t){return this.each(function(){var n,o=e(this);"object"!=typeof t&&t?"update"==t?(o.data("nifty.af.class")||l(),n=o.data("nifty.af.class"),a(o)):"bind"==t&&l():(n=t.className,o.data("nifty.af.class",t.className)),i.hasClass(n)&&!i.hasClass("navbar-fixed")?o.affix({offset:{top:e("#navbar").outerHeight()}}).on("affixed.bs.affix affix.bs.affix",function(){a(o)}):(!i.hasClass(n)||i.hasClass("navbar-fixed"))&&(e(window).off(o.attr("id")+".affix"),o.removeClass("affix affix-top affix-bottom").removeData("bs.affix"))})}}(jQuery),function(e){define("tagsinput",[],function(){return function(){!function(e){function t(t,n){this.isInit=!0,this.itemsArray=[],this.$element=e(t),this.$element.hide(),this.isSelect="SELECT"===t.tagName,this.multiple=this.isSelect&&t.hasAttribute("multiple"),this.objectItems=n&&n.itemValue,this.placeholderText=t.hasAttribute("placeholder")?this.$element.attr("placeholder"):"",this.inputSize=Math.max(1,this.placeholderText.length),this.$container=e('<div class="bootstrap-tagsinput form-control"></div>'),this.$input=e('<input type="text" placeholder="'+this.placeholderText+'"/>').appendTo(this.$container),this.$element.before(this.$container),this.build(n),this.isInit=!1}function n(e,t){if("function"!=typeof e[t]){var n=e[t];e[t]=function(e){return e[n]}}}function i(e,t){if("function"!=typeof e[t]){var n=e[t];e[t]=function(){return n}}}function o(e){return e?l.text(e).html():""}function r(e){var t=0;if(document.selection){e.focus();var n=document.selection.createRange();n.moveStart("character",-e.value.length),t=n.text.length}else(e.selectionStart||"0"==e.selectionStart)&&(t=e.selectionStart);return t}function s(t,n){var i=!1;return e.each(n,function(e,n){if("number"==typeof n&&t.which===n)return i=!0,!1;if(t.which===n.which){var o=!n.hasOwnProperty("altKey")||t.altKey===n.altKey,r=!n.hasOwnProperty("shiftKey")||t.shiftKey===n.shiftKey,s=!n.hasOwnProperty("ctrlKey")||t.ctrlKey===n.ctrlKey;if(o&&r&&s)return i=!0,!1}}),i}var a={tagClass:function(){return"label label-info"},focusClass:"focus",itemValue:function(e){return e?e.toString():e},itemText:function(e){return this.itemValue(e)},itemTitle:function(){return null},freeInput:!0,addOnBlur:!0,maxTags:void 0,maxChars:void 0,confirmKeys:[13,44],delimiter:",",delimiterRegex:null,cancelConfirmKeysOnEmpty:!1,onTagExists:function(e,t){t.hide().fadeIn()},trimValue:!1,allowDuplicates:!1,triggerChange:!0};t.prototype={constructor:t,add:function(t,n,i){var r=this;if(!(r.options.maxTags&&r.itemsArray.length>=r.options.maxTags||t!==!1&&!t)){if("string"==typeof t&&r.options.trimValue&&(t=e.trim(t)),"object"==typeof t&&!r.objectItems)throw"Can't add objects when itemValue option is not set";if(!t.toString().match(/^\s*$/)){if(r.isSelect&&!r.multiple&&r.itemsArray.length>0&&r.remove(r.itemsArray[0]),"string"==typeof t&&"INPUT"===this.$element[0].tagName){var s=r.options.delimiterRegex?r.options.delimiterRegex:r.options.delimiter,a=t.split(s);if(a.length>1){for(var l=0;l<a.length;l++)this.add(a[l],!0);return void(n||r.pushVal(r.options.triggerChange))}}var c=r.options.itemValue(t),u=r.options.itemText(t),d=r.options.tagClass(t),h=r.options.itemTitle(t),p=e.grep(r.itemsArray,function(e){return r.options.itemValue(e)===c})[0];if(!p||r.options.allowDuplicates){if(!(r.items().toString().length+t.length+1>r.options.maxInputLength)){var f=e.Event("beforeItemAdd",{item:t,cancel:!1,options:i});if(r.$element.trigger(f),!f.cancel){r.itemsArray.push(t);var m=e('<span class="tag '+o(d)+(null!==h?'" title="'+h:"")+'">'+o(u)+'<span data-role="remove"></span></span>');m.data("item",t),r.findInputWrapper().before(m),m.after(" ");var g=e('option[value="'+encodeURIComponent(c)+'"]',r.$element).length||e('option[value="'+o(c)+'"]',r.$element).length;if(r.isSelect&&!g){var v=e("<option selected>"+o(u)+"</option>");v.data("item",t),v.attr("value",c),r.$element.append(v)}n||r.pushVal(r.options.triggerChange),(r.options.maxTags===r.itemsArray.length||r.items().toString().length===r.options.maxInputLength)&&r.$container.addClass("bootstrap-tagsinput-max"),e(".typeahead, .twitter-typeahead",r.$container).length&&r.$input.typeahead("val",""),r.$element.trigger(this.isInit?e.Event("itemAddedOnInit",{item:t,options:i}):e.Event("itemAdded",{item:t,options:i}))}}}else if(r.options.onTagExists){var y=e(".tag",r.$container).filter(function(){return e(this).data("item")===p});r.options.onTagExists(t,y)}}}},remove:function(t,n,i){var o=this;if(o.objectItems&&(t="object"==typeof t?e.grep(o.itemsArray,function(e){return o.options.itemValue(e)==o.options.itemValue(t)}):e.grep(o.itemsArray,function(e){return o.options.itemValue(e)==t}),t=t[t.length-1]),t){var r=e.Event("beforeItemRemove",{item:t,cancel:!1,options:i});if(o.$element.trigger(r),r.cancel)return;e(".tag",o.$container).filter(function(){return e(this).data("item")===t}).remove(),e("option",o.$element).filter(function(){return e(this).data("item")===t}).remove(),-1!==e.inArray(t,o.itemsArray)&&o.itemsArray.splice(e.inArray(t,o.itemsArray),1)}n||o.pushVal(o.options.triggerChange),o.options.maxTags>o.itemsArray.length&&o.$container.removeClass("bootstrap-tagsinput-max"),o.$element.trigger(e.Event("itemRemoved",{item:t,options:i}))},removeAll:function(){var t=this;for(e(".tag",t.$container).remove(),e("option",t.$element).remove();t.itemsArray.length>0;)t.itemsArray.pop();t.pushVal(t.options.triggerChange)},refresh:function(){var t=this;e(".tag",t.$container).each(function(){var n=e(this),i=n.data("item"),r=t.options.itemValue(i),s=t.options.itemText(i),a=t.options.tagClass(i);if(n.attr("class",null),n.addClass("tag "+o(a)),n.contents().filter(function(){return 3==this.nodeType})[0].nodeValue=o(s),t.isSelect){var l=e("option",t.$element).filter(function(){return e(this).data("item")===i});l.attr("value",r)}})},items:function(){return this.itemsArray},pushVal:function(){var t=this,n=e.map(t.items(),function(e){return t.options.itemValue(e).toString()});t.$element.val(n,!0),t.options.triggerChange&&t.$element.trigger("change")},build:function(t){var o=this;if(o.options=e.extend({},a,t),o.objectItems&&(o.options.freeInput=!1),n(o.options,"itemValue"),n(o.options,"itemText"),i(o.options,"tagClass"),o.options.typeahead){var l=o.options.typeahead||{};i(l,"source"),o.$input.typeahead(e.extend({},l,{source:function(t,n){function i(e){for(var t=[],i=0;i<e.length;i++){var s=o.options.itemText(e[i]);r[s]=e[i],t.push(s)}n(t)}this.map={};var r=this.map,s=l.source(t);e.isFunction(s.success)?s.success(i):e.isFunction(s.then)?s.then(i):e.when(s).then(i)},updater:function(e){return o.add(this.map[e]),this.map[e]},matcher:function(e){return-1!==e.toLowerCase().indexOf(this.query.trim().toLowerCase())},sorter:function(e){return e.sort()},highlighter:function(e){var t=new RegExp("("+this.query+")","gi");return e.replace(t,"<strong>$1</strong>")}}))}if(o.options.typeaheadjs){var c=null,u={},d=o.options.typeaheadjs;e.isArray(d)?(c=d[0],u=d[1]):u=d,o.$input.typeahead(c,u).on("typeahead:selected",e.proxy(function(e,t){o.add(u.valueKey?t[u.valueKey]:t),o.$input.typeahead("val","")},o))}o.$container.on("click",e.proxy(function(){o.$element.attr("disabled")||o.$input.removeAttr("disabled"),o.$input.focus()},o)),o.options.addOnBlur&&o.options.freeInput&&o.$input.on("focusout",e.proxy(function(){0===e(".typeahead, .twitter-typeahead",o.$container).length&&(o.add(o.$input.val()),o.$input.val(""))},o)),o.$container.on({focusin:function(){o.$container.addClass(o.options.focusClass)},focusout:function(){o.$container.removeClass(o.options.focusClass)}}),o.$container.on("keydown","input",e.proxy(function(t){var n=e(t.target),i=o.findInputWrapper();if(o.$element.attr("disabled"))return void o.$input.attr("disabled","disabled");switch(t.which){case 8:if(0===r(n[0])){var s=i.prev();s.length&&o.remove(s.data("item"))}break;case 46:if(0===r(n[0])){var a=i.next();a.length&&o.remove(a.data("item"))}break;case 37:var l=i.prev();0===n.val().length&&l[0]&&(l.before(i),n.focus());break;case 39:var c=i.next();0===n.val().length&&c[0]&&(c.after(i),n.focus())}{var u=n.val().length;Math.ceil(u/5)}n.attr("size",Math.max(this.inputSize,n.val().length))},o)),o.$container.on("keypress","input",e.proxy(function(t){var n=e(t.target);if(o.$element.attr("disabled"))return void o.$input.attr("disabled","disabled");var i=n.val(),r=o.options.maxChars&&i.length>=o.options.maxChars;o.options.freeInput&&(s(t,o.options.confirmKeys)||r)&&(0!==i.length&&(o.add(r?i.substr(0,o.options.maxChars):i),n.val("")),o.options.cancelConfirmKeysOnEmpty===!1&&t.preventDefault());{var a=n.val().length;Math.ceil(a/5)}n.attr("size",Math.max(this.inputSize,n.val().length))},o)),o.$container.on("click","[data-role=remove]",e.proxy(function(t){o.$element.attr("disabled")||o.remove(e(t.target).closest(".tag").data("item"))},o)),o.options.itemValue===a.itemValue&&("INPUT"===o.$element[0].tagName?o.add(o.$element.val()):e("option",o.$element).each(function(){o.add(e(this).attr("value"),!0)}))},destroy:function(){var e=this;e.$container.off("keypress","input"),e.$container.off("click","[role=remove]"),e.$container.remove(),e.$element.removeData("tagsinput"),e.$element.show()},focus:function(){this.$input.focus()},input:function(){return this.$input},findInputWrapper:function(){for(var t=this.$input[0],n=this.$container[0];t&&t.parentNode!==n;)t=t.parentNode;return e(t)}},e.fn.tagsinput=function(n,i,o){var r=[];return this.each(function(){var s=e(this).data("tagsinput");if(s)if(n||i){if(void 0!==s[n]){if(3===s[n].length&&void 0!==o)var a=s[n](i,null,o);else var a=s[n](i);void 0!==a&&r.push(a)}}else r.push(s);else s=new t(this,n),e(this).data("tagsinput",s),r.push(s),"SELECT"===this.tagName&&e("option",e(this)).attr("selected","selected"),e(this).val(e(this).val())}),"string"==typeof n?r.length>1?r:r[0]:r},e.fn.tagsinput.Constructor=t;var l=e("<div />");e(function(){e("input[data-role=tagsinput], select[multiple][data-role=tagsinput]").tagsinput()})}(window.jQuery)}.apply(e,arguments)})}(this),function(e){define("ionsound",[],function(){return function(){!function(e,t,n){if(e.ion=e.ion||{},!ion.sound){var i=function(t){if(t||(t="undefined"),e.console){console.warn&&"function"==typeof console.warn?console.warn(t):console.log&&"function"==typeof console.log&&console.log(t);var i=n&&n("#debug");if(i&&i.length){var o=i.html();i.html(o+t+"<br/>")}}},o=function(e,t){var n;t=t||{};for(n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t};if("function"!=typeof Audio&&"object"!=typeof Audio){var r=function(){i("HTML5 Audio is not supported in this browser")};return ion.sound=r,ion.sound.play=r,ion.sound.stop=r,ion.sound.pause=r,ion.sound.preload=r,ion.sound.destroy=r,void r()}var s,a=/iPad|iPhone|iPod/.test(t.appVersion),l=0,c={},u={};!c.supported&&a?c.supported=["mp3","mp4","aac"]:c.supported||(c.supported=["mp3","ogg","mp4","aac","wav"]);var d=function(e){var t=e.alias||e.name;u[t]||(u[t]=new f(e),u[t].init())};ion.sound=function(e){if(o(e,c),c.path=c.path||"",c.volume=c.volume||1,c.preload=c.preload||!1,c.multiplay=c.multiplay||!1,c.loop=c.loop||!1,c.sprite=c.sprite||null,c.scope=c.scope||null,c.ready_callback=c.ready_callback||null,c.ended_callback=c.ended_callback||null,l=c.sounds.length,!l)return void i("No sound-files provided!");for(s=0;l>s;s++)d(c.sounds[s])},ion.sound.VERSION="3.0.7",ion.sound._method=function(e,t,n){if(t)u[t]&&u[t][e](n);else for(s in u)u.hasOwnProperty(s)&&u[s]&&u[s][e](n)},ion.sound.preload=function(e,t){t=t||{},o({preload:!0},t),ion.sound._method("init",e,t)},ion.sound.destroy=function(e){if(ion.sound._method("destroy",e),e)u[e]=null;else for(s in u)u.hasOwnProperty(s)&&u[s]&&(u[s]=null)},ion.sound.play=function(e,t){ion.sound._method("play",e,t)},ion.sound.stop=function(e,t){ion.sound._method("stop",e,t)},ion.sound.pause=function(e,t){ion.sound._method("pause",e,t)},ion.sound.volume=function(e,t){ion.sound._method("volume",e,t)},n&&(n.ionSound=ion.sound);var h,p=e.AudioContext||e.webkitAudioContext;p&&(h=new p);var f=function(e){this.options=o(c),delete this.options.sounds,o(e,this.options),this.request=null,this.streams={},this.result={},this.ext=0,this.url="",this.loaded=!1,this.decoded=!1,this.no_file=!1,this.autoplay=!1};f.prototype={init:function(e){e&&o(e,this.options),this.options.preload&&this.load()},destroy:function(){var e;for(s in this.streams)e=this.streams[s],e&&(e.destroy(),e=null);this.streams={},this.result=null,this.options.buffer=null,this.options=null,this.request&&(this.request.removeEventListener("load",this.ready.bind(this),!1),this.request.removeEventListener("error",this.error.bind(this),!1),this.request.abort(),this.request=null)},createUrl:function(){var e=(new Date).valueOf();this.url=this.options.path+encodeURIComponent(this.options.name)+"."+this.options.supported[this.ext]+"?"+e},load:function(){return this.no_file?void i('No sources for "'+this.options.name+'" sound :('):void(this.request||(this.createUrl(),this.request=new XMLHttpRequest,this.request.open("GET",this.url,!0),this.request.responseType="arraybuffer",this.request.addEventListener("load",this.ready.bind(this),!1),this.request.addEventListener("error",this.error.bind(this),!1),this.request.send()))},reload:function(){this.ext++,this.options.supported[this.ext]?this.load():(this.no_file=!0,i('No sources for "'+this.options.name+'" sound :('))},ready:function(e){return this.result=e.target,4!==this.result.readyState?void this.reload():200!==this.result.status&&0!==this.result.status?(i(this.url+" was not found on server!"),void this.reload()):(this.request.removeEventListener("load",this.ready.bind(this),!1),this.request.removeEventListener("error",this.error.bind(this),!1),this.request=null,this.loaded=!0,void this.decode())},decode:function(){h&&h.decodeAudioData(this.result.response,this.setBuffer.bind(this),this.error.bind(this))},setBuffer:function(e){this.options.buffer=e,this.decoded=!0;var t={name:this.options.name,alias:this.options.alias,ext:this.options.supported[this.ext],duration:this.options.buffer.duration};if(this.options.ready_callback&&"function"==typeof this.options.ready_callback&&this.options.ready_callback.call(this.options.scope,t),this.options.sprite)for(s in this.options.sprite)this.options.start=this.options.sprite[s][0],this.options.end=this.options.sprite[s][1],this.streams[s]=new m(this.options,s);else this.streams[0]=new m(this.options);this.autoplay&&(this.autoplay=!1,this.play())},error:function(){this.reload()},play:function(e){if(delete this.options.part,e&&o(e,this.options),!this.loaded)return this.autoplay=!0,void this.load();if(!this.no_file&&this.decoded)if(this.options.sprite)if(this.options.part)this.streams[this.options.part].play(this.options);else for(s in this.options.sprite)this.streams[s].play(this.options);else this.streams[0].play(this.options)},stop:function(e){if(this.options.sprite)if(e)this.streams[e.part].stop();else for(s in this.options.sprite)this.streams[s].stop();else this.streams[0].stop()},pause:function(e){if(this.options.sprite)if(e)this.streams[e.part].pause();else for(s in this.options.sprite)this.streams[s].pause();else this.streams[0].pause()},volume:function(e){var t;if(e)if(o(e,this.options),this.options.sprite)if(this.options.part)t=this.streams[this.options.part],t&&t.setVolume(this.options);else for(s in this.options.sprite)t=this.streams[s],t&&t.setVolume(this.options);else t=this.streams[0],t&&t.setVolume(this.options)}};var m=function(e,t){this.alias=e.alias,this.name=e.name,this.sprite_part=t,this.buffer=e.buffer,this.start=e.start||0,this.end=e.end||this.buffer.duration,this.multiplay=e.multiplay||!1,this.volume=e.volume||1,this.scope=e.scope,this.ended_callback=e.ended_callback,this.setLoop(e),this.source=null,this.gain=null,this.playing=!1,this.paused=!1,this.time_started=0,this.time_ended=0,this.time_played=0,this.time_offset=0};if(m.prototype={destroy:function(){this.stop(),this.buffer=null,this.source=null,this.gain&&this.gain.disconnect(),this.source&&this.source.disconnect(),this.gain=null,this.source=null},setLoop:function(e){this.loop=e.loop===!0?9999999:"number"==typeof e.loop?+e.loop-1:!1},update:function(e){this.setLoop(e),"volume"in e&&(this.volume=e.volume)},play:function(e){e&&this.update(e),(this.multiplay||!this.playing)&&(this.gain=h.createGain(),this.source=h.createBufferSource(),this.source.buffer=this.buffer,this.source.connect(this.gain),this.gain.connect(h.destination),this.gain.gain.value=this.volume,this.source.onended=this.ended.bind(this),this._play())},_play:function(){var e,t;return this.paused?(e=this.start+this.time_offset,t=this.end-this.time_offset):(e=this.start,t=this.end),0>=t?void this.clear():("function"==typeof this.source.start?this.source.start(0,e,t):this.source.noteOn(0,e,t),this.playing=!0,this.paused=!1,void(this.time_started=(new Date).valueOf()))},stop:function(){this.playing&&this.source&&("function"==typeof this.source.stop?this.source.stop(0):this.source.noteOff(0)),this.clear()},pause:function(){return this.paused?void this.play():void(this.playing&&(this.source&&this.source.stop(0),this.paused=!0))},ended:function(){this.playing=!1,this.time_ended=(new Date).valueOf(),this.time_played=(this.time_ended-this.time_started)/1e3,this.time_offset+=this.time_played,(this.time_offset>=this.end||this.end-this.time_offset<.015)&&(this._ended(),this.clear(),this.loop&&(this.loop--,this.play()))},_ended:function(){var e={name:this.name,alias:this.alias,part:this.sprite_part,start:this.start,duration:this.end};this.ended_callback&&"function"==typeof this.ended_callback&&this.ended_callback.call(this.scope,e)},clear:function(){this.time_played=0,this.time_offset=0,this.paused=!1,this.playing=!1},setVolume:function(e){this.volume=e.volume,this.gain&&(this.gain.gain.value=this.volume)}},!h){var g=function(){var e,t,n=new Audio,i=n.canPlayType("audio/mpeg"),o=n.canPlayType("audio/ogg"),r=n.canPlayType('audio/mp4; codecs="mp4a.40.2"');for(t=0;t<c.supported.length;t++)e=c.supported[t],i||"mp3"!==e||c.supported.splice(t,1),o||"ogg"!==e||c.supported.splice(t,1),r||"aac"!==e||c.supported.splice(t,1),r||"mp4"!==e||c.supported.splice(t,1);n=null};g(),f.prototype={init:function(e){e&&o(e,this.options),this.inited=!0,this.options.preload&&this.load()},destroy:function(){var e;for(s in this.streams)e=this.streams[s],e&&(e.destroy(),e=null);this.streams={},this.loaded=!1,this.inited=!1},load:function(){var e;if(this.options.preload=!0,this.options._ready=this.ready,this.options._scope=this,this.options.sprite)for(s in this.options.sprite)e=this.options.sprite[s],this.options.start=e[0],this.options.end=e[1],this.streams[s]=new m(this.options,s);else this.streams[0]=new m(this.options)},ready:function(e){if(!this.loaded){this.loaded=!0;var t={name:this.options.name,alias:this.options.alias,ext:this.options.supported[this.ext],duration:e};this.options.ready_callback&&"function"==typeof this.options.ready_callback&&this.options.ready_callback.call(this.options.scope,t),this.autoplay&&(this.autoplay=!1,this.play())}},play:function(e){if(this.inited){if(delete this.options.part,e&&o(e,this.options),console.log(1),!this.loaded)return void(this.options.preload?this.autoplay=!0:(this.autoplay=!0,this.load()));if(this.options.sprite)if(this.options.part)this.streams[this.options.part].play(this.options);else for(s in this.options.sprite)this.streams[s].play(this.options);else this.streams[0].play(this.options)}},stop:function(e){if(this.inited)if(this.options.sprite)if(e)this.streams[e.part].stop();else for(s in this.options.sprite)this.streams[s].stop();else this.streams[0].stop()},pause:function(e){if(this.inited)if(this.options.sprite)if(e)this.streams[e.part].pause();else for(s in this.options.sprite)this.streams[s].pause();else this.streams[0].pause()},volume:function(e){var t;if(e)if(o(e,this.options),this.options.sprite)if(this.options.part)t=this.streams[this.options.part],t&&t.setVolume(this.options);else for(s in this.options.sprite)t=this.streams[s],t&&t.setVolume(this.options);else t=this.streams[0],t&&t.setVolume(this.options)}},m=function(e,t){this.name=e.name,this.alias=e.alias,this.sprite_part=t,this.multiplay=e.multiplay,this.volume=e.volume,this.preload=e.preload,this.path=c.path,this.start=e.start||0,this.end=e.end||0,this.scope=e.scope,this.ended_callback=e.ended_callback,this._scope=e._scope,this._ready=e._ready,this.setLoop(e),this.sound=null,this.url=null,this.loaded=!1,this.start_time=0,this.paused_time=0,this.played_time=0,this.init()},m.prototype={init:function(){this.sound=new Audio,this.sound.volume=this.volume,this.createUrl(),this.sound.addEventListener("ended",this.ended.bind(this),!1),this.sound.addEventListener("canplaythrough",this.can_play_through.bind(this),!1),this.sound.addEventListener("timeupdate",this._update.bind(this),!1),this.load()},destroy:function(){this.stop(),this.sound.removeEventListener("ended",this.ended.bind(this),!1),this.sound.removeEventListener("canplaythrough",this.can_play_through.bind(this),!1),this.sound.removeEventListener("timeupdate",this._update.bind(this),!1),this.sound=null,this.loaded=!1},createUrl:function(){var e=(new Date).valueOf();this.url=this.path+encodeURIComponent(this.name)+"."+c.supported[0]+"?"+e},can_play_through:function(){this.preload&&this.ready()},load:function(){this.sound.src=this.url,this.sound.preload=this.preload?"auto":"none",this.preload&&this.sound.load()},setLoop:function(e){this.loop=e.loop===!0?9999999:"number"==typeof e.loop?+e.loop-1:!1},update:function(e){this.setLoop(e),"volume"in e&&(this.volume=e.volume)},ready:function(){!this.loaded&&this.sound&&(this.loaded=!0,this._ready.call(this._scope,this.sound.duration),this.end||(this.end=this.sound.duration))},play:function(e){e&&this.update(e),(this.multiplay||!this.playing)&&this._play()},_play:function(){if(this.paused)this.paused=!1;else try{this.sound.currentTime=this.start}catch(e){}this.playing=!0,this.start_time=(new Date).valueOf(),this.sound.volume=this.volume,this.sound.play()},stop:function(){if(this.playing){this.playing=!1,this.paused=!1,this.sound.pause(),this.clear();try{this.sound.currentTime=this.start}catch(e){}}},pause:function(){this.paused?this._play():(this.playing=!1,this.paused=!0,this.sound.pause(),this.paused_time=(new Date).valueOf(),this.played_time+=this.paused_time-this.start_time)},_update:function(){if(this.start_time){var e=(new Date).valueOf(),t=e-this.start_time,n=(this.played_time+t)/1e3;n>=this.end&&this.playing&&(this.stop(),this._ended())}},ended:function(){this.playing&&(this.stop(),this._ended())},_ended:function(){this.playing=!1;var e={name:this.name,alias:this.alias,part:this.sprite_part,start:this.start,duration:this.end};this.ended_callback&&"function"==typeof this.ended_callback&&this.ended_callback.call(this.scope,e),this.loop&&setTimeout(this.looper.bind(this),15)},looper:function(){this.loop--,this.play()},clear:function(){this.start_time=0,this.played_time=0,this.paused_time=0},setVolume:function(e){this.volume=e.volume,this.sound&&(this.sound.volume=this.volume)}}}}}(window,navigator,window.jQuery||window.$)}.apply(e,arguments)})}(this),function(e,t){if("function"==typeof define&&define.amd)define("bootstrapSwitch",["jquery"],t);else if("undefined"!=typeof exports)t(require("jquery"));else{var n={exports:{}};t(e.jquery),e.bootstrapSwitch=n.exports}}(this,function(e){function t(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=t(e),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=i.default||window.jQuery||window.$,a=function(){function e(t){var i=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};n(this,e),this.$element=s(t),this.options=s.extend({},s.fn.bootstrapSwitch.defaults,this._getElementOptions(),o),this.prevOptions={},this.$wrapper=s("<div>",{"class":function(){var e=[];return e.push(i.options.state?"on":"off"),i.options.size&&e.push(i.options.size),i.options.disabled&&e.push("disabled"),i.options.readonly&&e.push("readonly"),i.options.indeterminate&&e.push("indeterminate"),i.options.inverse&&e.push("inverse"),i.$element.attr("id")&&e.push("id-"+i.$element.attr("id")),e.map(i._getClass.bind(i)).concat([i.options.baseClass],i._getClasses(i.options.wrapperClass)).join(" ")}}),this.$container=s("<div>",{"class":this._getClass("container")}),this.$on=s("<span>",{html:this.options.onText,"class":this._getClass("handle-on")+" "+this._getClass(this.options.onColor)}),this.$off=s("<span>",{html:this.options.offText,"class":this._getClass("handle-off")+" "+this._getClass(this.options.offColor)}),this.$label=s("<span>",{html:this.options.labelText,"class":this._getClass("label")}),this.$element.on("init.bootstrapSwitch",this.options.onInit.bind(this,t)),this.$element.on("switchChange.bootstrapSwitch",function(){for(var e=arguments.length,n=Array(e),o=0;e>o;o++)n[o]=arguments[o];i.options.onSwitchChange.apply(t,n)===!1&&(i.$element.is(":radio")?s('[name="'+i.$element.attr("name")+'"]').trigger("previousState.bootstrapSwitch",!0):i.$element.trigger("previousState.bootstrapSwitch",!0))}),this.$container=this.$element.wrap(this.$container).parent(),this.$wrapper=this.$container.wrap(this.$wrapper).parent(),this.$element.before(this.options.inverse?this.$off:this.$on).before(this.$label).before(this.options.inverse?this.$on:this.$off),this.options.indeterminate&&this.$element.prop("indeterminate",!0),this._init(),this._elementHandlers(),this._handleHandlers(),this._labelHandlers(),this._formHandler(),this._externalLabelHandler(),this.$element.trigger("init.bootstrapSwitch",this.options.state)}return r(e,[{key:"setPrevOptions",value:function(){this.prevOptions=o({},this.options)}},{key:"state",value:function(e,t){return"undefined"==typeof e?this.options.state:this.options.disabled||this.options.readonly||this.options.state&&!this.options.radioAllOff&&this.$element.is(":radio")?this.$element:(this.$element.is(":radio")?s('[name="'+this.$element.attr("name")+'"]').trigger("setPreviousOptions.bootstrapSwitch"):this.$element.trigger("setPreviousOptions.bootstrapSwitch"),this.options.indeterminate&&this.indeterminate(!1),this.$element.prop("checked",Boolean(e)).trigger("change.bootstrapSwitch",t),this.$element)
}},{key:"toggleState",value:function(e){return this.options.disabled||this.options.readonly?this.$element:this.options.indeterminate?(this.indeterminate(!1),this.state(!0)):this.$element.prop("checked",!this.options.state).trigger("change.bootstrapSwitch",e)}},{key:"size",value:function(e){return"undefined"==typeof e?this.options.size:(null!=this.options.size&&this.$wrapper.removeClass(this._getClass(this.options.size)),e&&this.$wrapper.addClass(this._getClass(e)),this._width(),this._containerPosition(),this.options.size=e,this.$element)}},{key:"animate",value:function(e){return"undefined"==typeof e?this.options.animate:this.options.animate===Boolean(e)?this.$element:this.toggleAnimate()}},{key:"toggleAnimate",value:function(){return this.options.animate=!this.options.animate,this.$wrapper.toggleClass(this._getClass("animate")),this.$element}},{key:"disabled",value:function(e){return"undefined"==typeof e?this.options.disabled:this.options.disabled===Boolean(e)?this.$element:this.toggleDisabled()}},{key:"toggleDisabled",value:function(){return this.options.disabled=!this.options.disabled,this.$element.prop("disabled",this.options.disabled),this.$wrapper.toggleClass(this._getClass("disabled")),this.$element}},{key:"readonly",value:function(e){return"undefined"==typeof e?this.options.readonly:this.options.readonly===Boolean(e)?this.$element:this.toggleReadonly()}},{key:"toggleReadonly",value:function(){return this.options.readonly=!this.options.readonly,this.$element.prop("readonly",this.options.readonly),this.$wrapper.toggleClass(this._getClass("readonly")),this.$element}},{key:"indeterminate",value:function(e){return"undefined"==typeof e?this.options.indeterminate:this.options.indeterminate===Boolean(e)?this.$element:this.toggleIndeterminate()}},{key:"toggleIndeterminate",value:function(){return this.options.indeterminate=!this.options.indeterminate,this.$element.prop("indeterminate",this.options.indeterminate),this.$wrapper.toggleClass(this._getClass("indeterminate")),this._containerPosition(),this.$element}},{key:"inverse",value:function(e){return"undefined"==typeof e?this.options.inverse:this.options.inverse===Boolean(e)?this.$element:this.toggleInverse()}},{key:"toggleInverse",value:function(){this.$wrapper.toggleClass(this._getClass("inverse"));var e=this.$on.clone(!0),t=this.$off.clone(!0);return this.$on.replaceWith(t),this.$off.replaceWith(e),this.$on=t,this.$off=e,this.options.inverse=!this.options.inverse,this.$element}},{key:"onColor",value:function(e){return"undefined"==typeof e?this.options.onColor:(this.options.onColor&&this.$on.removeClass(this._getClass(this.options.onColor)),this.$on.addClass(this._getClass(e)),this.options.onColor=e,this.$element)}},{key:"offColor",value:function(e){return"undefined"==typeof e?this.options.offColor:(this.options.offColor&&this.$off.removeClass(this._getClass(this.options.offColor)),this.$off.addClass(this._getClass(e)),this.options.offColor=e,this.$element)}},{key:"onText",value:function(e){return"undefined"==typeof e?this.options.onText:(this.$on.html(e),this._width(),this._containerPosition(),this.options.onText=e,this.$element)}},{key:"offText",value:function(e){return"undefined"==typeof e?this.options.offText:(this.$off.html(e),this._width(),this._containerPosition(),this.options.offText=e,this.$element)}},{key:"labelText",value:function(e){return"undefined"==typeof e?this.options.labelText:(this.$label.html(e),this._width(),this.options.labelText=e,this.$element)}},{key:"handleWidth",value:function(e){return"undefined"==typeof e?this.options.handleWidth:(this.options.handleWidth=e,this._width(),this._containerPosition(),this.$element)}},{key:"labelWidth",value:function(e){return"undefined"==typeof e?this.options.labelWidth:(this.options.labelWidth=e,this._width(),this._containerPosition(),this.$element)}},{key:"baseClass",value:function(){return this.options.baseClass}},{key:"wrapperClass",value:function(e){return"undefined"==typeof e?this.options.wrapperClass:(e||(e=s.fn.bootstrapSwitch.defaults.wrapperClass),this.$wrapper.removeClass(this._getClasses(this.options.wrapperClass).join(" ")),this.$wrapper.addClass(this._getClasses(e).join(" ")),this.options.wrapperClass=e,this.$element)}},{key:"radioAllOff",value:function(e){if("undefined"==typeof e)return this.options.radioAllOff;var t=Boolean(e);return this.options.radioAllOff===t?this.$element:(this.options.radioAllOff=t,this.$element)}},{key:"onInit",value:function(e){return"undefined"==typeof e?this.options.onInit:(e||(e=s.fn.bootstrapSwitch.defaults.onInit),this.options.onInit=e,this.$element)}},{key:"onSwitchChange",value:function(e){return"undefined"==typeof e?this.options.onSwitchChange:(e||(e=s.fn.bootstrapSwitch.defaults.onSwitchChange),this.options.onSwitchChange=e,this.$element)}},{key:"destroy",value:function(){var e=this.$element.closest("form");return e.length&&e.off("reset.bootstrapSwitch").removeData("bootstrap-switch"),this.$container.children().not(this.$element).remove(),this.$element.unwrap().unwrap().off(".bootstrapSwitch").removeData("bootstrap-switch"),this.$element}},{key:"_getElementOptions",value:function(){return{state:this.$element.is(":checked"),size:this.$element.data("size"),animate:this.$element.data("animate"),disabled:this.$element.is(":disabled"),readonly:this.$element.is("[readonly]"),indeterminate:this.$element.data("indeterminate"),inverse:this.$element.data("inverse"),radioAllOff:this.$element.data("radio-all-off"),onColor:this.$element.data("on-color"),offColor:this.$element.data("off-color"),onText:this.$element.data("on-text"),offText:this.$element.data("off-text"),labelText:this.$element.data("label-text"),handleWidth:this.$element.data("handle-width"),labelWidth:this.$element.data("label-width"),baseClass:this.$element.data("base-class"),wrapperClass:this.$element.data("wrapper-class")}}},{key:"_width",value:function(){var e=this,t=this.$on.add(this.$off).add(this.$label).css("width",""),n="auto"===this.options.handleWidth?Math.round(Math.max(this.$on.width(),this.$off.width())):this.options.handleWidth;return t.width(n),this.$label.width(function(t,i){return"auto"!==e.options.labelWidth?e.options.labelWidth:n>i?n:i}),this._handleWidth=this.$on.outerWidth(),this._labelWidth=this.$label.outerWidth(),this.$container.width(2*this._handleWidth+this._labelWidth),this.$wrapper.width(this._handleWidth+this._labelWidth)}},{key:"_containerPosition",value:function(){{var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.state;arguments[1]}this.$container.css("margin-left",function(){var n=[0,"-"+e._handleWidth+"px"];return e.options.indeterminate?"-"+e._handleWidth/2+"px":t?e.options.inverse?n[1]:n[0]:e.options.inverse?n[0]:n[1]})}},{key:"_init",value:function(){var e=this,t=function(){e.setPrevOptions(),e._width(),e._containerPosition(),setTimeout(function(){return e.options.animate?e.$wrapper.addClass(e._getClass("animate")):void 0},50)};if(this.$wrapper.is(":visible"))return void t();var n=window.setInterval(function(){return e.$wrapper.is(":visible")?(t(),window.clearInterval(n)):void 0},50)}},{key:"_elementHandlers",value:function(){var e=this;return this.$element.on({"setPreviousOptions.bootstrapSwitch":this.setPrevOptions.bind(this),"previousState.bootstrapSwitch":function(){e.options=e.prevOptions,e.options.indeterminate&&e.$wrapper.addClass(e._getClass("indeterminate")),e.$element.prop("checked",e.options.state).trigger("change.bootstrapSwitch",!0)},"change.bootstrapSwitch":function(t,n){t.preventDefault(),t.stopImmediatePropagation();var i=e.$element.is(":checked");e._containerPosition(i),i!==e.options.state&&(e.options.state=i,e.$wrapper.toggleClass(e._getClass("off")).toggleClass(e._getClass("on")),n||(e.$element.is(":radio")&&s('[name="'+e.$element.attr("name")+'"]').not(e.$element).prop("checked",!1).trigger("change.bootstrapSwitch",!0),e.$element.trigger("switchChange.bootstrapSwitch",[i])))},"focus.bootstrapSwitch":function(t){t.preventDefault(),e.$wrapper.addClass(e._getClass("focused"))},"blur.bootstrapSwitch":function(t){t.preventDefault(),e.$wrapper.removeClass(e._getClass("focused"))},"keydown.bootstrapSwitch":function(t){!t.which||e.options.disabled||e.options.readonly||(37===t.which||39===t.which)&&(t.preventDefault(),t.stopImmediatePropagation(),e.state(39===t.which))}})}},{key:"_handleHandlers",value:function(){var e=this;return this.$on.on("click.bootstrapSwitch",function(t){return t.preventDefault(),t.stopPropagation(),e.state(!1),e.$element.trigger("focus.bootstrapSwitch")}),this.$off.on("click.bootstrapSwitch",function(t){return t.preventDefault(),t.stopPropagation(),e.state(!0),e.$element.trigger("focus.bootstrapSwitch")})}},{key:"_labelHandlers",value:function(){var e=this,t={click:function(e){e.stopPropagation()},"mousedown.bootstrapSwitch touchstart.bootstrapSwitch":function(t){e._dragStart||e.options.disabled||e.options.readonly||(t.preventDefault(),t.stopPropagation(),e._dragStart=(t.pageX||t.originalEvent.touches[0].pageX)-parseInt(e.$container.css("margin-left"),10),e.options.animate&&e.$wrapper.removeClass(e._getClass("animate")),e.$element.trigger("focus.bootstrapSwitch"))},"mousemove.bootstrapSwitch touchmove.bootstrapSwitch":function(t){if(null!=e._dragStart){var n=(t.pageX||t.originalEvent.touches[0].pageX)-e._dragStart;t.preventDefault(),n<-e._handleWidth||n>0||(e._dragEnd=n,e.$container.css("margin-left",e._dragEnd+"px"))}},"mouseup.bootstrapSwitch touchend.bootstrapSwitch":function(t){if(e._dragStart){if(t.preventDefault(),e.options.animate&&e.$wrapper.addClass(e._getClass("animate")),e._dragEnd){var n=e._dragEnd>-(e._handleWidth/2);e._dragEnd=!1,e.state(e.options.inverse?!n:n)}else e.state(!e.options.state);e._dragStart=!1}},"mouseleave.bootstrapSwitch":function(){e.$label.trigger("mouseup.bootstrapSwitch")}};this.$label.on(t)}},{key:"_externalLabelHandler",value:function(){var e=this,t=this.$element.closest("label");t.on("click",function(n){n.preventDefault(),n.stopImmediatePropagation(),n.target===t[0]&&e.toggleState()})}},{key:"_formHandler",value:function(){var e=this.$element.closest("form");e.data("bootstrap-switch")||e.on("reset.bootstrapSwitch",function(){window.setTimeout(function(){e.find("input").filter(function(){return s(this).data("bootstrap-switch")}).each(function(){return s(this).bootstrapSwitch("state",this.checked)})},1)}).data("bootstrap-switch",!0)}},{key:"_getClass",value:function(e){return this.options.baseClass+"-"+e}},{key:"_getClasses",value:function(e){return s.isArray(e)?e.map(this._getClass.bind(this)):[this._getClass(e)]}}]),e}();s.fn.bootstrapSwitch=function(e){function t(t,n){var o=s(n),r=o.data("bootstrap-switch"),l=r||new a(n,e);return r||o.data("bootstrap-switch",l),"string"==typeof e?l[e].apply(l,i):t}for(var n=arguments.length,i=Array(n>1?n-1:0),o=1;n>o;o++)i[o-1]=arguments[o];return Array.prototype.reduce.call(this,t,this)},s.fn.bootstrapSwitch.Constructor=a,s.fn.bootstrapSwitch.defaults={state:!0,size:null,animate:!0,disabled:!1,readonly:!1,indeterminate:!1,inverse:!1,radioAllOff:!1,onColor:"primary",offColor:"default",onText:"ON",offText:"OFF",labelText:"&nbsp",handleWidth:"auto",labelWidth:"auto",baseClass:"bootstrap-switch",wrapperClass:"wrapper",onInit:function(){},onSwitchChange:function(){}}}),function(e){"function"==typeof define&&define.amd?define("summernote",["jquery"],e):"object"==typeof module&&module.exports?module.exports=e(require("jquery")):e(window.jQuery)}(function($){var isSupportAmd="function"==typeof define&&define.amd,isFontInstalled=function(e){var t="Comic Sans MS"===e?"Courier New":"Comic Sans MS",n=$("<div>").css({position:"absolute",left:"-9999px",top:"-9999px",fontSize:"200px"}).text("mmmmmmmmmwwwwwww").appendTo(document.body),i=n.css("fontFamily",t).width(),o=n.css("fontFamily",e+","+t).width();return n.remove(),i!==o},userAgent=navigator.userAgent,isMSIE=/MSIE|Trident/i.test(userAgent),browserVersion;if(isMSIE){var matches=/MSIE (\d+[.]\d+)/.exec(userAgent);matches&&(browserVersion=parseFloat(matches[1])),matches=/Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(userAgent),matches&&(browserVersion=parseFloat(matches[1]))}var isEdge=/Edge\/\d+/.test(userAgent),hasCodeMirror=!!window.CodeMirror;if(!hasCodeMirror&&isSupportAmd&&"undefined"!=typeof require)if("undefined"!=typeof require.resolve)try{require.resolve("codemirror"),hasCodeMirror=!0}catch(e){}else"undefined"!=typeof eval("require").specified&&(hasCodeMirror=eval("require").specified("codemirror"));var isSupportTouch="ontouchstart"in window||navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0,agent={isMac:navigator.appVersion.indexOf("Mac")>-1,isMSIE:isMSIE,isEdge:isEdge,isFF:!isEdge&&/firefox/i.test(userAgent),isPhantom:/PhantomJS/i.test(userAgent),isWebkit:!isEdge&&/webkit/i.test(userAgent),isChrome:!isEdge&&/chrome/i.test(userAgent),isSafari:!isEdge&&/safari/i.test(userAgent),browserVersion:browserVersion,jqueryVersion:parseFloat($.fn.jquery),isSupportAmd:isSupportAmd,isSupportTouch:isSupportTouch,hasCodeMirror:hasCodeMirror,isFontInstalled:isFontInstalled,isW3CRangeSupport:!!document.createRange},func=function(){var e=function(e){return function(t){return e===t}},t=function(e,t){return e===t},n=function(e){return function(t,n){return t[e]===n[e]}},i=function(){return!0},o=function(){return!1},r=function(e){return function(){return!e.apply(e,arguments)}},s=function(e,t){return function(n){return e(n)&&t(n)}},a=function(e){return e},l=function(e,t){return function(){return e[t].apply(e,arguments)}},c=0,u=function(e){var t=++c+"";return e?e+t:t},d=function(e){var t=$(document);return{top:e.top+t.scrollTop(),left:e.left+t.scrollLeft(),width:e.right-e.left,height:e.bottom-e.top}},h=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t},p=function(e,t){return t=t||"",t+e.split(".").map(function(e){return e.substring(0,1).toUpperCase()+e.substring(1)}).join("")},f=function(e,t,n){var i;return function(){var o=this,r=arguments,s=function(){i=null,n||e.apply(o,r)},a=n&&!i;clearTimeout(i),i=setTimeout(s,t),a&&e.apply(o,r)}};return{eq:e,eq2:t,peq2:n,ok:i,fail:o,self:a,not:r,and:s,invoke:l,uniqueId:u,rect2bnd:d,invertObject:h,namespaceToCamel:p,debounce:f}}(),list=function(){var e=function(e){return e[0]},t=function(e){return e[e.length-1]},n=function(e){return e.slice(0,e.length-1)},i=function(e){return e.slice(1)},o=function(e,t){for(var n=0,i=e.length;i>n;n++){var o=e[n];if(t(o))return o}},r=function(e,t){for(var n=0,i=e.length;i>n;n++)if(!t(e[n]))return!1;return!0},s=function(e,t){return $.inArray(t,e)},a=function(e,t){return-1!==s(e,t)},l=function(e,t){return t=t||func.self,e.reduce(function(e,n){return e+t(n)},0)},c=function(e){for(var t=[],n=-1,i=e.length;++n<i;)t[n]=e[n];return t},u=function(e){return!e||!e.length},d=function(n,o){if(!n.length)return[];var r=i(n);return r.reduce(function(e,n){var i=t(e);return o(t(i),n)?i[i.length]=n:e[e.length]=[n],e},[[e(n)]])},h=function(e){for(var t=[],n=0,i=e.length;i>n;n++)e[n]&&t.push(e[n]);return t},p=function(e){for(var t=[],n=0,i=e.length;i>n;n++)a(t,e[n])||t.push(e[n]);return t},f=function(e,t){var n=s(e,t);return-1===n?null:e[n+1]},m=function(e,t){var n=s(e,t);return-1===n?null:e[n-1]};return{head:e,last:t,initial:n,tail:i,prev:m,next:f,find:o,contains:a,all:r,sum:l,from:c,isEmpty:u,clusterBy:d,compact:h,unique:p}}(),NBSP_CHAR=String.fromCharCode(160),ZERO_WIDTH_NBSP_CHAR="﻿",dom=function(){var e=function(e){return e&&$(e).hasClass("note-editable")},t=function(e){return e&&$(e).hasClass("note-control-sizing")},n=function(e){return e=e.toUpperCase(),function(t){return t&&t.nodeName.toUpperCase()===e}},i=function(e){return e&&3===e.nodeType},o=function(e){return e&&1===e.nodeType},r=function(e){return e&&/^BR|^IMG|^HR|^IFRAME|^BUTTON|^INPUT/.test(e.nodeName.toUpperCase())},s=function(t){return e(t)?!1:t&&/^DIV|^P|^LI|^H[1-7]/.test(t.nodeName.toUpperCase())},a=function(e){return e&&/^H[1-7]/.test(e.nodeName.toUpperCase())},l=n("PRE"),c=n("LI"),u=function(e){return s(e)&&!c(e)},d=n("TABLE"),h=n("DATA"),p=function(e){return!(y(e)||f(e)||m(e)||s(e)||d(e)||v(e)||h(e))},f=function(e){return e&&/^UL|^OL/.test(e.nodeName.toUpperCase())},m=n("HR"),g=function(e){return e&&/^TD|^TH/.test(e.nodeName.toUpperCase())},v=n("BLOCKQUOTE"),y=function(t){return g(t)||v(t)||e(t)},b=n("A"),w=function(e){return p(e)&&!!M(e,s)},x=function(e){return p(e)&&!M(e,s)},C=n("BODY"),_=function(e,t){return e.nextSibling===t||e.previousSibling===t},k=function(e,t){t=t||func.ok;var n=[];return e.previousSibling&&t(e.previousSibling)&&n.push(e.previousSibling),n.push(e),e.nextSibling&&t(e.nextSibling)&&n.push(e.nextSibling),n},S=agent.isMSIE&&agent.browserVersion<11?"&nbsp;":"<br>",T=function(e){return i(e)?e.nodeValue.length:e?e.childNodes.length:0},E=function(e){var t=T(e);return 0===t?!0:i(e)||1!==t||e.innerHTML!==S?list.all(e.childNodes,i)&&""===e.innerHTML?!0:!1:!0},P=function(e){r(e)||T(e)||(e.innerHTML=S)},M=function(t,n){for(;t;){if(n(t))return t;if(e(t))break;t=t.parentNode}return null},A=function(t,n){for(t=t.parentNode;t&&1===T(t);){if(n(t))return t;if(e(t))break;t=t.parentNode}return null},I=function(t,n){n=n||func.fail;var i=[];return M(t,function(t){return e(t)||i.push(t),n(t)}),i},D=function(e,t){var n=I(e);return list.last(n.filter(t))},O=function(e,t){for(var n=I(e),i=t;i;i=i.parentNode)if($.inArray(i,n)>-1)return i;return null},N=function(e,t){t=t||func.fail;for(var n=[];e&&!t(e);)n.push(e),e=e.previousSibling;return n},R=function(e,t){t=t||func.fail;for(var n=[];e&&!t(e);)n.push(e),e=e.nextSibling;return n},F=function(e,t){var n=[];return t=t||func.ok,function i(o){e!==o&&t(o)&&n.push(o);for(var r=0,s=o.childNodes.length;s>r;r++)i(o.childNodes[r])}(e),n},j=function(e,t){var n=e.parentNode,i=$("<"+t+">")[0];return n.insertBefore(i,e),i.appendChild(e),i},L=function(e,t){var n=t.nextSibling,i=t.parentNode;return n?i.insertBefore(e,n):i.appendChild(e),e},B=function(e,t){return $.each(t,function(t,n){e.appendChild(n)}),e},q=function(e){return 0===e.offset},z=function(e){return e.offset===T(e.node)},H=function(e){return q(e)||z(e)},V=function(e,t){for(;e&&e!==t;){if(0!==Y(e))return!1;e=e.parentNode}return!0},U=function(e,t){if(!t)return!1;for(;e&&e!==t;){if(Y(e)!==T(e.parentNode)-1)return!1;e=e.parentNode}return!0},W=function(e,t){return q(e)&&V(e.node,t)},G=function(e,t){return z(e)&&U(e.node,t)},Y=function(e){for(var t=0;e=e.previousSibling;)t+=1;return t},K=function(e){return!!(e&&e.childNodes&&e.childNodes.length)},Q=function(t,n){var i,o;if(0===t.offset){if(e(t.node))return null;i=t.node.parentNode,o=Y(t.node)}else K(t.node)?(i=t.node.childNodes[t.offset-1],o=T(i)):(i=t.node,o=n?0:t.offset-1);return{node:i,offset:o}},J=function(t,n){var i,o;if(T(t.node)===t.offset){if(e(t.node))return null;i=t.node.parentNode,o=Y(t.node)+1}else K(t.node)?(i=t.node.childNodes[t.offset],o=0):(i=t.node,o=n?T(t.node):t.offset+1);return{node:i,offset:o}},X=function(e,t){return e.node===t.node&&e.offset===t.offset},Z=function(e){if(i(e.node)||!K(e.node)||E(e.node))return!0;var t=e.node.childNodes[e.offset-1],n=e.node.childNodes[e.offset];return t&&!r(t)||n&&!r(n)?!1:!0},et=function(e,t){for(;e;){if(t(e))return e;e=Q(e)}return null},tt=function(e,t){for(;e;){if(t(e))return e;e=J(e)}return null},nt=function(e){if(!i(e.node))return!1;var t=e.node.nodeValue.charAt(e.offset-1);return t&&" "!==t&&t!==NBSP_CHAR},it=function(e,t,n,i){for(var o=e;o&&(n(o),!X(o,t));){var r=i&&e.node!==o.node&&t.node!==o.node;o=J(o,r)}},ot=function(e,t){var n=I(t,func.eq(e));return n.map(Y).reverse()},rt=function(e,t){for(var n=e,i=0,o=t.length;o>i;i++)n=n.childNodes.length<=t[i]?n.childNodes[n.childNodes.length-1]:n.childNodes[t[i]];return n},st=function(e,t){var n=t&&t.isSkipPaddingBlankHTML,o=t&&t.isNotSplitEdgePoint;if(H(e)&&(i(e.node)||o)){if(q(e))return e.node;if(z(e))return e.node.nextSibling}if(i(e.node))return e.node.splitText(e.offset);var r=e.node.childNodes[e.offset],s=L(e.node.cloneNode(!1),e.node);return B(s,R(r)),n||(P(e.node),P(s)),s},at=function(e,t,n){var i=I(t.node,func.eq(e));return i.length?1===i.length?st(t,n):i.reduce(function(e,i){return e===t.node&&(e=st(t,n)),st({node:i,offset:e?dom.position(e):T(i)},n)}):null},lt=function(e,t){var n,i,o=t?s:y,r=I(e.node,o),a=list.last(r)||e.node;o(a)?(n=r[r.length-2],i=a):(n=a,i=n.parentNode);var l=n&&at(n,e,{isSkipPaddingBlankHTML:t,isNotSplitEdgePoint:t});return l||i!==e.node||(l=e.node.childNodes[e.offset]),{rightNode:l,container:i}},ct=function(e){return document.createElement(e)},ut=function(e){return document.createTextNode(e)},dt=function(e,t){if(e&&e.parentNode){if(e.removeNode)return e.removeNode(t);var n=e.parentNode;if(!t){var i,o,r=[];for(i=0,o=e.childNodes.length;o>i;i++)r.push(e.childNodes[i]);for(i=0,o=r.length;o>i;i++)n.insertBefore(r[i],e)}n.removeChild(e)}},ht=function(t,n){for(;t&&!e(t)&&n(t);){var i=t.parentNode;dt(t),t=i}},pt=function(e,t){if(e.nodeName.toUpperCase()===t.toUpperCase())return e;var n=ct(t);return e.style.cssText&&(n.style.cssText=e.style.cssText),B(n,list.from(e.childNodes)),L(n,e),dt(e),n},ft=n("TEXTAREA"),mt=function(e,t){var n=ft(e[0])?e.val():e.html();return t?n.replace(/[\n\r]/g,""):n},gt=function(e,t){var n=mt(e);if(t){var i=/<(\/?)(\b(?!!)[^>\s]*)(.*?)(\s*\/?>)/g;n=n.replace(i,function(e,t,n){n=n.toUpperCase();var i=/^DIV|^TD|^TH|^P|^LI|^H[1-7]/.test(n)&&!!t,o=/^BLOCKQUOTE|^TABLE|^TBODY|^TR|^HR|^UL|^OL/.test(n);return e+(i||o?"\n":"")}),n=$.trim(n)}return n},vt=function(e){var t=$(e),n=t.offset(),i=t.outerHeight(!0);return{left:n.left,top:n.top+i}},yt=function(e,t){Object.keys(t).forEach(function(n){e.on(n,t[n])})},bt=function(e,t){Object.keys(t).forEach(function(n){e.off(n,t[n])})},wt=function(e){return e&&!dom.isText(e)&&list.contains(e.classList,"note-styletag")};return{NBSP_CHAR:NBSP_CHAR,ZERO_WIDTH_NBSP_CHAR:ZERO_WIDTH_NBSP_CHAR,blank:S,emptyPara:"<p>"+S+"</p>",makePredByNodeName:n,isEditable:e,isControlSizing:t,isText:i,isElement:o,isVoid:r,isPara:s,isPurePara:u,isHeading:a,isInline:p,isBlock:func.not(p),isBodyInline:x,isBody:C,isParaInline:w,isPre:l,isList:f,isTable:d,isData:h,isCell:g,isBlockquote:v,isBodyContainer:y,isAnchor:b,isDiv:n("DIV"),isLi:c,isBR:n("BR"),isSpan:n("SPAN"),isB:n("B"),isU:n("U"),isS:n("S"),isI:n("I"),isImg:n("IMG"),isTextarea:ft,isEmpty:E,isEmptyAnchor:func.and(b,E),isClosestSibling:_,withClosestSiblings:k,nodeLength:T,isLeftEdgePoint:q,isRightEdgePoint:z,isEdgePoint:H,isLeftEdgeOf:V,isRightEdgeOf:U,isLeftEdgePointOf:W,isRightEdgePointOf:G,prevPoint:Q,nextPoint:J,isSamePoint:X,isVisiblePoint:Z,prevPointUntil:et,nextPointUntil:tt,isCharPoint:nt,walkPoint:it,ancestor:M,singleChildAncestor:A,listAncestor:I,lastAncestor:D,listNext:R,listPrev:N,listDescendant:F,commonAncestor:O,wrap:j,insertAfter:L,appendChildNodes:B,position:Y,hasChildren:K,makeOffsetPath:ot,fromOffsetPath:rt,splitTree:at,splitPoint:lt,create:ct,createText:ut,remove:dt,removeWhile:ht,replace:pt,html:gt,value:mt,posFromPlaceholder:vt,attachEvents:yt,detachEvents:bt,isCustomStyleTag:wt}}(),Context=function(e,t){var n=this,i=$.summernote.ui;return this.memos={},this.modules={},this.layoutInfo={},this.options=t,this.initialize=function(){return this.layoutInfo=i.createLayout(e,t),this._initialize(),e.hide(),this},this.destroy=function(){this._destroy(),e.removeData("summernote"),i.removeLayout(e,this.layoutInfo)},this.reset=function(){var e=n.isDisabled();this.code(dom.emptyPara),this._destroy(),this._initialize(),e&&n.disable()},this._initialize=function(){var e=$.extend({},this.options.buttons);Object.keys(e).forEach(function(t){n.memo("button."+t,e[t])});var t=$.extend({},this.options.modules,$.summernote.plugins||{});Object.keys(t).forEach(function(e){n.module(e,t[e],!0)}),Object.keys(this.modules).forEach(function(e){n.initializeModule(e)})},this._destroy=function(){Object.keys(this.modules).reverse().forEach(function(e){n.removeModule(e)}),Object.keys(this.memos).forEach(function(e){n.removeMemo(e)}),this.triggerEvent("destroy",this)},this.code=function(t){var n=this.invoke("codeview.isActivated");return void 0===t?(this.invoke("codeview.sync"),n?this.layoutInfo.codable.val():this.layoutInfo.editable.html()):(n?this.layoutInfo.codable.val(t):this.layoutInfo.editable.html(t),e.val(t),this.triggerEvent("change",t),void 0)},this.isDisabled=function(){return"false"===this.layoutInfo.editable.attr("contenteditable")},this.enable=function(){this.layoutInfo.editable.attr("contenteditable",!0),this.invoke("toolbar.activate",!0),this.triggerEvent("disable",!1)},this.disable=function(){this.invoke("codeview.isActivated")&&this.invoke("codeview.deactivate"),this.layoutInfo.editable.attr("contenteditable",!1),this.invoke("toolbar.deactivate",!0),this.triggerEvent("disable",!0)},this.triggerEvent=function(){var t=list.head(arguments),n=list.tail(list.from(arguments)),i=this.options.callbacks[func.namespaceToCamel(t,"on")];i&&i.apply(e[0],n),e.trigger("summernote."+t,n)},this.initializeModule=function(t){var n=this.modules[t];n.shouldInitialize=n.shouldInitialize||func.ok,n.shouldInitialize()&&(n.initialize&&n.initialize(),n.events&&dom.attachEvents(e,n.events))},this.module=function(e,t,n){return 1===arguments.length?this.modules[e]:(this.modules[e]=new t(this),void(n||this.initializeModule(e)))},this.removeModule=function(t){var n=this.modules[t];n.shouldInitialize()&&(n.events&&dom.detachEvents(e,n.events),n.destroy&&n.destroy()),delete this.modules[t]},this.memo=function(e,t){return 1===arguments.length?this.memos[e]:void(this.memos[e]=t)},this.removeMemo=function(e){this.memos[e]&&this.memos[e].destroy&&this.memos[e].destroy(),delete this.memos[e]},this.createInvokeHandlerAndUpdateState=function(e,t){return function(i){n.createInvokeHandler(e,t)(i),n.invoke("buttons.updateCurrentStyle")}},this.createInvokeHandler=function(e,t){return function(i){i.preventDefault();var o=$(i.target);n.invoke(e,t||o.closest("[data-value]").data("value"),o)}},this.invoke=function(){var e=list.head(arguments),t=list.tail(list.from(arguments)),n=e.split("."),i=n.length>1,o=i&&list.head(n),r=i?list.last(n):list.head(n),s=this.modules[o||"editor"];return!o&&this[r]?this[r].apply(this,t):s&&s[r]&&s.shouldInitialize()?s[r].apply(s,t):void 0},this.initialize()};$.fn.extend({summernote:function(){var e=$.type(list.head(arguments)),t="string"===e,n="object"===e,i=n?list.head(arguments):{};i=$.extend({},$.summernote.options,i),i.langInfo=$.extend(!0,{},$.summernote.lang["en-US"],$.summernote.lang[i.lang]),i.icons=$.extend(!0,{},$.summernote.options.icons,i.icons),i.tooltip="auto"===i.tooltip?!agent.isSupportTouch:i.tooltip,this.each(function(e,t){var n=$(t);if(!n.data("summernote")){var o=new Context(n,i);n.data("summernote",o),n.data("summernote").triggerEvent("init",o.layoutInfo)}});var o=this.first();if(o.length){var r=o.data("summernote");if(t)return r.invoke.apply(r,list.from(arguments));i.focus&&r.invoke("editor.focus")}return this}});var Renderer=function(e,t,n,i){this.render=function(o){var r=$(e);if(n&&n.contents&&r.html(n.contents),n&&n.className&&r.addClass(n.className),n&&n.data&&$.each(n.data,function(e,t){r.attr("data-"+e,t)}),n&&n.click&&r.on("click",n.click),t){var s=r.find(".note-children-container");t.forEach(function(e){e.render(s.length?s:r)})}return i&&i(r,n),n&&n.callback&&n.callback(r),o&&o.append(r),r}},renderer={create:function(e,t){return function(){var n=$.isArray(arguments[0])?arguments[0]:[],i="object"==typeof arguments[1]?arguments[1]:arguments[0];return i&&i.children&&(n=i.children),new Renderer(e,n,i,t)}}},editor=renderer.create('<div class="note-editor note-frame panel panel-default"/>'),toolbar=renderer.create('<div class="note-toolbar panel-heading"/>'),editingArea=renderer.create('<div class="note-editing-area"/>'),codable=renderer.create('<textarea class="note-codable"/>'),editable=renderer.create('<div class="note-editable panel-body" contentEditable="true"/>'),statusbar=renderer.create(['<div class="note-statusbar">','  <div class="note-resizebar">','    <div class="note-icon-bar"/>','    <div class="note-icon-bar"/>','    <div class="note-icon-bar"/>',"  </div>","</div>"].join("")),airEditor=renderer.create('<div class="note-editor"/>'),airEditable=renderer.create('<div class="note-editable" contentEditable="true"/>'),buttonGroup=renderer.create('<div class="note-btn-group btn-group">'),dropdown=renderer.create('<div class="dropdown-menu">',function(e,t){var n=$.isArray(t.items)?t.items.map(function(e){var n="string"==typeof e?e:e.value||"",i=t.template?t.template(e):e,o="object"==typeof e?e.option:void 0,r='data-value="'+n+'"',s=void 0!==o?' data-option="'+o+'"':"";return'<li><a href="#" '+(r+s)+">"+i+"</a></li>"}).join(""):t.items;e.html(n)}),dropdownCheck=renderer.create('<div class="dropdown-menu note-check">',function(e,t){var n=$.isArray(t.items)?t.items.map(function(e){var n="string"==typeof e?e:e.value||"",i=t.template?t.template(e):e;return'<li><a href="#" data-value="'+n+'">'+icon(t.checkClassName)+" "+i+"</a></li>"}).join(""):t.items;e.html(n)}),palette=renderer.create('<div class="note-color-palette"/>',function(e,t){for(var n=[],i=0,o=t.colors.length;o>i;i++){for(var r=t.eventName,s=t.colors[i],a=[],l=0,c=s.length;c>l;l++){var u=s[l];a.push(['<button type="button" class="note-color-btn"','style="background-color:',u,'" ','data-event="',r,'" ','data-value="',u,'" ','title="',u,'" ','data-toggle="button" tabindex="-1"></button>'].join(""))}n.push('<div class="note-color-row">'+a.join("")+"</div>")}e.html(n.join("")),t.tooltip&&e.find(".note-color-btn").tooltip({container:"body",trigger:"hover",placement:"bottom"})}),dialog=renderer.create('<div class="modal" aria-hidden="false" tabindex="-1"/>',function(e,t){t.fade&&e.addClass("fade"),e.html(['<div class="modal-dialog">','  <div class="modal-content">',t.title?'    <div class="modal-header">      <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>      <h4 class="modal-title">'+t.title+"</h4>    </div>":"",'    <div class="modal-body">'+t.body+"</div>",t.footer?'    <div class="modal-footer">'+t.footer+"</div>":"","  </div>","</div>"].join(""))}),popover=renderer.create(['<div class="note-popover popover in">','  <div class="arrow"/>','  <div class="popover-content note-children-container"/>',"</div>"].join(""),function(e,t){var n="undefined"!=typeof t.direction?t.direction:"bottom";e.addClass(n),t.hideArrow&&e.find(".arrow").hide()}),icon=function(e,t){return t=t||"i","<"+t+' class="'+e+'"/>'},ui={editor:editor,toolbar:toolbar,editingArea:editingArea,codable:codable,editable:editable,statusbar:statusbar,airEditor:airEditor,airEditable:airEditable,buttonGroup:buttonGroup,dropdown:dropdown,dropdownCheck:dropdownCheck,palette:palette,dialog:dialog,popover:popover,icon:icon,options:{},button:function(e,t){return renderer.create('<button type="button" class="note-btn btn btn-default btn-sm" tabindex="-1">',function(e,t){t&&t.tooltip&&self.options.tooltip&&e.attr({title:t.tooltip}).tooltip({container:"body",trigger:"hover",placement:"bottom"})})(e,t)},toggleBtn:function(e,t){e.toggleClass("disabled",!t),e.attr("disabled",!t)},toggleBtnActive:function(e,t){e.toggleClass("active",t)},onDialogShown:function(e,t){e.one("shown.bs.modal",t)},onDialogHidden:function(e,t){e.one("hidden.bs.modal",t)},showDialog:function(e){e.modal("show")},hideDialog:function(e){e.modal("hide")},createLayout:function(e,t){self.options=t;var n=(t.airMode?ui.airEditor([ui.editingArea([ui.airEditable()])]):ui.editor([ui.toolbar(),ui.editingArea([ui.codable(),ui.editable()]),ui.statusbar()])).render();return n.insertAfter(e),{note:e,editor:n,toolbar:n.find(".note-toolbar"),editingArea:n.find(".note-editing-area"),editable:n.find(".note-editable"),codable:n.find(".note-codable"),statusbar:n.find(".note-statusbar")}},removeLayout:function(e,t){e.html(t.editable.html()),t.editor.remove(),e.show()}};$.summernote=$.summernote||{lang:{}},$.extend($.summernote.lang,{"en-US":{font:{bold:"Bold",italic:"Italic",underline:"Underline",clear:"Remove Font Style",height:"Line Height",name:"Font Family",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript",size:"Font Size"},image:{image:"Picture",insert:"Insert Image",resizeFull:"Resize Full",resizeHalf:"Resize Half",resizeQuarter:"Resize Quarter",floatLeft:"Float Left",floatRight:"Float Right",floatNone:"Float None",shapeRounded:"Shape: Rounded",shapeCircle:"Shape: Circle",shapeThumbnail:"Shape: Thumbnail",shapeNone:"Shape: None",dragImageHere:"Drag image or text here",dropImage:"Drop image or Text",selectFromFiles:"Select from files",maximumFileSize:"Maximum file size",maximumFileSizeError:"Maximum file size exceeded.",url:"Image URL",remove:"Remove Image"},video:{video:"Video",videoLink:"Video Link",insert:"Insert Video",url:"Video URL?",providers:"(YouTube, Vimeo, Vine, Instagram, DailyMotion or Youku)"},link:{link:"Link",insert:"Insert Link",unlink:"Unlink",edit:"Edit",textToDisplay:"Text to display",url:"To what URL should this link go?",openInNewWindow:"Open in new window"},table:{table:"Table",addRowAbove:"Add row above",addRowBelow:"Add row below",addColLeft:"Add column left",addColRight:"Add column right",delRow:"Delete row",delCol:"Delete column",delTable:"Delete table"},hr:{insert:"Insert Horizontal Rule"},style:{style:"Style",p:"Normal",blockquote:"Quote",pre:"Code",h1:"Header 1",h2:"Header 2",h3:"Header 3",h4:"Header 4",h5:"Header 5",h6:"Header 6"},lists:{unordered:"Unordered list",ordered:"Ordered list"},options:{help:"Help",fullscreen:"Full Screen",codeview:"Code View"},paragraph:{paragraph:"Paragraph",outdent:"Outdent",indent:"Indent",left:"Align left",center:"Align center",right:"Align right",justify:"Justify full"},color:{recent:"Recent Color",more:"More Color",background:"Background Color",foreground:"Foreground Color",transparent:"Transparent",setTransparent:"Set transparent",reset:"Reset",resetToDefault:"Reset to default"},shortcut:{shortcuts:"Keyboard shortcuts",close:"Close",textFormatting:"Text formatting",action:"Action",paragraphFormatting:"Paragraph formatting",documentStyle:"Document Style",extraKeys:"Extra keys"},help:{insertParagraph:"Insert Paragraph",undo:"Undoes the last command",redo:"Redoes the last command",tab:"Tab",untab:"Untab",bold:"Set a bold style",italic:"Set a italic style",underline:"Set a underline style",strikethrough:"Set a strikethrough style",removeFormat:"Clean a style",justifyLeft:"Set left align",justifyCenter:"Set center align",justifyRight:"Set right align",justifyFull:"Set full align",insertUnorderedList:"Toggle unordered list",insertOrderedList:"Toggle ordered list",outdent:"Outdent on current paragraph",indent:"Indent on current paragraph",formatPara:"Change current block's format as a paragraph(P tag)",formatH1:"Change current block's format as H1",formatH2:"Change current block's format as H2",formatH3:"Change current block's format as H3",formatH4:"Change current block's format as H4",formatH5:"Change current block's format as H5",formatH6:"Change current block's format as H6",insertHorizontalRule:"Insert horizontal rule","linkDialog.show":"Show Link Dialog"},history:{undo:"Undo",redo:"Redo"},specialChar:{specialChar:"SPECIAL CHARACTERS",select:"Select Special characters"}}});
var key=function(){var e={BACKSPACE:8,TAB:9,ENTER:13,SPACE:32,DELETE:46,LEFT:37,UP:38,RIGHT:39,DOWN:40,NUM0:48,NUM1:49,NUM2:50,NUM3:51,NUM4:52,NUM5:53,NUM6:54,NUM7:55,NUM8:56,B:66,E:69,I:73,J:74,K:75,L:76,R:82,S:83,U:85,V:86,Y:89,Z:90,SLASH:191,LEFTBRACKET:219,BACKSLASH:220,RIGHTBRACKET:221};return{isEdit:function(t){return list.contains([e.BACKSPACE,e.TAB,e.ENTER,e.SPACE,e.DELETE],t)},isMove:function(t){return list.contains([e.LEFT,e.UP,e.RIGHT,e.DOWN],t)},nameFromCode:func.invertObject(e),code:e}}(),range=function(){var e=function(e,t){var n,i,o=e.parentElement(),r=document.body.createTextRange(),s=list.from(o.childNodes);for(n=0;n<s.length;n++)if(!dom.isText(s[n])){if(r.moveToElementText(s[n]),r.compareEndPoints("StartToStart",e)>=0)break;i=s[n]}if(0!==n&&dom.isText(s[n-1])){var a=document.body.createTextRange(),l=null;a.moveToElementText(i||o),a.collapse(!i),l=i?i.nextSibling:o.firstChild;var c=e.duplicate();c.setEndPoint("StartToStart",a);for(var u=c.text.replace(/[\r\n]/g,"").length;u>l.nodeValue.length&&l.nextSibling;)u-=l.nodeValue.length,l=l.nextSibling;{l.nodeValue}t&&l.nextSibling&&dom.isText(l.nextSibling)&&u===l.nodeValue.length&&(u-=l.nodeValue.length,l=l.nextSibling),o=l,n=u}return{cont:o,offset:n}},t=function(e){var t=function(e,n){var i,o;if(dom.isText(e)){var r=dom.listPrev(e,func.not(dom.isText)),s=list.last(r).previousSibling;i=s||e.parentNode,n+=list.sum(list.tail(r),dom.nodeLength),o=!s}else{if(i=e.childNodes[n]||e,dom.isText(i))return t(i,0);n=0,o=!1}return{node:i,collapseToStart:o,offset:n}},n=document.body.createTextRange(),i=t(e.node,e.offset);return n.moveToElementText(i.node),n.collapse(i.collapseToStart),n.moveStart("character",i.offset),n},n=function(e,i,o,r){this.sc=e,this.so=i,this.ec=o,this.eo=r;var s=function(){if(agent.isW3CRangeSupport){var n=document.createRange();return n.setStart(e,i),n.setEnd(o,r),n}var s=t({node:e,offset:i});return s.setEndPoint("EndToEnd",t({node:o,offset:r})),s};this.getPoints=function(){return{sc:e,so:i,ec:o,eo:r}},this.getStartPoint=function(){return{node:e,offset:i}},this.getEndPoint=function(){return{node:o,offset:r}},this.select=function(){var e=s();if(agent.isW3CRangeSupport){var t=document.getSelection();t.rangeCount>0&&t.removeAllRanges(),t.addRange(e)}else e.select();return this},this.scrollIntoView=function(e){var t=$(e).height();return e.scrollTop+t<this.sc.offsetTop&&(e.scrollTop+=Math.abs(e.scrollTop+t-this.sc.offsetTop)),this},this.normalize=function(){var e=function(e,t){if(dom.isVisiblePoint(e)&&!dom.isEdgePoint(e)||dom.isVisiblePoint(e)&&dom.isRightEdgePoint(e)&&!t||dom.isVisiblePoint(e)&&dom.isLeftEdgePoint(e)&&t||dom.isVisiblePoint(e)&&dom.isBlock(e.node)&&dom.isEmpty(e.node))return e;var n=dom.ancestor(e.node,dom.isBlock);if((dom.isLeftEdgePointOf(e,n)||dom.isVoid(dom.prevPoint(e).node))&&!t||(dom.isRightEdgePointOf(e,n)||dom.isVoid(dom.nextPoint(e).node))&&t){if(dom.isVisiblePoint(e))return e;t=!t}var i=t?dom.nextPointUntil(dom.nextPoint(e),dom.isVisiblePoint):dom.prevPointUntil(dom.prevPoint(e),dom.isVisiblePoint);return i||e},t=e(this.getEndPoint(),!1),i=this.isCollapsed()?t:e(this.getStartPoint(),!0);return new n(i.node,i.offset,t.node,t.offset)},this.nodes=function(e,t){e=e||func.ok;var n=t&&t.includeAncestor,i=t&&t.fullyContains,o=this.getStartPoint(),r=this.getEndPoint(),s=[],a=[];return dom.walkPoint(o,r,function(t){if(!dom.isEditable(t.node)){var o;i?(dom.isLeftEdgePoint(t)&&a.push(t.node),dom.isRightEdgePoint(t)&&list.contains(a,t.node)&&(o=t.node)):o=n?dom.ancestor(t.node,e):t.node,o&&e(o)&&s.push(o)}},!0),list.unique(s)},this.commonAncestor=function(){return dom.commonAncestor(e,o)},this.expand=function(t){var s=dom.ancestor(e,t),a=dom.ancestor(o,t);if(!s&&!a)return new n(e,i,o,r);var l=this.getPoints();return s&&(l.sc=s,l.so=0),a&&(l.ec=a,l.eo=dom.nodeLength(a)),new n(l.sc,l.so,l.ec,l.eo)},this.collapse=function(t){return t?new n(e,i,e,i):new n(o,r,o,r)},this.splitText=function(){var t=e===o,s=this.getPoints();return dom.isText(o)&&!dom.isEdgePoint(this.getEndPoint())&&o.splitText(r),dom.isText(e)&&!dom.isEdgePoint(this.getStartPoint())&&(s.sc=e.splitText(i),s.so=0,t&&(s.ec=s.sc,s.eo=r-i)),new n(s.sc,s.so,s.ec,s.eo)},this.deleteContents=function(){if(this.isCollapsed())return this;var e=this.splitText(),t=e.nodes(null,{fullyContains:!0}),i=dom.prevPointUntil(e.getStartPoint(),function(e){return!list.contains(t,e.node)}),o=[];return $.each(t,function(e,t){var n=t.parentNode;i.node!==n&&1===dom.nodeLength(n)&&o.push(n),dom.remove(t,!1)}),$.each(o,function(e,t){dom.remove(t,!1)}),new n(i.node,i.offset,i.node,i.offset).normalize()};var a=function(t){return function(){var n=dom.ancestor(e,t);return!!n&&n===dom.ancestor(o,t)}};this.isOnEditable=a(dom.isEditable),this.isOnList=a(dom.isList),this.isOnAnchor=a(dom.isAnchor),this.isOnCell=a(dom.isCell),this.isOnData=a(dom.isData),this.isLeftEdgeOf=function(e){if(!dom.isLeftEdgePoint(this.getStartPoint()))return!1;var t=dom.ancestor(this.sc,e);return t&&dom.isLeftEdgeOf(this.sc,t)},this.isCollapsed=function(){return e===o&&i===r},this.wrapBodyInlineWithPara=function(){if(dom.isBodyContainer(e)&&dom.isEmpty(e))return e.innerHTML=dom.emptyPara,new n(e.firstChild,0,e.firstChild,0);var t=this.normalize();if(dom.isParaInline(e)||dom.isPara(e))return t;var i;if(dom.isInline(t.sc)){var o=dom.listAncestor(t.sc,func.not(dom.isInline));i=list.last(o),dom.isInline(i)||(i=o[o.length-2]||t.sc.childNodes[t.so])}else i=t.sc.childNodes[t.so>0?t.so-1:0];var r=dom.listPrev(i,dom.isParaInline).reverse();if(r=r.concat(dom.listNext(i.nextSibling,dom.isParaInline)),r.length){var s=dom.wrap(list.head(r),"p");dom.appendChildNodes(s,list.tail(r))}return this.normalize()},this.insertNode=function(e){var t=this.wrapBodyInlineWithPara().deleteContents(),n=dom.splitPoint(t.getStartPoint(),dom.isInline(e));return n.rightNode?n.rightNode.parentNode.insertBefore(e,n.rightNode):n.container.appendChild(e),e},this.pasteHTML=function(e){var t=$("<div></div>").html(e)[0],n=list.from(t.childNodes),i=this.wrapBodyInlineWithPara().deleteContents();return n.reverse().map(function(e){return i.insertNode(e)}).reverse()},this.toString=function(){var e=s();return agent.isW3CRangeSupport?e.toString():e.text},this.getWordRange=function(e){var t=this.getEndPoint();if(!dom.isCharPoint(t))return this;var i=dom.prevPointUntil(t,function(e){return!dom.isCharPoint(e)});return e&&(t=dom.nextPointUntil(t,function(e){return!dom.isCharPoint(e)})),new n(i.node,i.offset,t.node,t.offset)},this.bookmark=function(t){return{s:{path:dom.makeOffsetPath(t,e),offset:i},e:{path:dom.makeOffsetPath(t,o),offset:r}}},this.paraBookmark=function(t){return{s:{path:list.tail(dom.makeOffsetPath(list.head(t),e)),offset:i},e:{path:list.tail(dom.makeOffsetPath(list.last(t),o)),offset:r}}},this.getClientRects=function(){var e=s();return e.getClientRects()}};return{create:function(e,t,i,o){if(4===arguments.length)return new n(e,t,i,o);if(2===arguments.length)return i=e,o=t,new n(e,t,i,o);var r=this.createFromSelection();return r||1!==arguments.length?r:(r=this.createFromNode(arguments[0]),r.collapse(dom.emptyPara===arguments[0].innerHTML))},createFromSelection:function(){var t,i,o,r;if(agent.isW3CRangeSupport){var s=document.getSelection();if(!s||0===s.rangeCount)return null;if(dom.isBody(s.anchorNode))return null;var a=s.getRangeAt(0);t=a.startContainer,i=a.startOffset,o=a.endContainer,r=a.endOffset}else{var l=document.selection.createRange(),c=l.duplicate();c.collapse(!1);var u=l;u.collapse(!0);var d=e(u,!0),h=e(c,!1);dom.isText(d.node)&&dom.isLeftEdgePoint(d)&&dom.isTextNode(h.node)&&dom.isRightEdgePoint(h)&&h.node.nextSibling===d.node&&(d=h),t=d.cont,i=d.offset,o=h.cont,r=h.offset}return new n(t,i,o,r)},createFromNode:function(e){var t=e,n=0,i=e,o=dom.nodeLength(i);return dom.isVoid(t)&&(n=dom.listPrev(t).length-1,t=t.parentNode),dom.isBR(i)?(o=dom.listPrev(i).length-1,i=i.parentNode):dom.isVoid(i)&&(o=dom.listPrev(i).length,i=i.parentNode),this.create(t,n,i,o)},createFromNodeBefore:function(e){return this.createFromNode(e).collapse(!0)},createFromNodeAfter:function(e){return this.createFromNode(e).collapse()},createFromBookmark:function(e,t){var i=dom.fromOffsetPath(e,t.s.path),o=t.s.offset,r=dom.fromOffsetPath(e,t.e.path),s=t.e.offset;return new n(i,o,r,s)},createFromParaBookmark:function(e,t){var i=e.s.offset,o=e.e.offset,r=dom.fromOffsetPath(list.head(t),e.s.path),s=dom.fromOffsetPath(list.last(t),e.e.path);return new n(r,i,s,o)}}}(),async=function(){var e=function(e){return $.Deferred(function(t){$.extend(new FileReader,{onload:function(e){var n=e.target.result;t.resolve(n)},onerror:function(){t.reject(this)}}).readAsDataURL(e)}).promise()},t=function(e){return $.Deferred(function(t){var n=$("<img>");n.one("load",function(){n.off("error abort"),t.resolve(n)}).one("error abort",function(){n.off("load").detach(),t.reject(n)}).css({display:"none"}).appendTo(document.body).attr("src",e)}).promise()};return{readFileAsDataURL:e,createImage:t}}(),History=function(e){var t=[],n=-1,i=e[0],o=function(){var t=range.create(i),n={s:{path:[],offset:0},e:{path:[],offset:0}};return{contents:e.html(),bookmark:t?t.bookmark(i):n}},r=function(t){null!==t.contents&&e.html(t.contents),null!==t.bookmark&&range.createFromBookmark(i,t.bookmark).select()};this.rewind=function(){e.html()!==t[n].contents&&this.recordUndo(),n=0,r(t[n])},this.reset=function(){t=[],n=-1,e.html(""),this.recordUndo()},this.undo=function(){e.html()!==t[n].contents&&this.recordUndo(),n>0&&(n--,r(t[n]))},this.redo=function(){t.length-1>n&&(n++,r(t[n]))},this.recordUndo=function(){n++,t.length>n&&(t=t.slice(0,n)),t.push(o())}},Style=function(){var e=function(e,t){if(agent.jqueryVersion<1.9){var n={};return $.each(t,function(t,i){n[i]=e.css(i)}),n}return e.css.call(e,t)};this.fromNode=function(t){var n=["font-family","font-size","text-align","list-style-type","line-height"],i=e(t,n)||{};return i["font-size"]=parseInt(i["font-size"],10),i},this.stylePara=function(e,t){$.each(e.nodes(dom.isPara,{includeAncestor:!0}),function(e,n){$(n).css(t)})},this.styleNodes=function(e,t){e=e.splitText();var n=t&&t.nodeName||"SPAN",i=!(!t||!t.expandClosestSibling),o=!(!t||!t.onlyPartialContains);if(e.isCollapsed())return[e.insertNode(dom.create(n))];var r=dom.makePredByNodeName(n),s=e.nodes(dom.isText,{fullyContains:!0}).map(function(e){return dom.singleChildAncestor(e,r)||dom.wrap(e,n)});if(i){if(o){var a=e.nodes();r=func.and(r,function(e){return list.contains(a,e)})}return s.map(function(e){var t=dom.withClosestSiblings(e,r),n=list.head(t),i=list.tail(t);return $.each(i,function(e,t){dom.appendChildNodes(n,t.childNodes),dom.remove(t)}),list.head(t)})}return s},this.current=function(e){var t=$(dom.isElement(e.sc)?e.sc:e.sc.parentNode),n=this.fromNode(t);try{n=$.extend(n,{"font-bold":document.queryCommandState("bold")?"bold":"normal","font-italic":document.queryCommandState("italic")?"italic":"normal","font-underline":document.queryCommandState("underline")?"underline":"normal","font-subscript":document.queryCommandState("subscript")?"subscript":"normal","font-superscript":document.queryCommandState("superscript")?"superscript":"normal","font-strikethrough":document.queryCommandState("strikethrough")?"strikethrough":"normal","font-family":document.queryCommandValue("fontname")||n["font-family"]})}catch(i){}if(e.isOnList()){var o=["circle","disc","disc-leading-zero","square"],r=$.inArray(n["list-style-type"],o)>-1;n["list-style"]=r?"unordered":"ordered"}else n["list-style"]="none";var s=dom.ancestor(e.sc,dom.isPara);if(s&&s.style["line-height"])n["line-height"]=s.style.lineHeight;else{var a=parseInt(n["line-height"],10)/parseInt(n["font-size"],10);n["line-height"]=a.toFixed(1)}return n.anchor=e.isOnAnchor()&&dom.ancestor(e.sc,dom.isAnchor),n.ancestors=dom.listAncestor(e.sc,dom.isEditable),n.range=e,n}},Bullet=function(){var e=this;this.insertOrderedList=function(e){this.toggleList("OL",e)},this.insertUnorderedList=function(e){this.toggleList("UL",e)},this.indent=function(e){var t=this,n=range.create(e).wrapBodyInlineWithPara(),i=n.nodes(dom.isPara,{includeAncestor:!0}),o=list.clusterBy(i,func.peq2("parentNode"));$.each(o,function(e,n){var i=list.head(n);dom.isLi(i)?t.wrapList(n,i.parentNode.nodeName):$.each(n,function(e,t){$(t).css("marginLeft",function(e,t){return(parseInt(t,10)||0)+25})})}),n.select()},this.outdent=function(e){var t=this,n=range.create(e).wrapBodyInlineWithPara(),i=n.nodes(dom.isPara,{includeAncestor:!0}),o=list.clusterBy(i,func.peq2("parentNode"));$.each(o,function(e,n){var i=list.head(n);dom.isLi(i)?t.releaseList([n]):$.each(n,function(e,t){$(t).css("marginLeft",function(e,t){return t=parseInt(t,10)||0,t>25?t-25:""})})}),n.select()},this.toggleList=function(t,n){var i=range.create(n).wrapBodyInlineWithPara(),o=i.nodes(dom.isPara,{includeAncestor:!0}),r=i.paraBookmark(o),s=list.clusterBy(o,func.peq2("parentNode"));if(list.find(o,dom.isPurePara)){var a=[];$.each(s,function(n,i){a=a.concat(e.wrapList(i,t))}),o=a}else{var l=i.nodes(dom.isList,{includeAncestor:!0}).filter(function(e){return!$.nodeName(e,t)});l.length?$.each(l,function(e,n){dom.replace(n,t)}):o=this.releaseList(s,!0)}range.createFromParaBookmark(r,o).select()},this.wrapList=function(e,t){var n=list.head(e),i=list.last(e),o=dom.isList(n.previousSibling)&&n.previousSibling,r=dom.isList(i.nextSibling)&&i.nextSibling,s=o||dom.insertAfter(dom.create(t||"UL"),i);return e=e.map(function(e){return dom.isPurePara(e)?dom.replace(e,"LI"):e}),dom.appendChildNodes(s,e),r&&(dom.appendChildNodes(s,list.from(r.childNodes)),dom.remove(r)),e},this.releaseList=function(e,t){var n=[];return $.each(e,function(e,i){var o=list.head(i),r=list.last(i),s=t?dom.lastAncestor(o,dom.isList):o.parentNode,a=s.childNodes.length>1?dom.splitTree(s,{node:r.parentNode,offset:dom.position(r)+1},{isSkipPaddingBlankHTML:!0}):null,l=dom.splitTree(s,{node:o.parentNode,offset:dom.position(o)},{isSkipPaddingBlankHTML:!0});i=t?dom.listDescendant(l,dom.isLi):list.from(l.childNodes).filter(dom.isLi),(t||!dom.isList(s.parentNode))&&(i=i.map(function(e){return dom.replace(e,"P")})),$.each(list.from(i).reverse(),function(e,t){dom.insertAfter(t,s)});var c=list.compact([s,l,a]);$.each(c,function(e,t){var n=[t].concat(dom.listDescendant(t,dom.isList));$.each(n.reverse(),function(e,t){dom.nodeLength(t)||dom.remove(t,!0)})}),n=n.concat(i)}),n}},Typing=function(){var e=new Bullet;this.insertTab=function(e,t){var n=dom.createText(new Array(t+1).join(dom.NBSP_CHAR));e=e.deleteContents(),e.insertNode(n,!0),e=range.create(n,t),e.select()},this.insertParagraph=function(t){var n=range.create(t);n=n.deleteContents(),n=n.wrapBodyInlineWithPara();var i,o=dom.ancestor(n.sc,dom.isPara);if(o){if(dom.isEmpty(o)&&dom.isLi(o))return void e.toggleList(o.parentNode.nodeName);if(dom.isEmpty(o)&&dom.isPara(o)&&dom.isBlockquote(o.parentNode))dom.insertAfter(o,o.parentNode),i=o;else{i=dom.splitTree(o,n.getStartPoint());var r=dom.listDescendant(o,dom.isEmptyAnchor);r=r.concat(dom.listDescendant(i,dom.isEmptyAnchor)),$.each(r,function(e,t){dom.remove(t)}),(dom.isHeading(i)||dom.isPre(i)||dom.isCustomStyleTag(i))&&dom.isEmpty(i)&&(i=dom.replace(i,"p"))}}else{var s=n.sc.childNodes[n.so];i=$(dom.emptyPara)[0],s?n.sc.insertBefore(i,s):n.sc.appendChild(i)}range.create(i,0).normalize().select().scrollIntoView(t)}},TableResultAction=function(e,t,n,i){function o(){return!e||!e.tagName||"td"!==e.tagName.toLowerCase()&&"th"!==e.tagName.toLowerCase()?void console.error("Impossible to identify start Cell point.",e):(f.colPos=e.cellIndex,e.parentElement&&e.parentElement.tagName&&"tr"===e.parentElement.tagName.toLowerCase()?void(f.rowPos=e.parentElement.rowIndex):void console.error("Impossible to identify start Row point.",e))}function r(e,t,n,i,o,r,s){var a={baseRow:n,baseCell:i,isRowSpan:o,isColSpan:r,isVirtual:s};m[e]||(m[e]=[]),m[e][t]=a}function s(e,t,n,i){return{baseCell:e.baseCell,action:t,virtualTable:{rowIndex:n,cellIndex:i}}}function a(e,t){if(!m[e])return t;if(!m[e][t])return t;for(var n=t;m[e][n];)if(n++,!m[e][n])return n}function l(e,t){var n=a(e.rowIndex,t.cellIndex),i=t.colSpan>1,o=t.rowSpan>1,s=e.rowIndex===f.rowPos&&t.cellIndex===f.colPos;r(e.rowIndex,n,e,t,o,i,!1);var l=t.attributes.rowSpan?parseInt(t.attributes.rowSpan.value,10):0;if(l>1)for(var u=1;l>u;u++){var d=e.rowIndex+u;c(d,n,t,s),r(d,n,e,t,!0,i,!0)}var h=t.attributes.colSpan?parseInt(t.attributes.colSpan.value,10):0;if(h>1)for(var p=1;h>p;p++){var m=a(e.rowIndex,n+p);c(e.rowIndex,m,t,s),r(e.rowIndex,m,e,t,o,!0,!0)}}function c(e,t,n,i){e===f.rowPos&&f.colPos>=n.cellIndex&&n.cellIndex<=t&&!i&&f.colPos++}function u(){for(var e=i.rows,t=0;t<e.length;t++)for(var n=e[t].cells,o=0;o<n.length;o++)l(e[t],n[o])}function d(e){switch(t){case TableResultAction.where.Column:if(e.isColSpan)return TableResultAction.resultAction.SubtractSpanCount;break;case TableResultAction.where.Row:if(!e.isVirtual&&e.isRowSpan)return TableResultAction.resultAction.AddCell;if(e.isRowSpan)return TableResultAction.resultAction.SubtractSpanCount}return TableResultAction.resultAction.RemoveCell}function h(e){switch(t){case TableResultAction.where.Column:if(e.isColSpan)return TableResultAction.resultAction.SumSpanCount;if(e.isRowSpan&&e.isVirtual)return TableResultAction.resultAction.Ignore;break;case TableResultAction.where.Row:if(e.isRowSpan)return TableResultAction.resultAction.SumSpanCount;if(e.isColSpan&&e.isVirtual)return TableResultAction.resultAction.Ignore}return TableResultAction.resultAction.AddCell}function p(){o(),u()}var f={colPos:0,rowPos:0},m=[],g=[];this.getActionList=function(){for(var e=t===TableResultAction.where.Row?f.rowPos:-1,i=t===TableResultAction.where.Column?f.colPos:-1,o=0,r=!0;r;){var a=e>=0?e:o,l=i>=0?i:o,c=m[a];if(!c)return r=!1,g;var u=c[l];if(!u)return r=!1,g;var p=TableResultAction.resultAction.Ignore;switch(n){case TableResultAction.requestAction.Add:p=h(u);break;case TableResultAction.requestAction.Delete:p=d(u)}g.push(s(u,p,a,l)),o++}return g},p()};TableResultAction.where={Row:0,Column:1},TableResultAction.requestAction={Add:0,Delete:1},TableResultAction.resultAction={Ignore:0,SubtractSpanCount:1,RemoveCell:2,AddCell:3,SumSpanCount:4};var Table=function(){this.tab=function(e,t){var n=dom.ancestor(e.commonAncestor(),dom.isCell),i=dom.ancestor(n,dom.isTable),o=dom.listDescendant(i,dom.isCell),r=list[t?"prev":"next"](o,n);r&&range.create(r,0).select()},this.addRow=function(e,t){for(var n=dom.ancestor(e.commonAncestor(),dom.isCell),i=$(n).closest("tr"),o=this.recoverAttributes(i),r=$("<tr"+o+"></tr>"),s=new TableResultAction(n,TableResultAction.where.Row,TableResultAction.requestAction.Add,$(i).closest("table")[0]),a=s.getActionList(),l=0;l<a.length;l++){var c=a[l],u=this.recoverAttributes(c.baseCell);switch(c.action){case TableResultAction.resultAction.AddCell:r.append("<td"+u+">"+dom.blank+"</td>");break;case TableResultAction.resultAction.SumSpanCount:if("top"===t){var d=c.baseCell.parent,h=(d?c.baseCell.closest("tr").rowIndex:0)<=i[0].rowIndex;if(h){var p=$("<div></div>").append($("<td"+u+">"+dom.blank+"</td>").removeAttr("rowspan")).html();r.append(p);break}}var f=parseInt(c.baseCell.rowSpan,10);f++,c.baseCell.setAttribute("rowSpan",f)}}if("top"===t)i.before(r);else{var m=n.rowSpan>1;if(m){var g=i[0].rowIndex+(n.rowSpan-2);return void $($(i).parent().find("tr")[g]).after($(r))}i.after(r)}},this.addCol=function(e,t){var n=dom.ancestor(e.commonAncestor(),dom.isCell),i=$(n).closest("tr"),o=$(i).siblings();o.push(i);for(var r=new TableResultAction(n,TableResultAction.where.Column,TableResultAction.requestAction.Add,$(i).closest("table")[0]),s=r.getActionList(),a=0;a<s.length;a++){var l=s[a],c=this.recoverAttributes(l.baseCell);switch(l.action){case TableResultAction.resultAction.AddCell:"right"===t?$(l.baseCell).after("<td"+c+">"+dom.blank+"</td>"):$(l.baseCell).before("<td"+c+">"+dom.blank+"</td>");break;case TableResultAction.resultAction.SumSpanCount:if("right"===t){var u=parseInt(l.baseCell.colSpan,10);u++,l.baseCell.setAttribute("colSpan",u)}else $(l.baseCell).before("<td"+c+">"+dom.blank+"</td>")}}},this.recoverAttributes=function(e){var t="";if(!e)return t;for(var n=e.attributes||[],i=0;i<n.length;i++)"id"!==n[i].name.toLowerCase()&&n[i].specified&&(t+=" "+n[i].name+"='"+n[i].value+"'");return t},this.deleteRow=function(e){for(var t=dom.ancestor(e.commonAncestor(),dom.isCell),n=$(t).closest("tr"),i=n.children("td, th").index($(t)),o=n[0].rowIndex,r=new TableResultAction(t,TableResultAction.where.Row,TableResultAction.requestAction.Delete,$(n).closest("table")[0]),s=r.getActionList(),a=0;a<s.length;a++)if(s[a]){var l=s[a].baseCell,c=s[a].virtualTable,u=l.rowSpan&&l.rowSpan>1,d=u?parseInt(l.rowSpan,10):0;switch(s[a].action){case TableResultAction.resultAction.Ignore:continue;case TableResultAction.resultAction.AddCell:var h=n.next("tr")[0];if(!h)continue;var p=n[0].cells[i];u&&(d>2?(d--,h.insertBefore(p,h.cells[i]),h.cells[i].setAttribute("rowSpan",d),h.cells[i].innerHTML=""):2===d&&(h.insertBefore(p,h.cells[i]),h.cells[i].removeAttribute("rowSpan"),h.cells[i].innerHTML=""));continue;case TableResultAction.resultAction.SubtractSpanCount:u&&(d>2?(d--,l.setAttribute("rowSpan",d),c.rowIndex!==o&&l.cellIndex===i&&(l.innerHTML="")):2===d&&(l.removeAttribute("rowSpan"),c.rowIndex!==o&&l.cellIndex===i&&(l.innerHTML="")));continue;case TableResultAction.resultAction.RemoveCell:continue}}n.remove()},this.deleteCol=function(e){for(var t=dom.ancestor(e.commonAncestor(),dom.isCell),n=$(t).closest("tr"),i=n.children("td, th").index($(t)),o=new TableResultAction(t,TableResultAction.where.Column,TableResultAction.requestAction.Delete,$(n).closest("table")[0]),r=o.getActionList(),s=0;s<r.length;s++)if(r[s])switch(r[s].action){case TableResultAction.resultAction.Ignore:continue;case TableResultAction.resultAction.SubtractSpanCount:var a=r[s].baseCell,l=a.colSpan&&a.colSpan>1;if(l){var c=a.colSpan?parseInt(a.colSpan,10):0;c>2?(c--,a.setAttribute("colSpan",c),a.cellIndex===i&&(a.innerHTML="")):2===c&&(a.removeAttribute("colSpan"),a.cellIndex===i&&(a.innerHTML=""))}continue;case TableResultAction.resultAction.RemoveCell:dom.remove(r[s].baseCell,!0);continue}},this.createTable=function(e,t,n){for(var i,o=[],r=0;e>r;r++)o.push("<td>"+dom.blank+"</td>");i=o.join("");for(var s,a=[],l=0;t>l;l++)a.push("<tr>"+i+"</tr>");s=a.join("");var c=$("<table>"+s+"</table>");return n&&n.tableClassName&&c.addClass(n.tableClassName),c[0]},this.deleteTable=function(e){var t=dom.ancestor(e.commonAncestor(),dom.isCell);$(t).closest("table").remove()}},KEY_BOGUS="bogus",Editor=function(e){var t=this,n=e.layoutInfo.note,i=e.layoutInfo.editor,o=e.layoutInfo.editable,r=e.options,s=r.langInfo,a=o[0],l=null,c=new Style,u=new Table,d=new Typing,h=new Bullet,p=new History(o);this.initialize=function(){o.on("keydown",function(n){n.keyCode===key.code.ENTER&&e.triggerEvent("enter",n),e.triggerEvent("keydown",n),n.isDefaultPrevented()||(r.shortcuts?t.handleKeyMap(n):t.preventDefaultEditableShortCuts(n))}).on("keyup",function(t){e.triggerEvent("keyup",t)}).on("focus",function(t){e.triggerEvent("focus",t)}).on("blur",function(t){e.triggerEvent("blur",t)}).on("mousedown",function(t){e.triggerEvent("mousedown",t)}).on("mouseup",function(t){e.triggerEvent("mouseup",t)}).on("scroll",function(t){e.triggerEvent("scroll",t)}).on("paste",function(t){e.triggerEvent("paste",t)}),o.html(dom.html(n)||dom.emptyPara);var s=agent.isMSIE?"DOMCharacterDataModified DOMSubtreeModified DOMNodeInserted":"input";o.on(s,func.debounce(function(){e.triggerEvent("change",o.html())},250)),i.on("focusin",function(t){e.triggerEvent("focusin",t)}).on("focusout",function(t){e.triggerEvent("focusout",t)}),r.airMode||(r.width&&i.outerWidth(r.width),r.height&&o.outerHeight(r.height),r.maxHeight&&o.css("max-height",r.maxHeight),r.minHeight&&o.css("min-height",r.minHeight)),p.recordUndo()},this.destroy=function(){o.off()},this.handleKeyMap=function(t){var n=r.keyMap[agent.isMac?"mac":"pc"],i=[];t.metaKey&&i.push("CMD"),t.ctrlKey&&!t.altKey&&i.push("CTRL"),t.shiftKey&&i.push("SHIFT");var o=key.nameFromCode[t.keyCode];o&&i.push(o);var s=n[i.join("+")];s?(t.preventDefault(),e.invoke(s)):key.isEdit(t.keyCode)&&this.afterCommand()},this.preventDefaultEditableShortCuts=function(e){(e.ctrlKey||e.metaKey)&&list.contains([66,73,85],e.keyCode)&&e.preventDefault()},this.createRange=function(){return this.focus(),range.create(a)},this.saveRange=function(e){l=this.createRange(),e&&l.collapse().select()},this.restoreRange=function(){l&&(l.select(),this.focus())},this.saveTarget=function(e){o.data("target",e)},this.clearTarget=function(){o.removeData("target")},this.restoreTarget=function(){return o.data("target")},this.currentStyle=function(){var e=range.create();return e&&(e=e.normalize()),e?c.current(e):c.fromNode(o)},this.styleFromNode=function(e){return c.fromNode(e)},this.undo=function(){e.triggerEvent("before.command",o.html()),p.undo(),e.triggerEvent("change",o.html())},e.memo("help.undo",s.help.undo),this.redo=function(){e.triggerEvent("before.command",o.html()),p.redo(),e.triggerEvent("change",o.html())},e.memo("help.redo",s.help.redo);for(var f=this.beforeCommand=function(){e.triggerEvent("before.command",o.html()),t.focus()},m=this.afterCommand=function(t){p.recordUndo(),t||e.triggerEvent("change",o.html())},g=["bold","italic","underline","strikethrough","superscript","subscript","justifyLeft","justifyCenter","justifyRight","justifyFull","formatBlock","removeFormat","backColor","foreColor","fontName"],v=0,y=g.length;y>v;v++)this[g[v]]=function(e){return function(t){f(),document.execCommand(e,!1,t),m(!0)}}(g[v]),e.memo("help."+g[v],s.help[g[v]]);this.tab=function(){var e=this.createRange();e.isCollapsed()&&e.isOnCell()?u.tab(e):(f(),d.insertTab(e,r.tabSize),m())},e.memo("help.tab",s.help.tab),this.untab=function(){var e=this.createRange();e.isCollapsed()&&e.isOnCell()&&u.tab(e,!0)},e.memo("help.untab",s.help.untab),this.wrapCommand=function(e){return function(){f(),e.apply(t,arguments),m()}},this.insertParagraph=this.wrapCommand(function(){d.insertParagraph(a)}),e.memo("help.insertParagraph",s.help.insertParagraph),this.insertOrderedList=this.wrapCommand(function(){h.insertOrderedList(a)}),e.memo("help.insertOrderedList",s.help.insertOrderedList),this.insertUnorderedList=this.wrapCommand(function(){h.insertUnorderedList(a)}),e.memo("help.insertUnorderedList",s.help.insertUnorderedList),this.indent=this.wrapCommand(function(){h.indent(a)}),e.memo("help.indent",s.help.indent),this.outdent=this.wrapCommand(function(){h.outdent(a)}),e.memo("help.outdent",s.help.outdent),this.insertImage=function(t,n){return async.createImage(t,n).then(function(e){f(),"function"==typeof n?n(e):("string"==typeof n&&e.attr("data-filename",n),e.css("width",Math.min(o.width(),e.width()))),e.show(),range.create(a).insertNode(e[0]),range.createFromNodeAfter(e[0]).select(),m()}).fail(function(t){e.triggerEvent("image.upload.error",t)})},this.insertImages=function(n){$.each(n,function(n,i){var o=i.name;r.maximumImageFileSize&&r.maximumImageFileSize<i.size?e.triggerEvent("image.upload.error",s.image.maximumFileSizeError):async.readFileAsDataURL(i).then(function(e){return t.insertImage(e,o)}).fail(function(){e.triggerEvent("image.upload.error")})})},this.insertImagesOrCallback=function(t){var n=r.callbacks;n.onImageUpload?e.triggerEvent("image.upload",t):this.insertImages(t)},this.insertNode=this.wrapCommand(function(e){var t=this.createRange();t.insertNode(e),range.createFromNodeAfter(e).select()}),this.insertText=this.wrapCommand(function(e){var t=this.createRange(),n=t.insertNode(dom.createText(e));range.create(n,dom.nodeLength(n)).select()}),this.getSelectedText=function(){var e=this.createRange();return e.isOnAnchor()&&(e=range.createFromNode(dom.ancestor(e.sc,dom.isAnchor))),e.toString()},this.pasteHTML=this.wrapCommand(function(e){var t=this.createRange().pasteHTML(e);range.createFromNodeAfter(list.last(t)).select()}),this.formatBlock=this.wrapCommand(function(t,n){var i=e.options.callbacks.onApplyCustomStyle;i?i.call(this,n,e,this.onFormatBlock):this.onFormatBlock(t)}),this.onFormatBlock=function(e){e=agent.isMSIE?"<"+e+">":e,document.execCommand("FormatBlock",!1,e)},this.formatPara=function(){this.formatBlock("P")},e.memo("help.formatPara",s.help.formatPara);for(var v=1;6>=v;v++)this["formatH"+v]=function(e){return function(){this.formatBlock("H"+e)}}(v),e.memo("help.formatH"+v,s.help["formatH"+v]);this.fontSize=function(e){var t=this.createRange();if(t&&t.isCollapsed()){var n=c.styleNodes(t),i=list.head(n);$(n).css({"font-size":e+"px"}),i&&!dom.nodeLength(i)&&(i.innerHTML=dom.ZERO_WIDTH_NBSP_CHAR,range.createFromNodeAfter(i.firstChild).select(),o.data(KEY_BOGUS,i))}else f(),$(c.styleNodes(t)).css({"font-size":e+"px"}),m()},this.insertHorizontalRule=this.wrapCommand(function(){var e=this.createRange().insertNode(dom.create("HR"));e.nextSibling&&range.create(e.nextSibling,0).normalize().select()}),e.memo("help.insertHorizontalRule",s.help.insertHorizontalRule),this.removeBogus=function(){var e=o.data(KEY_BOGUS);if(e){var t=list.find(list.from(e.childNodes),dom.isText),n=t.nodeValue.indexOf(dom.ZERO_WIDTH_NBSP_CHAR);-1!==n&&t.deleteData(n,1),dom.isEmpty(e)&&dom.remove(e),o.removeData(KEY_BOGUS)}},this.lineHeight=this.wrapCommand(function(e){c.stylePara(this.createRange(),{lineHeight:e})}),this.unlink=function(){var e=this.createRange();if(e.isOnAnchor()){var t=dom.ancestor(e.sc,dom.isAnchor);e=range.createFromNode(t),e.select(),f(),document.execCommand("unlink"),m()}},this.createLink=this.wrapCommand(function(e){var t=e.url,n=e.text,i=e.isNewWindow,o=e.range||this.createRange(),s=o.toString()!==n;"string"==typeof t&&(t=t.trim()),t=r.onCreateLink?r.onCreateLink(t):/^[A-Za-z][A-Za-z0-9+-.]*\:[\/\/]?/.test(t)?t:"http://"+t;var a=[];if(s){o=o.deleteContents();var l=o.insertNode($("<A>"+n+"</A>")[0]);a.push(l)}else a=c.styleNodes(o,{nodeName:"A",expandClosestSibling:!0,onlyPartialContains:!0});$.each(a,function(e,n){$(n).attr("href",t),i?$(n).attr("target","_blank"):$(n).removeAttr("target")});var u=range.createFromNodeBefore(list.head(a)),d=u.getStartPoint(),h=range.createFromNodeAfter(list.last(a)),p=h.getEndPoint();range.create(d.node,d.offset,p.node,p.offset).select()}),this.getLinkInfo=function(){var e=this.createRange().expand(dom.isAnchor),t=$(list.head(e.nodes(dom.isAnchor))),n={range:e,text:e.toString(),url:t.length?t.attr("href"):""};return t.length&&(n.isNewWindow="_blank"===t.attr("target")),n},this.color=this.wrapCommand(function(e){var t=e.foreColor,n=e.backColor;t&&document.execCommand("foreColor",!1,t),n&&document.execCommand("backColor",!1,n)}),this.insertTable=this.wrapCommand(function(e){var t=e.split("x"),n=this.createRange().deleteContents();n.insertNode(u.createTable(t[0],t[1],r))}),this.addRow=function(e){var t=this.createRange(o);t.isCollapsed()&&t.isOnCell()&&(f(),u.addRow(t,e),m())},this.addCol=function(e){var t=this.createRange(o);t.isCollapsed()&&t.isOnCell()&&(f(),u.addCol(t,e),m())},this.deleteRow=function(){var e=this.createRange(o);e.isCollapsed()&&e.isOnCell()&&(f(),u.deleteRow(e),m())},this.deleteCol=function(){var e=this.createRange(o);e.isCollapsed()&&e.isOnCell()&&(f(),u.deleteCol(e),m())},this.deleteTable=function(){var e=this.createRange(o);e.isCollapsed()&&e.isOnCell()&&(f(),u.deleteTable(e),m())},this.floatMe=this.wrapCommand(function(e){var t=$(this.restoreTarget());t.toggleClass("note-float-left","left"===e),t.toggleClass("note-float-right","right"===e),t.css("float",e)}),this.resize=this.wrapCommand(function(e){var t=$(this.restoreTarget());t.css({width:100*e+"%",height:""})}),this.resizeTo=function(e,t,n){var i;if(n){var o=e.y/e.x,r=t.data("ratio");i={width:r>o?e.x:e.y/r,height:r>o?e.x*r:e.y}}else i={width:e.x,height:e.y};t.css(i)},this.removeMedia=this.wrapCommand(function(){var t=$(this.restoreTarget()).detach();e.triggerEvent("media.delete",t,o)}),this.hasFocus=function(){return o.is(":focus")},this.focus=function(){this.hasFocus()||o.focus()},this.isEmpty=function(){return dom.isEmpty(o[0])||dom.emptyPara===o.html()
},this.empty=function(){e.invoke("code",dom.emptyPara)}},Clipboard=function(e){var t=this,n=e.layoutInfo.editable;this.events={"summernote.keydown":function(n,i){t.needKeydownHook()&&(i.ctrlKey||i.metaKey)&&i.keyCode===key.code.V&&(e.invoke("editor.saveRange"),t.$paste.focus(),setTimeout(function(){t.pasteByHook()},0))}},this.needKeydownHook=function(){return agent.isMSIE&&agent.browserVersion>10||agent.isFF},this.initialize=function(){this.needKeydownHook()?(this.$paste=$('<div tabindex="-1" />').attr("contenteditable",!0).css({position:"absolute",left:-1e5,opacity:0}),n.before(this.$paste),this.$paste.on("paste",function(t){e.triggerEvent("paste",t)})):n.on("paste",this.pasteByEvent)},this.destroy=function(){this.needKeydownHook()&&(this.$paste.remove(),this.$paste=null)},this.pasteByHook=function(){var t=this.$paste[0].firstChild,n=t&&t.src;if(dom.isImg(t)&&0===n.indexOf("data:")){for(var i=atob(t.src.split(",")[1]),o=new Uint8Array(i.length),r=0;r<i.length;r++)o[r]=i.charCodeAt(r);var s=new Blob([o],{type:"image/png"});s.name="clipboard.png",e.invoke("editor.restoreRange"),e.invoke("editor.focus"),e.invoke("editor.insertImagesOrCallback",[s])}else{var a=$("<div />").html(this.$paste.html()).html();e.invoke("editor.restoreRange"),e.invoke("editor.focus"),a&&e.invoke("editor.pasteHTML",a)}this.$paste.empty()},this.pasteByEvent=function(t){var n=t.originalEvent.clipboardData;if(n&&n.items&&n.items.length){var i=list.head(n.items);"file"===i.kind&&-1!==i.type.indexOf("image/")&&e.invoke("editor.insertImagesOrCallback",[i.getAsFile()]),e.invoke("editor.afterCommand")}}},Dropzone=function(e){var t=$(document),n=e.layoutInfo.editor,i=e.layoutInfo.editable,o=e.options,r=o.langInfo,s={},a=$(['<div class="note-dropzone">','  <div class="note-dropzone-message"/>',"</div>"].join("")).prependTo(n),l=function(){Object.keys(s).forEach(function(e){t.off(e.substr(2).toLowerCase(),s[e])}),s={}};this.initialize=function(){o.disableDragAndDrop?(s.onDrop=function(e){e.preventDefault()},t.on("drop",s.onDrop)):this.attachDragAndDropEvent()},this.attachDragAndDropEvent=function(){var o=$(),l=a.find(".note-dropzone-message");s.onDragenter=function(t){var i=e.invoke("codeview.isActivated"),s=n.width()>0&&n.height()>0;i||o.length||!s||(n.addClass("dragover"),a.width(n.width()),a.height(n.height()),l.text(r.image.dragImageHere)),o=o.add(t.target)},s.onDragleave=function(e){o=o.not(e.target),o.length||n.removeClass("dragover")},s.onDrop=function(){o=$(),n.removeClass("dragover")},t.on("dragenter",s.onDragenter).on("dragleave",s.onDragleave).on("drop",s.onDrop),a.on("dragenter",function(){a.addClass("hover"),l.text(r.image.dropImage)}).on("dragleave",function(){a.removeClass("hover"),l.text(r.image.dragImageHere)}),a.on("drop",function(t){var n=t.originalEvent.dataTransfer;n&&n.files&&n.files.length?(t.preventDefault(),i.focus(),e.invoke("editor.insertImagesOrCallback",n.files)):$.each(n.types,function(t,i){var o=n.getData(i);i.toLowerCase().indexOf("text")>-1?e.invoke("editor.pasteHTML",o):$(o).each(function(){e.invoke("editor.insertNode",this)})})}).on("dragover",!1)},this.destroy=function(){l()}},CodeMirror;agent.hasCodeMirror&&(agent.isSupportAmd?require(["codemirror"],function(e){CodeMirror=e}):CodeMirror=window.CodeMirror);var Codeview=function(e){var t=e.layoutInfo.editor,n=e.layoutInfo.editable,i=e.layoutInfo.codable,o=e.options;this.sync=function(){var e=this.isActivated();e&&agent.hasCodeMirror&&i.data("cmEditor").save()},this.isActivated=function(){return t.hasClass("codeview")},this.toggle=function(){this.isActivated()?this.deactivate():this.activate(),e.triggerEvent("codeview.toggled")},this.activate=function(){if(i.val(dom.html(n,o.prettifyHtml)),i.height(n.height()),e.invoke("toolbar.updateCodeview",!0),t.addClass("codeview"),i.focus(),agent.hasCodeMirror){var r=CodeMirror.fromTextArea(i[0],o.codemirror);if(o.codemirror.tern){var s=new CodeMirror.TernServer(o.codemirror.tern);r.ternServer=s,r.on("cursorActivity",function(e){s.updateArgHints(e)})}r.setSize(null,n.outerHeight()),i.data("cmEditor",r)}},this.deactivate=function(){if(agent.hasCodeMirror){var r=i.data("cmEditor");i.val(r.getValue()),r.toTextArea()}var s=dom.value(i,o.prettifyHtml)||dom.emptyPara,a=n.html()!==s;n.html(s),n.height(o.height?i.height():"auto"),t.removeClass("codeview"),a&&e.triggerEvent("change",n.html(),n),n.focus(),e.invoke("toolbar.updateCodeview",!1)},this.destroy=function(){this.isActivated()&&this.deactivate()}},EDITABLE_PADDING=24,Statusbar=function(e){var t=$(document),n=e.layoutInfo.statusbar,i=e.layoutInfo.editable,o=e.options;this.initialize=function(){return o.airMode||o.disableResizeEditor?void this.destroy():void n.on("mousedown",function(e){e.preventDefault(),e.stopPropagation();var n=i.offset().top-t.scrollTop(),r=function(e){var t=e.clientY-(n+EDITABLE_PADDING);t=o.minheight>0?Math.max(t,o.minheight):t,t=o.maxHeight>0?Math.min(t,o.maxHeight):t,i.height(t)};t.on("mousemove",r).one("mouseup",function(){t.off("mousemove",r)})})},this.destroy=function(){n.off(),n.remove()}},Fullscreen=function(e){var t=this,n=e.layoutInfo.editor,i=e.layoutInfo.toolbar,o=e.layoutInfo.editable,r=e.layoutInfo.codable,s=$(window),a=$("html, body");this.resizeTo=function(e){o.css("height",e.h),r.css("height",e.h),r.data("cmeditor")&&r.data("cmeditor").setsize(null,e.h)},this.onResize=function(){t.resizeTo({h:s.height()-i.outerHeight()})},this.toggle=function(){n.toggleClass("fullscreen"),this.isFullscreen()?(o.data("orgHeight",o.css("height")),s.on("resize",this.onResize).trigger("resize"),a.css("overflow","hidden")):(s.off("resize",this.onResize),this.resizeTo({h:o.data("orgHeight")}),a.css("overflow","visible")),e.invoke("toolbar.updateFullscreen",this.isFullscreen())},this.isFullscreen=function(){return n.hasClass("fullscreen")}},Handle=function(e){var t=this,n=$(document),i=e.layoutInfo.editingArea,o=e.options;this.events={"summernote.mousedown":function(e,n){t.update(n.target)&&n.preventDefault()},"summernote.keyup summernote.scroll summernote.change summernote.dialog.shown":function(){t.update()},"summernote.disable":function(){t.hide()},"summernote.codeview.toggled":function(){t.update()}},this.initialize=function(){this.$handle=$(['<div class="note-handle">','<div class="note-control-selection">','<div class="note-control-selection-bg"></div>','<div class="note-control-holder note-control-nw"></div>','<div class="note-control-holder note-control-ne"></div>','<div class="note-control-holder note-control-sw"></div>','<div class="',o.disableResizeImage?"note-control-holder":"note-control-sizing",' note-control-se"></div>',o.disableResizeImage?"":'<div class="note-control-selection-info"></div>',"</div>","</div>"].join("")).prependTo(i),this.$handle.on("mousedown",function(i){if(dom.isControlSizing(i.target)){i.preventDefault(),i.stopPropagation();var o=t.$handle.find(".note-control-selection").data("target"),r=o.offset(),s=n.scrollTop(),a=function(n){e.invoke("editor.resizeTo",{x:n.clientX-r.left,y:n.clientY-(r.top-s)},o,!n.shiftKey),t.update(o[0])};n.on("mousemove",a).one("mouseup",function(t){t.preventDefault(),n.off("mousemove",a),e.invoke("editor.afterCommand")}),o.data("ratio")||o.data("ratio",o.height()/o.width())}}),this.$handle.on("wheel",function(e){e.preventDefault(),t.update()})},this.destroy=function(){this.$handle.remove()},this.update=function(t){if(e.isDisabled())return!1;var n=dom.isImg(t),i=this.$handle.find(".note-control-selection");if(e.invoke("imagePopover.update",t),n){var o=$(t),r=o.position(),s={left:r.left+parseInt(o.css("marginLeft"),10),top:r.top+parseInt(o.css("marginTop"),10)},a={w:o.outerWidth(!1),h:o.outerHeight(!1)};i.css({display:"block",left:s.left,top:s.top,width:a.w,height:a.h}).data("target",o);var l=a.w+"x"+a.h;i.find(".note-control-selection-info").text(l),e.invoke("editor.saveTarget",t)}else this.hide();return n},this.hide=function(){e.invoke("editor.clearTarget"),this.$handle.children().hide()}},AutoLink=function(e){var t=this,n="http://",i=/^([A-Za-z][A-Za-z0-9+-.]*\:[\/\/]?|mailto:[A-Z0-9._%+-]+@)?(www\.)?(.+)$/i;this.events={"summernote.keyup":function(e,n){n.isDefaultPrevented()||t.handleKeyup(n)},"summernote.keydown":function(e,n){t.handleKeydown(n)}},this.initialize=function(){this.lastWordRange=null},this.destroy=function(){this.lastWordRange=null},this.replace=function(){if(this.lastWordRange){var t=this.lastWordRange.toString(),o=t.match(i);if(o&&(o[1]||o[2])){var r=o[1]?t:n+t,s=$("<a />").html(t).attr("href",r)[0];this.lastWordRange.insertNode(s),this.lastWordRange=null,e.invoke("editor.focus")}}},this.handleKeydown=function(t){if(list.contains([key.code.ENTER,key.code.SPACE],t.keyCode)){var n=e.invoke("editor.createRange").getWordRange();this.lastWordRange=n}},this.handleKeyup=function(e){list.contains([key.code.ENTER,key.code.SPACE],e.keyCode)&&this.replace()}},AutoSync=function(e){var t=e.layoutInfo.note;this.events={"summernote.change":function(){t.val(e.invoke("code"))}},this.shouldInitialize=function(){return dom.isTextarea(t[0])}},Placeholder=function(e){var t=this,n=e.layoutInfo.editingArea,i=e.options;this.events={"summernote.init summernote.change":function(){t.update()},"summernote.codeview.toggled":function(){t.update()}},this.shouldInitialize=function(){return!!i.placeholder},this.initialize=function(){this.$placeholder=$('<div class="note-placeholder">'),this.$placeholder.on("click",function(){e.invoke("focus")}).text(i.placeholder).prependTo(n)},this.destroy=function(){this.$placeholder.remove()},this.update=function(){var t=!e.invoke("codeview.isActivated")&&e.invoke("editor.isEmpty");this.$placeholder.toggle(t)}},Buttons=function(e){var t=this,n=$.summernote.ui,i=e.layoutInfo.toolbar,o=e.options,r=o.langInfo,s=func.invertObject(o.keyMap[agent.isMac?"mac":"pc"]),a=this.representShortcut=function(e){var t=s[e];return o.shortcuts&&t?(agent.isMac&&(t=t.replace("CMD","⌘").replace("SHIFT","⇧")),t=t.replace("BACKSLASH","\\").replace("SLASH","/").replace("LEFTBRACKET","[").replace("RIGHTBRACKET","]")," ("+t+")"):""};this.initialize=function(){this.addToolbarButtons(),this.addImagePopoverButtons(),this.addLinkPopoverButtons(),this.addTablePopoverButtons(),this.fontInstalledMap={}},this.destroy=function(){delete this.fontInstalledMap},this.isFontInstalled=function(e){return t.fontInstalledMap.hasOwnProperty(e)||(t.fontInstalledMap[e]=agent.isFontInstalled(e)||list.contains(o.fontNamesIgnoreCheck,e)),t.fontInstalledMap[e]},this.addToolbarButtons=function(){e.memo("button.style",function(){return n.buttonGroup([n.button({className:"dropdown-toggle",contents:n.icon(o.icons.magic)+" "+n.icon(o.icons.caret,"span"),tooltip:r.style.style,data:{toggle:"dropdown"}}),n.dropdown({className:"dropdown-style",items:e.options.styleTags,template:function(e){"string"==typeof e&&(e={tag:e,title:r.style.hasOwnProperty(e)?r.style[e]:e});var t=e.tag,n=e.title,i=e.style?' style="'+e.style+'" ':"",o=e.className?' class="'+e.className+'"':"";return"<"+t+i+o+">"+n+"</"+t+">"},click:e.createInvokeHandler("editor.formatBlock")})]).render()}),e.memo("button.bold",function(){return n.button({className:"note-btn-bold",contents:n.icon(o.icons.bold),tooltip:r.font.bold+a("bold"),click:e.createInvokeHandlerAndUpdateState("editor.bold")}).render()}),e.memo("button.italic",function(){return n.button({className:"note-btn-italic",contents:n.icon(o.icons.italic),tooltip:r.font.italic+a("italic"),click:e.createInvokeHandlerAndUpdateState("editor.italic")}).render()}),e.memo("button.underline",function(){return n.button({className:"note-btn-underline",contents:n.icon(o.icons.underline),tooltip:r.font.underline+a("underline"),click:e.createInvokeHandlerAndUpdateState("editor.underline")}).render()}),e.memo("button.clear",function(){return n.button({contents:n.icon(o.icons.eraser),tooltip:r.font.clear+a("removeFormat"),click:e.createInvokeHandler("editor.removeFormat")}).render()}),e.memo("button.strikethrough",function(){return n.button({className:"note-btn-strikethrough",contents:n.icon(o.icons.strikethrough),tooltip:r.font.strikethrough+a("strikethrough"),click:e.createInvokeHandlerAndUpdateState("editor.strikethrough")}).render()}),e.memo("button.superscript",function(){return n.button({className:"note-btn-superscript",contents:n.icon(o.icons.superscript),tooltip:r.font.superscript,click:e.createInvokeHandlerAndUpdateState("editor.superscript")}).render()}),e.memo("button.subscript",function(){return n.button({className:"note-btn-subscript",contents:n.icon(o.icons.subscript),tooltip:r.font.subscript,click:e.createInvokeHandlerAndUpdateState("editor.subscript")}).render()}),e.memo("button.fontname",function(){return n.buttonGroup([n.button({className:"dropdown-toggle",contents:'<span class="note-current-fontname"/> '+n.icon(o.icons.caret,"span"),tooltip:r.font.name,data:{toggle:"dropdown"}}),n.dropdownCheck({className:"dropdown-fontname",checkClassName:o.icons.menuCheck,items:o.fontNames.filter(t.isFontInstalled),template:function(e){return'<span style="font-family:'+e+'">'+e+"</span>"},click:e.createInvokeHandlerAndUpdateState("editor.fontName")})]).render()}),e.memo("button.fontsize",function(){return n.buttonGroup([n.button({className:"dropdown-toggle",contents:'<span class="note-current-fontsize"/>'+n.icon(o.icons.caret,"span"),tooltip:r.font.size,data:{toggle:"dropdown"}}),n.dropdownCheck({className:"dropdown-fontsize",checkClassName:o.icons.menuCheck,items:o.fontSizes,click:e.createInvokeHandler("editor.fontSize")})]).render()}),e.memo("button.color",function(){return n.buttonGroup({className:"note-color",children:[n.button({className:"note-current-color-button",contents:n.icon(o.icons.font+" note-recent-color"),tooltip:r.color.recent,click:function(t){var n=$(t.currentTarget);e.invoke("editor.color",{backColor:n.attr("data-backColor"),foreColor:n.attr("data-foreColor")})},callback:function(e){var t=e.find(".note-recent-color");t.css("background-color","#FFFF00"),e.attr("data-backColor","#FFFF00")}}),n.button({className:"dropdown-toggle",contents:n.icon(o.icons.caret,"span"),tooltip:r.color.more,data:{toggle:"dropdown"}}),n.dropdown({items:["<li>",'<div class="btn-group">','  <div class="note-palette-title">'+r.color.background+"</div>","  <div>",'    <button type="button" class="note-color-reset btn btn-default" data-event="backColor" data-value="inherit">',r.color.transparent,"    </button>","  </div>",'  <div class="note-holder" data-event="backColor"/>',"</div>",'<div class="btn-group">','  <div class="note-palette-title">'+r.color.foreground+"</div>","  <div>",'    <button type="button" class="note-color-reset btn btn-default" data-event="removeFormat" data-value="foreColor">',r.color.resetToDefault,"    </button>","  </div>",'  <div class="note-holder" data-event="foreColor"/>',"</div>","</li>"].join(""),callback:function(e){e.find(".note-holder").each(function(){var e=$(this);e.append(n.palette({colors:o.colors,eventName:e.data("event"),tooltip:o.tooltip}).render())})},click:function(t){var n=$(t.target),i=n.data("event"),o=n.data("value");if(i&&o){var r="backColor"===i?"background-color":"color",s=n.closest(".note-color").find(".note-recent-color"),a=n.closest(".note-color").find(".note-current-color-button");s.css(r,o),a.attr("data-"+i,o),e.invoke("editor."+i,o)}}})]}).render()}),e.memo("button.ul",function(){return n.button({contents:n.icon(o.icons.unorderedlist),tooltip:r.lists.unordered+a("insertUnorderedList"),click:e.createInvokeHandler("editor.insertUnorderedList")}).render()}),e.memo("button.ol",function(){return n.button({contents:n.icon(o.icons.orderedlist),tooltip:r.lists.ordered+a("insertOrderedList"),click:e.createInvokeHandler("editor.insertOrderedList")}).render()});var i=n.button({contents:n.icon(o.icons.alignLeft),tooltip:r.paragraph.left+a("justifyLeft"),click:e.createInvokeHandler("editor.justifyLeft")}),s=n.button({contents:n.icon(o.icons.alignCenter),tooltip:r.paragraph.center+a("justifyCenter"),click:e.createInvokeHandler("editor.justifyCenter")}),l=n.button({contents:n.icon(o.icons.alignRight),tooltip:r.paragraph.right+a("justifyRight"),click:e.createInvokeHandler("editor.justifyRight")}),c=n.button({contents:n.icon(o.icons.alignJustify),tooltip:r.paragraph.justify+a("justifyFull"),click:e.createInvokeHandler("editor.justifyFull")}),u=n.button({contents:n.icon(o.icons.outdent),tooltip:r.paragraph.outdent+a("outdent"),click:e.createInvokeHandler("editor.outdent")}),d=n.button({contents:n.icon(o.icons.indent),tooltip:r.paragraph.indent+a("indent"),click:e.createInvokeHandler("editor.indent")});e.memo("button.justifyLeft",func.invoke(i,"render")),e.memo("button.justifyCenter",func.invoke(s,"render")),e.memo("button.justifyRight",func.invoke(l,"render")),e.memo("button.justifyFull",func.invoke(c,"render")),e.memo("button.outdent",func.invoke(u,"render")),e.memo("button.indent",func.invoke(d,"render")),e.memo("button.paragraph",function(){return n.buttonGroup([n.button({className:"dropdown-toggle",contents:n.icon(o.icons.alignLeft)+" "+n.icon(o.icons.caret,"span"),tooltip:r.paragraph.paragraph,data:{toggle:"dropdown"}}),n.dropdown([n.buttonGroup({className:"note-align",children:[i,s,l,c]}),n.buttonGroup({className:"note-list",children:[u,d]})])]).render()}),e.memo("button.height",function(){return n.buttonGroup([n.button({className:"dropdown-toggle",contents:n.icon(o.icons.textHeight)+" "+n.icon(o.icons.caret,"span"),tooltip:r.font.height,data:{toggle:"dropdown"}}),n.dropdownCheck({items:o.lineHeights,checkClassName:o.icons.menuCheck,className:"dropdown-line-height",click:e.createInvokeHandler("editor.lineHeight")})]).render()}),e.memo("button.table",function(){return n.buttonGroup([n.button({className:"dropdown-toggle",contents:n.icon(o.icons.table)+" "+n.icon(o.icons.caret,"span"),tooltip:r.table.table,data:{toggle:"dropdown"}}),n.dropdown({className:"note-table",items:['<div class="note-dimension-picker">','  <div class="note-dimension-picker-mousecatcher" data-event="insertTable" data-value="1x1"/>','  <div class="note-dimension-picker-highlighted"/>','  <div class="note-dimension-picker-unhighlighted"/>',"</div>",'<div class="note-dimension-display">1 x 1</div>'].join("")})],{callback:function(n){var i=n.find(".note-dimension-picker-mousecatcher");i.css({width:o.insertTableMaxSize.col+"em",height:o.insertTableMaxSize.row+"em"}).mousedown(e.createInvokeHandler("editor.insertTable")).on("mousemove",t.tableMoveHandler)}}).render()}),e.memo("button.link",function(){return n.button({contents:n.icon(o.icons.link),tooltip:r.link.link+a("linkDialog.show"),click:e.createInvokeHandler("linkDialog.show")}).render()}),e.memo("button.picture",function(){return n.button({contents:n.icon(o.icons.picture),tooltip:r.image.image,click:e.createInvokeHandler("imageDialog.show")}).render()}),e.memo("button.video",function(){return n.button({contents:n.icon(o.icons.video),tooltip:r.video.video,click:e.createInvokeHandler("videoDialog.show")}).render()}),e.memo("button.hr",function(){return n.button({contents:n.icon(o.icons.minus),tooltip:r.hr.insert+a("insertHorizontalRule"),click:e.createInvokeHandler("editor.insertHorizontalRule")}).render()}),e.memo("button.fullscreen",function(){return n.button({className:"btn-fullscreen",contents:n.icon(o.icons.arrowsAlt),tooltip:r.options.fullscreen,click:e.createInvokeHandler("fullscreen.toggle")}).render()}),e.memo("button.codeview",function(){return n.button({className:"btn-codeview",contents:n.icon(o.icons.code),tooltip:r.options.codeview,click:e.createInvokeHandler("codeview.toggle")}).render()}),e.memo("button.redo",function(){return n.button({contents:n.icon(o.icons.redo),tooltip:r.history.redo+a("redo"),click:e.createInvokeHandler("editor.redo")}).render()}),e.memo("button.undo",function(){return n.button({contents:n.icon(o.icons.undo),tooltip:r.history.undo+a("undo"),click:e.createInvokeHandler("editor.undo")}).render()}),e.memo("button.help",function(){return n.button({contents:n.icon(o.icons.question),tooltip:r.options.help,click:e.createInvokeHandler("helpDialog.show")}).render()})},this.addImagePopoverButtons=function(){e.memo("button.imageSize100",function(){return n.button({contents:'<span class="note-fontsize-10">100%</span>',tooltip:r.image.resizeFull,click:e.createInvokeHandler("editor.resize","1")}).render()}),e.memo("button.imageSize50",function(){return n.button({contents:'<span class="note-fontsize-10">50%</span>',tooltip:r.image.resizeHalf,click:e.createInvokeHandler("editor.resize","0.5")}).render()}),e.memo("button.imageSize25",function(){return n.button({contents:'<span class="note-fontsize-10">25%</span>',tooltip:r.image.resizeQuarter,click:e.createInvokeHandler("editor.resize","0.25")}).render()}),e.memo("button.floatLeft",function(){return n.button({contents:n.icon(o.icons.alignLeft),tooltip:r.image.floatLeft,click:e.createInvokeHandler("editor.floatMe","left")}).render()}),e.memo("button.floatRight",function(){return n.button({contents:n.icon(o.icons.alignRight),tooltip:r.image.floatRight,click:e.createInvokeHandler("editor.floatMe","right")}).render()}),e.memo("button.floatNone",function(){return n.button({contents:n.icon(o.icons.alignJustify),tooltip:r.image.floatNone,click:e.createInvokeHandler("editor.floatMe","none")}).render()}),e.memo("button.removeMedia",function(){return n.button({contents:n.icon(o.icons.trash),tooltip:r.image.remove,click:e.createInvokeHandler("editor.removeMedia")}).render()})},this.addLinkPopoverButtons=function(){e.memo("button.linkDialogShow",function(){return n.button({contents:n.icon(o.icons.link),tooltip:r.link.edit,click:e.createInvokeHandler("linkDialog.show")}).render()}),e.memo("button.unlink",function(){return n.button({contents:n.icon(o.icons.unlink),tooltip:r.link.unlink,click:e.createInvokeHandler("editor.unlink")}).render()})},this.addTablePopoverButtons=function(){e.memo("button.addRowUp",function(){return n.button({className:"btn-md",contents:n.icon(o.icons.rowAbove),tooltip:r.table.addRowAbove,click:e.createInvokeHandler("editor.addRow","top")}).render()}),e.memo("button.addRowDown",function(){return n.button({className:"btn-md",contents:n.icon(o.icons.rowBelow),tooltip:r.table.addRowBelow,click:e.createInvokeHandler("editor.addRow","bottom")}).render()}),e.memo("button.addColLeft",function(){return n.button({className:"btn-md",contents:n.icon(o.icons.colBefore),tooltip:r.table.addColLeft,click:e.createInvokeHandler("editor.addCol","left")}).render()}),e.memo("button.addColRight",function(){return n.button({className:"btn-md",contents:n.icon(o.icons.colAfter),tooltip:r.table.addColRight,click:e.createInvokeHandler("editor.addCol","right")}).render()}),e.memo("button.deleteRow",function(){return n.button({className:"btn-md",contents:n.icon(o.icons.rowRemove),tooltip:r.table.delRow,click:e.createInvokeHandler("editor.deleteRow")}).render()}),e.memo("button.deleteCol",function(){return n.button({className:"btn-md",contents:n.icon(o.icons.colRemove),tooltip:r.table.delCol,click:e.createInvokeHandler("editor.deleteCol")}).render()}),e.memo("button.deleteTable",function(){return n.button({className:"btn-md",contents:n.icon(o.icons.trash),tooltip:r.table.delTable,click:e.createInvokeHandler("editor.deleteTable")}).render()})},this.build=function(t,i){for(var o=0,r=i.length;r>o;o++){for(var s=i[o],a=s[0],l=s[1],c=n.buttonGroup({className:"note-"+a}).render(),u=0,d=l.length;d>u;u++){var h=e.memo("button."+l[u]);h&&c.append("function"==typeof h?h(e):h)}c.appendTo(t)}},this.updateCurrentStyle=function(){var n=e.invoke("editor.currentStyle");if(this.updateBtnStates({".note-btn-bold":function(){return"bold"===n["font-bold"]},".note-btn-italic":function(){return"italic"===n["font-italic"]},".note-btn-underline":function(){return"underline"===n["font-underline"]},".note-btn-subscript":function(){return"subscript"===n["font-subscript"]},".note-btn-superscript":function(){return"superscript"===n["font-superscript"]},".note-btn-strikethrough":function(){return"strikethrough"===n["font-strikethrough"]}}),n["font-family"]){var o=n["font-family"].split(",").map(function(e){return e.replace(/[\'\"]/g,"").replace(/\s+$/,"").replace(/^\s+/,"")}),r=list.find(o,t.isFontInstalled);i.find(".dropdown-fontname li a").each(function(){var e=$(this).data("value")+""==r+"";this.className=e?"checked":""}),i.find(".note-current-fontname").text(r)}if(n["font-size"]){var s=n["font-size"];i.find(".dropdown-fontsize li a").each(function(){var e=$(this).data("value")+""==s+"";this.className=e?"checked":""}),i.find(".note-current-fontsize").text(s)}if(n["line-height"]){var a=n["line-height"];i.find(".dropdown-line-height li a").each(function(){var e=$(this).data("value")+""==a+"";this.className=e?"checked":""})}},this.updateBtnStates=function(e){$.each(e,function(e,t){n.toggleBtnActive(i.find(e),t())})},this.tableMoveHandler=function(e){var t,n=18,i=$(e.target.parentNode),r=i.next(),s=i.find(".note-dimension-picker-mousecatcher"),a=i.find(".note-dimension-picker-highlighted"),l=i.find(".note-dimension-picker-unhighlighted");if(void 0===e.offsetX){var c=$(e.target).offset();t={x:e.pageX-c.left,y:e.pageY-c.top}}else t={x:e.offsetX,y:e.offsetY};var u={c:Math.ceil(t.x/n)||1,r:Math.ceil(t.y/n)||1};a.css({width:u.c+"em",height:u.r+"em"}),s.data("value",u.c+"x"+u.r),3<u.c&&u.c<o.insertTableMaxSize.col&&l.css({width:u.c+1+"em"}),3<u.r&&u.r<o.insertTableMaxSize.row&&l.css({height:u.r+1+"em"}),r.html(u.c+" x "+u.r)}},Toolbar=function(e){var t=$.summernote.ui,n=e.layoutInfo.note,i=e.layoutInfo.toolbar,o=e.options;this.shouldInitialize=function(){return!o.airMode},this.initialize=function(){o.toolbar=o.toolbar||[],o.toolbar.length?e.invoke("buttons.build",i,o.toolbar):i.hide(),o.toolbarContainer&&i.appendTo(o.toolbarContainer),n.on("summernote.keyup summernote.mouseup summernote.change",function(){e.invoke("buttons.updateCurrentStyle")}),e.invoke("buttons.updateCurrentStyle")},this.destroy=function(){i.children().remove()},this.updateFullscreen=function(e){t.toggleBtnActive(i.find(".btn-fullscreen"),e)},this.updateCodeview=function(e){t.toggleBtnActive(i.find(".btn-codeview"),e),e?this.deactivate():this.activate()},this.activate=function(e){var n=i.find("button");e||(n=n.not(".btn-codeview")),t.toggleBtn(n,!0)},this.deactivate=function(e){var n=i.find("button");e||(n=n.not(".btn-codeview")),t.toggleBtn(n,!1)}},LinkDialog=function(e){var t=this,n=$.summernote.ui,i=e.layoutInfo.editor,o=e.options,r=o.langInfo;this.initialize=function(){var e=o.dialogsInBody?$(document.body):i,t='<div class="form-group"><label>'+r.link.textToDisplay+'</label><input class="note-link-text form-control" type="text" /></div><div class="form-group"><label>'+r.link.url+'</label><input class="note-link-url form-control" type="text" value="http://" /></div>'+(o.disableLinkTarget?"":'<div class="checkbox"><label for="sn-checkbox-open-in-new-window"><input type="checkbox" id="sn-checkbox-open-in-new-window" checked />'+r.link.openInNewWindow+"</label></div>"),s='<button href="#" class="btn btn-primary note-link-btn disabled" disabled>'+r.link.insert+"</button>";this.$dialog=n.dialog({className:"link-dialog",title:r.link.insert,fade:o.dialogsFade,body:t,footer:s}).render().appendTo(e)},this.destroy=function(){n.hideDialog(this.$dialog),this.$dialog.remove()},this.bindEnterKey=function(e,t){e.on("keypress",function(e){e.keyCode===key.code.ENTER&&t.trigger("click")})},this.toggleLinkBtn=function(e,t,i){n.toggleBtn(e,t.val()&&i.val())},this.showLinkDialog=function(i){return $.Deferred(function(o){var r=t.$dialog.find(".note-link-text"),s=t.$dialog.find(".note-link-url"),a=t.$dialog.find(".note-link-btn"),l=t.$dialog.find("input[type=checkbox]");n.onDialogShown(t.$dialog,function(){e.triggerEvent("dialog.shown"),i.url||(i.url=i.text),r.val(i.text);var n=function(){t.toggleLinkBtn(a,r,s),i.text=r.val()};r.on("input",n).on("paste",function(){setTimeout(n,0)});var c=function(){t.toggleLinkBtn(a,r,s),i.text||r.val(s.val())};s.on("input",c).on("paste",function(){setTimeout(c,0)}).val(i.url).trigger("focus"),t.toggleLinkBtn(a,r,s),t.bindEnterKey(s,a),t.bindEnterKey(r,a);var u=void 0!==i.isNewWindow?i.isNewWindow:e.options.linkTargetBlank;l.prop("checked",u),a.one("click",function(e){e.preventDefault(),o.resolve({range:i.range,url:s.val(),text:r.val(),isNewWindow:l.is(":checked")}),t.$dialog.modal("hide")})}),n.onDialogHidden(t.$dialog,function(){r.off("input paste keypress"),s.off("input paste keypress"),a.off("click"),"pending"===o.state()&&o.reject()}),n.showDialog(t.$dialog)}).promise()},this.show=function(){var t=e.invoke("editor.getLinkInfo");e.invoke("editor.saveRange"),this.showLinkDialog(t).then(function(t){e.invoke("editor.restoreRange"),e.invoke("editor.createLink",t)}).fail(function(){e.invoke("editor.restoreRange")})},e.memo("help.linkDialog.show",o.langInfo.help["linkDialog.show"])},LinkPopover=function(e){var t=this,n=$.summernote.ui,i=e.options;this.events={"summernote.keyup summernote.mouseup summernote.change summernote.scroll":function(){t.update()},"summernote.disable summernote.dialog.shown":function(){t.hide()}},this.shouldInitialize=function(){return!list.isEmpty(i.popover.link)},this.initialize=function(){this.$popover=n.popover({className:"note-link-popover",callback:function(e){var t=e.find(".popover-content");t.prepend('<span><a target="_blank"></a>&nbsp;</span>')}}).render().appendTo("body");var t=this.$popover.find(".popover-content");e.invoke("buttons.build",t,i.popover.link)},this.destroy=function(){this.$popover.remove()},this.update=function(){if(!e.invoke("editor.hasFocus"))return void this.hide();var t=e.invoke("editor.createRange");if(t.isCollapsed()&&t.isOnAnchor()){var n=dom.ancestor(t.sc,dom.isAnchor),i=$(n).attr("href");this.$popover.find("a").attr("href",i).html(i);var o=dom.posFromPlaceholder(n);this.$popover.css({display:"block",left:o.left,top:o.top})}else this.hide()},this.hide=function(){this.$popover.hide()}},ImageDialog=function(e){var t=this,n=$.summernote.ui,i=e.layoutInfo.editor,o=e.options,r=o.langInfo;this.initialize=function(){var e=o.dialogsInBody?$(document.body):i,t="";if(o.maximumImageFileSize){var s=Math.floor(Math.log(o.maximumImageFileSize)/Math.log(1024)),a=1*(o.maximumImageFileSize/Math.pow(1024,s)).toFixed(2)+" "+" KMGTP"[s]+"B";t="<small>"+r.image.maximumFileSize+" : "+a+"</small>"}var l='<div class="form-group note-group-select-from-files"><label>'+r.image.selectFromFiles+'</label><input class="note-image-input form-control" type="file" name="files" accept="image/*" multiple="multiple" />'+t+'</div><div class="form-group note-group-image-url" style="overflow:auto;"><label>'+r.image.url+'</label><input class="note-image-url form-control col-md-12" type="text" /></div>',c='<button href="#" class="btn btn-primary note-image-btn disabled" disabled>'+r.image.insert+"</button>";this.$dialog=n.dialog({title:r.image.insert,fade:o.dialogsFade,body:l,footer:c}).render().appendTo(e)},this.destroy=function(){n.hideDialog(this.$dialog),this.$dialog.remove()},this.bindEnterKey=function(e,t){e.on("keypress",function(e){e.keyCode===key.code.ENTER&&t.trigger("click")})},this.show=function(){e.invoke("editor.saveRange"),this.showImageDialog().then(function(i){n.hideDialog(t.$dialog),e.invoke("editor.restoreRange"),"string"==typeof i?e.invoke("editor.insertImage",i):e.invoke("editor.insertImagesOrCallback",i)}).fail(function(){e.invoke("editor.restoreRange")})},this.showImageDialog=function(){return $.Deferred(function(i){var o=t.$dialog.find(".note-image-input"),r=t.$dialog.find(".note-image-url"),s=t.$dialog.find(".note-image-btn");n.onDialogShown(t.$dialog,function(){e.triggerEvent("dialog.shown"),o.replaceWith(o.clone().on("change",function(){i.resolve(this.files||this.value)}).val("")),s.click(function(e){e.preventDefault(),i.resolve(r.val())}),r.on("keyup paste",function(){var e=r.val();n.toggleBtn(s,e)}).val("").trigger("focus"),t.bindEnterKey(r,s)}),n.onDialogHidden(t.$dialog,function(){o.off("change"),r.off("keyup paste keypress"),s.off("click"),"pending"===i.state()&&i.reject()}),n.showDialog(t.$dialog)})}},ImagePopover=function(e){var t=this,n=$.summernote.ui,i=e.layoutInfo.editable,o=i[0],r=e.options;
this.events={"summernote.disable":function(){t.hide()}},this.shouldInitialize=function(){return!list.isEmpty(r.popover.image)},this.initialize=function(){this.$popover=n.popover({className:"note-image-popover"}).render().appendTo("body");var t=this.$popover.find(".popover-content");e.invoke("buttons.build",t,r.popover.image)},this.destroy=function(){this.$popover.remove()},this.update=function(e){if(dom.isImg(e)){var t=dom.posFromPlaceholder(e),n=dom.posFromPlaceholder(o);this.$popover.css({display:"block",left:t.left,top:Math.min(t.top,n.top)})}else this.hide()},this.hide=function(){this.$popover.hide()}},TablePopover=function(e){var t=this,n=$.summernote.ui,i=e.options;this.events={"summernote.mousedown":function(e,n){t.update(n.target)},"summernote.keyup summernote.scroll summernote.change":function(){t.update()},"summernote.disable":function(){t.hide()}},this.shouldInitialize=function(){return!list.isEmpty(i.popover.table)},this.initialize=function(){this.$popover=n.popover({className:"note-table-popover"}).render().appendTo("body");var t=this.$popover.find(".popover-content");e.invoke("buttons.build",t,i.popover.table),agent.isFF&&document.execCommand("enableInlineTableEditing",!1,!1)},this.destroy=function(){this.$popover.remove()},this.update=function(t){if(e.isDisabled())return!1;var n=dom.isCell(t);if(n){var i=dom.posFromPlaceholder(t);this.$popover.css({display:"block",left:i.left,top:i.top})}else this.hide();return n},this.hide=function(){this.$popover.hide()}},VideoDialog=function(e){var t=this,n=$.summernote.ui,i=e.layoutInfo.editor,o=e.options,r=o.langInfo;this.initialize=function(){var e=o.dialogsInBody?$(document.body):i,t='<div class="form-group row-fluid"><label>'+r.video.url+' <small class="text-muted">'+r.video.providers+'</small></label><input class="note-video-url form-control span12" type="text" /></div>',s='<button href="#" class="btn btn-primary note-video-btn disabled" disabled>'+r.video.insert+"</button>";this.$dialog=n.dialog({title:r.video.insert,fade:o.dialogsFade,body:t,footer:s}).render().appendTo(e)},this.destroy=function(){n.hideDialog(this.$dialog),this.$dialog.remove()},this.bindEnterKey=function(e,t){e.on("keypress",function(e){e.keyCode===key.code.ENTER&&t.trigger("click")})},this.createVideoNode=function(e){var t,n=/^(?:https?:\/\/)?(?:www\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))((\w|-){11})(?:\S+)?$/,i=e.match(n),o=/(?:www\.|\/\/)instagram\.com\/p\/(.[a-zA-Z0-9_-]*)/,r=e.match(o),s=/\/\/vine\.co\/v\/([a-zA-Z0-9]+)/,a=e.match(s),l=/\/\/(player\.)?vimeo\.com\/([a-z]*\/)*(\d+)[?]?.*/,c=e.match(l),u=/.+dailymotion.com\/(video|hub)\/([^_]+)[^#]*(#video=([^_&]+))?/,d=e.match(u),h=/\/\/v\.youku\.com\/v_show\/id_(\w+)=*\.html/,p=e.match(h),f=/\/\/v\.qq\.com.*?vid=(.+)/,m=e.match(f),g=/\/\/v\.qq\.com\/x?\/?(page|cover).*?\/([^\/]+)\.html\??.*/,v=e.match(g),y=/^.+.(mp4|m4v)$/,b=e.match(y),w=/^.+.(ogg|ogv)$/,x=e.match(w),C=/^.+.(webm)$/,_=e.match(C);if(i&&11===i[1].length){var k=i[1];t=$("<iframe>").attr("frameborder",0).attr("src","//www.youtube.com/embed/"+k).attr("width","640").attr("height","360")}else if(r&&r[0].length)t=$("<iframe>").attr("frameborder",0).attr("src","https://instagram.com/p/"+r[1]+"/embed/").attr("width","612").attr("height","710").attr("scrolling","no").attr("allowtransparency","true");else if(a&&a[0].length)t=$("<iframe>").attr("frameborder",0).attr("src",a[0]+"/embed/simple").attr("width","600").attr("height","600").attr("class","vine-embed");else if(c&&c[3].length)t=$("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder",0).attr("src","//player.vimeo.com/video/"+c[3]).attr("width","640").attr("height","360");else if(d&&d[2].length)t=$("<iframe>").attr("frameborder",0).attr("src","//www.dailymotion.com/embed/video/"+d[2]).attr("width","640").attr("height","360");else if(p&&p[1].length)t=$("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder",0).attr("height","498").attr("width","510").attr("src","//player.youku.com/embed/"+p[1]);else if(m&&m[1].length||v&&v[2].length){var S=m&&m[1].length?m[1]:v[2];t=$("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder",0).attr("height","310").attr("width","500").attr("src","http://v.qq.com/iframe/player.html?vid="+S+"&amp;auto=0")}else{if(!(b||x||_))return!1;t=$("<video controls>").attr("src",e).attr("width","640").attr("height","360")}return t.addClass("note-video-clip"),t[0]},this.show=function(){var i=e.invoke("editor.getSelectedText");e.invoke("editor.saveRange"),this.showVideoDialog(i).then(function(i){n.hideDialog(t.$dialog),e.invoke("editor.restoreRange");var o=t.createVideoNode(i);o&&e.invoke("editor.insertNode",o)}).fail(function(){e.invoke("editor.restoreRange")})},this.showVideoDialog=function(i){return $.Deferred(function(o){var r=t.$dialog.find(".note-video-url"),s=t.$dialog.find(".note-video-btn");n.onDialogShown(t.$dialog,function(){e.triggerEvent("dialog.shown"),r.val(i).on("input",function(){n.toggleBtn(s,r.val())}).trigger("focus"),s.click(function(e){e.preventDefault(),o.resolve(r.val())}),t.bindEnterKey(r,s)}),n.onDialogHidden(t.$dialog,function(){r.off("input"),s.off("click"),"pending"===o.state()&&o.reject()}),n.showDialog(t.$dialog)})}},HelpDialog=function(e){var t=this,n=$.summernote.ui,i=e.layoutInfo.editor,o=e.options,r=o.langInfo;this.createShortCutList=function(){var t=o.keyMap[agent.isMac?"mac":"pc"];return Object.keys(t).map(function(n){var i=t[n],o=$('<div><div class="help-list-item"/></div>');return o.append($("<label><kbd>"+n+"</kdb></label>").css({width:180,"margin-right":10})).append($("<span/>").html(e.memo("help."+i)||i)),o.html()}).join("")},this.initialize=function(){var e=o.dialogsInBody?$(document.body):i,t=['<p class="text-center">','<a href="http://summernote.org/" target="_blank">Summernote 0.8.7</a> · ','<a href="https://github.com/summernote/summernote" target="_blank">Project</a> · ','<a href="https://github.com/summernote/summernote/issues" target="_blank">Issues</a>',"</p>"].join("");this.$dialog=n.dialog({title:r.options.help,fade:o.dialogsFade,body:this.createShortCutList(),footer:t,callback:function(e){e.find(".modal-body").css({"max-height":300,overflow:"scroll"})}}).render().appendTo(e)},this.destroy=function(){n.hideDialog(this.$dialog),this.$dialog.remove()},this.showHelpDialog=function(){return $.Deferred(function(i){n.onDialogShown(t.$dialog,function(){e.triggerEvent("dialog.shown"),i.resolve()}),n.showDialog(t.$dialog)}).promise()},this.show=function(){e.invoke("editor.saveRange"),this.showHelpDialog().then(function(){e.invoke("editor.restoreRange")})}},AirPopover=function(e){var t=this,n=$.summernote.ui,i=e.options,o=20;this.events={"summernote.keyup summernote.mouseup summernote.scroll":function(){t.update()},"summernote.disable summernote.change summernote.dialog.shown":function(){t.hide()},"summernote.focusout":function(e,n){agent.isFF||n.relatedTarget&&dom.ancestor(n.relatedTarget,func.eq(t.$popover[0]))||t.hide()}},this.shouldInitialize=function(){return i.airMode&&!list.isEmpty(i.popover.air)},this.initialize=function(){this.$popover=n.popover({className:"note-air-popover"}).render().appendTo("body");var t=this.$popover.find(".popover-content");e.invoke("buttons.build",t,i.popover.air)},this.destroy=function(){this.$popover.remove()},this.update=function(){var t=e.invoke("editor.currentStyle");if(t.range&&!t.range.isCollapsed()){var n=list.last(t.range.getClientRects());if(n){var i=func.rect2bnd(n);this.$popover.css({display:"block",left:Math.max(i.left+i.width/2,0)-o,top:i.top+i.height})}}else this.hide()},this.hide=function(){this.$popover.hide()}},HintPopover=function(e){var t=this,n=$.summernote.ui,i=5,o=e.options.hint||[],r=e.options.hintDirection||"bottom",s=$.isArray(o)?o:[o];this.events={"summernote.keyup":function(e,n){n.isDefaultPrevented()||t.handleKeyup(n)},"summernote.keydown":function(e,n){t.handleKeydown(n)},"summernote.disable summernote.dialog.shown":function(){t.hide()}},this.shouldInitialize=function(){return s.length>0},this.initialize=function(){this.lastWordRange=null,this.$popover=n.popover({className:"note-hint-popover",hideArrow:!0,direction:""}).render().appendTo("body"),this.$popover.hide(),this.$content=this.$popover.find(".popover-content"),this.$content.on("click",".note-hint-item",function(){t.$content.find(".active").removeClass("active"),$(this).addClass("active"),t.replace()})},this.destroy=function(){this.$popover.remove()},this.selectItem=function(e){this.$content.find(".active").removeClass("active"),e.addClass("active"),this.$content[0].scrollTop=e[0].offsetTop-this.$content.innerHeight()/2},this.moveDown=function(){var e=this.$content.find(".note-hint-item.active"),t=e.next();if(t.length)this.selectItem(t);else{var n=e.parent().next();n.length||(n=this.$content.find(".note-hint-group").first()),this.selectItem(n.find(".note-hint-item").first())}},this.moveUp=function(){var e=this.$content.find(".note-hint-item.active"),t=e.prev();if(t.length)this.selectItem(t);else{var n=e.parent().prev();n.length||(n=this.$content.find(".note-hint-group").last()),this.selectItem(n.find(".note-hint-item").last())}},this.replace=function(){var t=this.$content.find(".note-hint-item.active");if(t.length){var n=this.nodeFromItem(t);this.lastWordRange.insertNode(n),range.createFromNode(n).collapse().select(),this.lastWordRange=null,this.hide(),e.triggerEvent("change",e.layoutInfo.editable.html(),e.layoutInfo.editable),e.invoke("editor.focus")}},this.nodeFromItem=function(e){var t=s[e.data("index")],n=e.data("item"),i=t.content?t.content(n):n;return"string"==typeof i&&(i=dom.createText(i)),i},this.createItemTemplates=function(e,t){var n=s[e];return t.map(function(t,i){var o=$('<div class="note-hint-item"/>');return o.append(n.template?n.template(t):t+""),o.data({index:e,item:t}),0===e&&0===i&&o.addClass("active"),o})},this.handleKeydown=function(e){this.$popover.is(":visible")&&(e.keyCode===key.code.ENTER?(e.preventDefault(),this.replace()):e.keyCode===key.code.UP?(e.preventDefault(),this.moveUp()):e.keyCode===key.code.DOWN&&(e.preventDefault(),this.moveDown()))},this.searchKeyword=function(e,t,n){var i=s[e];if(i&&i.match.test(t)&&i.search){var o=i.match.exec(t);i.search(o[1],n)}else n()},this.createGroup=function(e,n){var i=$('<div class="note-hint-group note-hint-group-'+e+'"/>');return this.searchKeyword(e,n,function(n){n=n||[],n.length&&(i.html(t.createItemTemplates(e,n)),t.show())}),i},this.handleKeyup=function(n){if(list.contains([key.code.ENTER,key.code.UP,key.code.DOWN],n.keyCode)){if(n.keyCode===key.code.ENTER&&this.$popover.is(":visible"))return}else{var o=e.invoke("editor.createRange").getWordRange(),a=o.toString();if(s.length&&a){this.$content.empty();var l=func.rect2bnd(list.last(o.getClientRects()));l&&(this.$popover.hide(),this.lastWordRange=o,s.forEach(function(e,n){e.match.test(a)&&t.createGroup(n,a).appendTo(t.$content)}),this.$popover.css("top"===r?{left:l.left,top:l.top-this.$popover.outerHeight()-i}:{left:l.left,top:l.top+l.height+i}))}else this.hide()}},this.show=function(){this.$popover.show()},this.hide=function(){this.$popover.hide()}};$.summernote=$.extend($.summernote,{version:"0.8.7",ui:ui,dom:dom,plugins:{},options:{modules:{editor:Editor,clipboard:Clipboard,dropzone:Dropzone,codeview:Codeview,statusbar:Statusbar,fullscreen:Fullscreen,handle:Handle,hintPopover:HintPopover,autoLink:AutoLink,autoSync:AutoSync,placeholder:Placeholder,buttons:Buttons,toolbar:Toolbar,linkDialog:LinkDialog,linkPopover:LinkPopover,imageDialog:ImageDialog,imagePopover:ImagePopover,tablePopover:TablePopover,videoDialog:VideoDialog,helpDialog:HelpDialog,airPopover:AirPopover},buttons:{},lang:"en-US",toolbar:[["style",["style"]],["font",["bold","underline","clear"]],["fontname",["fontname"]],["color",["color"]],["para",["ul","ol","paragraph"]],["table",["table"]],["insert",["link","picture","video"]],["view",["fullscreen","codeview","help"]]],popover:{image:[["imagesize",["imageSize100","imageSize50","imageSize25"]],["float",["floatLeft","floatRight","floatNone"]],["remove",["removeMedia"]]],link:[["link",["linkDialogShow","unlink"]]],table:[["add",["addRowDown","addRowUp","addColLeft","addColRight"]],["delete",["deleteRow","deleteCol","deleteTable"]]],air:[["color",["color"]],["font",["bold","underline","clear"]],["para",["ul","paragraph"]],["table",["table"]],["insert",["link","picture"]]]},airMode:!1,width:null,height:null,linkTargetBlank:!0,focus:!1,tabSize:4,styleWithSpan:!0,shortcuts:!0,textareaAutoSync:!0,direction:null,tooltip:"auto",styleTags:["p","blockquote","pre","h1","h2","h3","h4","h5","h6"],fontNames:["Arial","Arial Black","Comic Sans MS","Courier New","Helvetica Neue","Helvetica","Impact","Lucida Grande","Tahoma","Times New Roman","Verdana"],fontSizes:["8","9","10","11","12","14","18","24","36"],colors:[["#000000","#424242","#636363","#9C9C94","#CEC6CE","#EFEFEF","#F7F7F7","#FFFFFF"],["#FF0000","#FF9C00","#FFFF00","#00FF00","#00FFFF","#0000FF","#9C00FF","#FF00FF"],["#F7C6CE","#FFE7CE","#FFEFC6","#D6EFD6","#CEDEE7","#CEE7F7","#D6D6E7","#E7D6DE"],["#E79C9C","#FFC69C","#FFE79C","#B5D6A5","#A5C6CE","#9CC6EF","#B5A5D6","#D6A5BD"],["#E76363","#F7AD6B","#FFD663","#94BD7B","#73A5AD","#6BADDE","#8C7BC6","#C67BA5"],["#CE0000","#E79439","#EFC631","#6BA54A","#4A7B8C","#3984C6","#634AA5","#A54A7B"],["#9C0000","#B56308","#BD9400","#397B21","#104A5A","#085294","#311873","#731842"],["#630000","#7B3900","#846300","#295218","#083139","#003163","#21104A","#4A1031"]],lineHeights:["1.0","1.2","1.4","1.5","1.6","1.8","2.0","3.0"],tableClassName:"table table-bordered",insertTableMaxSize:{col:10,row:10},dialogsInBody:!1,dialogsFade:!1,maximumImageFileSize:null,callbacks:{onInit:null,onFocus:null,onBlur:null,onEnter:null,onKeyup:null,onKeydown:null,onImageUpload:null,onImageUploadError:null},codemirror:{mode:"text/html",htmlMode:!0,lineNumbers:!0},keyMap:{pc:{ENTER:"insertParagraph","CTRL+Z":"undo","CTRL+Y":"redo",TAB:"tab","SHIFT+TAB":"untab","CTRL+B":"bold","CTRL+I":"italic","CTRL+U":"underline","CTRL+SHIFT+S":"strikethrough","CTRL+BACKSLASH":"removeFormat","CTRL+SHIFT+L":"justifyLeft","CTRL+SHIFT+E":"justifyCenter","CTRL+SHIFT+R":"justifyRight","CTRL+SHIFT+J":"justifyFull","CTRL+SHIFT+NUM7":"insertUnorderedList","CTRL+SHIFT+NUM8":"insertOrderedList","CTRL+LEFTBRACKET":"outdent","CTRL+RIGHTBRACKET":"indent","CTRL+NUM0":"formatPara","CTRL+NUM1":"formatH1","CTRL+NUM2":"formatH2","CTRL+NUM3":"formatH3","CTRL+NUM4":"formatH4","CTRL+NUM5":"formatH5","CTRL+NUM6":"formatH6","CTRL+ENTER":"insertHorizontalRule","CTRL+K":"linkDialog.show"},mac:{ENTER:"insertParagraph","CMD+Z":"undo","CMD+SHIFT+Z":"redo",TAB:"tab","SHIFT+TAB":"untab","CMD+B":"bold","CMD+I":"italic","CMD+U":"underline","CMD+SHIFT+S":"strikethrough","CMD+BACKSLASH":"removeFormat","CMD+SHIFT+L":"justifyLeft","CMD+SHIFT+E":"justifyCenter","CMD+SHIFT+R":"justifyRight","CMD+SHIFT+J":"justifyFull","CMD+SHIFT+NUM7":"insertUnorderedList","CMD+SHIFT+NUM8":"insertOrderedList","CMD+LEFTBRACKET":"outdent","CMD+RIGHTBRACKET":"indent","CMD+NUM0":"formatPara","CMD+NUM1":"formatH1","CMD+NUM2":"formatH2","CMD+NUM3":"formatH3","CMD+NUM4":"formatH4","CMD+NUM5":"formatH5","CMD+NUM6":"formatH6","CMD+ENTER":"insertHorizontalRule","CMD+K":"linkDialog.show"}},icons:{align:"note-icon-align",alignCenter:"note-icon-align-center",alignJustify:"note-icon-align-justify",alignLeft:"note-icon-align-left",alignRight:"note-icon-align-right",rowBelow:"note-icon-row-below",colBefore:"note-icon-col-before",colAfter:"note-icon-col-after",rowAbove:"note-icon-row-above",rowRemove:"note-icon-row-remove",colRemove:"note-icon-col-remove",indent:"note-icon-align-indent",outdent:"note-icon-align-outdent",arrowsAlt:"note-icon-arrows-alt",bold:"note-icon-bold",caret:"note-icon-caret",circle:"note-icon-circle",close:"note-icon-close",code:"note-icon-code",eraser:"note-icon-eraser",font:"note-icon-font",frame:"note-icon-frame",italic:"note-icon-italic",link:"note-icon-link",unlink:"note-icon-chain-broken",magic:"note-icon-magic",menuCheck:"note-icon-check",minus:"note-icon-minus",orderedlist:"note-icon-orderedlist",pencil:"note-icon-pencil",picture:"note-icon-picture",question:"note-icon-question",redo:"note-icon-redo",square:"note-icon-square",strikethrough:"note-icon-strikethrough",subscript:"note-icon-subscript",superscript:"note-icon-superscript",table:"note-icon-table",textHeight:"note-icon-text-height",trash:"note-icon-trash",underline:"note-icon-underline",undo:"note-icon-undo",unorderedlist:"note-icon-unorderedlist",video:"note-icon-video"}}})}),function(e){define("nestable",[],function(){return function(){!function(e,t,n,i){function o(t,i){this.w=e(n),this.el=e(t),this.options=e.extend({},s,i),this.init()}var r=function(){var e=n.createElement("div"),i=n.documentElement;if(!("pointerEvents"in e.style))return!1;e.style.pointerEvents="auto",e.style.pointerEvents="x",i.appendChild(e);var o=t.getComputedStyle&&"auto"===t.getComputedStyle(e,"").pointerEvents;return i.removeChild(e),!!o}(),s={listNodeName:"ol",itemNodeName:"li",rootClass:"dd",listClass:"dd-list",itemClass:"dd-item",dragClass:"dd-dragel",handleClass:"dd-handle",collapsedClass:"dd-collapsed",placeClass:"dd-placeholder",noDragClass:"dd-nodrag",emptyClass:"dd-empty",expandBtnHTML:'<button data-action="expand" type="button">Expand</button>',collapseBtnHTML:'<button data-action="collapse" type="button">Collapse</button>',group:0,maxDepth:5,threshold:20};o.prototype={init:function(){var t=this;t.reset(),t.el.data("nestable-group",this.options.group),t.placeEl=e('<div class="'+t.options.placeClass+'"/>'),e.each(this.el.find(t.options.itemNodeName),function(n,i){t.setParent(e(i))}),t.el.on("click","button",function(n){if(!t.dragEl){var i=e(n.currentTarget),o=i.data("action"),r=i.parent(t.options.itemNodeName);"collapse"===o&&t.collapseItem(r),"expand"===o&&t.expandItem(r)}})},serialize:function(){var t,n=0,i=this;return step=function(t,n){var o=[],r=t.children(i.options.itemNodeName);return r.each(function(){var t=e(this),r=e.extend({},t.data()),s=t.children(i.options.listNodeName);s.length&&(r.children=step(s,n+1)),o.push(r)}),o},t=step(i.el.find(i.options.listNodeName).first(),n)},serialise:function(){return this.serialize()},reset:function(){this.mouse={offsetX:0,offsetY:0,startX:0,startY:0,lastX:0,lastY:0,nowX:0,nowY:0,distX:0,distY:0,dirAx:0,dirX:0,dirY:0,lastDirX:0,lastDirY:0,distAxX:0,distAxY:0},this.isTouch=!1,this.moving=!1,this.dragEl=null,this.dragRootEl=null,this.dragDepth=0,this.hasNewRoot=!1,this.pointEl=null},expandItem:function(e){e.children(this.options.listNodeName).show("fast"),e.removeClass(this.options.collapsedClass),e.children('[data-action="expand"]').hide(),e.children('[data-action="collapse"]').show()},collapseItem:function(e){var t=e.children(this.options.listNodeName);t.length&&(e.addClass(this.options.collapsedClass),e.children('[data-action="collapse"]').hide(),e.children('[data-action="expand"]').show(),e.children(this.options.listNodeName).hide("fast"))},expandAll:function(){var t=this;t.el.find(t.options.itemNodeName).each(function(){t.expandItem(e(this))})},collapseAll:function(){var t=this;t.el.find(t.options.itemNodeName).each(function(){t.collapseItem(e(this))})},setParent:function(t){t.children(this.options.listNodeName).length&&(t.prepend(e(this.options.expandBtnHTML)),t.prepend(e(this.options.collapseBtnHTML))),t.children('[data-action="expand"]').hide()},unsetParent:function(e){e.removeClass(this.options.collapsedClass),e.children("[data-action]").remove(),e.children(this.options.listNodeName).remove()},dragStart:function(t){var o=this.mouse,r=e(t.target),s=r.closest(this.options.itemNodeName);this.placeEl.css("height",s.height()),o.offsetX=t.offsetX!==i?t.offsetX:t.pageX-r.offset().left,o.offsetY=t.offsetY!==i?t.offsetY:t.pageY-r.offset().top,o.startX=o.lastX=t.pageX,o.startY=o.lastY=t.pageY,this.dragRootEl=this.el,this.dragEl=e(n.createElement(this.options.listNodeName)).addClass(this.options.listClass+" "+this.options.dragClass),this.dragEl.css("width",s.width()),s.after(this.placeEl),s[0].parentNode.removeChild(s[0]),s.appendTo(this.dragEl),e(n.body).append(this.dragEl),this.dragEl.css({left:t.pageX-o.offsetX,top:t.pageY-o.offsetY});var a,l,c=this.dragEl.find(this.options.itemNodeName);for(a=0;a<c.length;a++)l=e(c[a]).parents(this.options.listNodeName).length,l>this.dragDepth&&(this.dragDepth=l)},dragStop:function(){var e=this.dragEl.children(this.options.itemNodeName).first();e[0].parentNode.removeChild(e[0]),this.placeEl.replaceWith(e),this.dragEl.remove(),this.el.trigger("change"),this.hasNewRoot&&this.dragRootEl.trigger("change"),this.reset()},dragMove:function(i){var o,s,a,l,c,u=this.options,d=this.mouse;this.dragEl.css({left:i.pageX-d.offsetX,top:i.pageY-d.offsetY}),d.lastX=d.nowX,d.lastY=d.nowY,d.nowX=i.pageX,d.nowY=i.pageY,d.distX=d.nowX-d.lastX,d.distY=d.nowY-d.lastY,d.lastDirX=d.dirX,d.lastDirY=d.dirY,d.dirX=0===d.distX?0:d.distX>0?1:-1,d.dirY=0===d.distY?0:d.distY>0?1:-1;var h=Math.abs(d.distX)>Math.abs(d.distY)?1:0;if(!d.moving)return d.dirAx=h,void(d.moving=!0);d.dirAx!==h?(d.distAxX=0,d.distAxY=0):(d.distAxX+=Math.abs(d.distX),0!==d.dirX&&d.dirX!==d.lastDirX&&(d.distAxX=0),d.distAxY+=Math.abs(d.distY),0!==d.dirY&&d.dirY!==d.lastDirY&&(d.distAxY=0)),d.dirAx=h,d.dirAx&&d.distAxX>=u.threshold&&(d.distAxX=0,a=this.placeEl.prev(u.itemNodeName),d.distX>0&&a.length&&!a.hasClass(u.collapsedClass)&&(o=a.find(u.listNodeName).last(),c=this.placeEl.parents(u.listNodeName).length,c+this.dragDepth<=u.maxDepth&&(o.length?(o=a.children(u.listNodeName).last(),o.append(this.placeEl)):(o=e("<"+u.listNodeName+"/>").addClass(u.listClass),o.append(this.placeEl),a.append(o),this.setParent(a)))),d.distX<0&&(l=this.placeEl.next(u.itemNodeName),l.length||(s=this.placeEl.parent(),this.placeEl.closest(u.itemNodeName).after(this.placeEl),s.children().length||this.unsetParent(s.parent()))));var p=!1;if(r||(this.dragEl[0].style.visibility="hidden"),this.pointEl=e(n.elementFromPoint(i.pageX-n.body.scrollLeft,i.pageY-(t.pageYOffset||n.documentElement.scrollTop))),r||(this.dragEl[0].style.visibility="visible"),this.pointEl.hasClass(u.handleClass)&&(this.pointEl=this.pointEl.parent(u.itemNodeName)),this.pointEl.hasClass(u.emptyClass))p=!0;else if(!this.pointEl.length||!this.pointEl.hasClass(u.itemClass))return;var f=this.pointEl.closest("."+u.rootClass),m=this.dragRootEl.data("nestable-id")!==f.data("nestable-id");if(!d.dirAx||m||p){if(m&&u.group!==f.data("nestable-group"))return;if(c=this.dragDepth-1+this.pointEl.parents(u.listNodeName).length,c>u.maxDepth)return;var g=i.pageY<this.pointEl.offset().top+this.pointEl.height()/2;s=this.placeEl.parent(),p?(o=e(n.createElement(u.listNodeName)).addClass(u.listClass),o.append(this.placeEl),this.pointEl.replaceWith(o)):g?this.pointEl.before(this.placeEl):this.pointEl.after(this.placeEl),s.children().length||this.unsetParent(s.parent()),this.dragRootEl.find(u.itemNodeName).length||this.dragRootEl.append('<div class="'+u.emptyClass+'"/>'),m&&(this.dragRootEl=f,this.hasNewRoot=this.el[0]!==this.dragRootEl[0])}}},e.fn.nestable=function(t){var n=this,i=this;return n.each(function(){var n=e(this).data("nestable");n?"string"==typeof t&&"function"==typeof n[t]&&(i=n[t]()):(e(this).data("nestable",new o(this,t)),e(this).data("nestable-id",(new Date).getTime()))}),i||n}}(window.jQuery||window.Zepto,window,document)}.apply(e,arguments)})}(this),function(e){function t(){throw Error("Can't construct. GenericCollection is a mixin.")}function n(){throw Error("Can't construct. GenericSet is a mixin.")}function i(){}function o(){throw Error("This is an abstract interface. Mix it. Don't construct it")}function r(){throw Error("Can't construct. RangeChanges is a mixin.")}function s(){throw Error("Can't construct. GenericOrder is a mixin.")}function a(e){if(!(this instanceof a))return new a(e);if(Array.isArray(e)||"string"==typeof e)return a.iterate(e);if(e=ht(e),e instanceof a)return e;if(e.next)this.next=function(){return e.next()};else if(e.iterate){var t=e.iterate();this.next=function(){return t.next()}}else{if("[object Function]"!==ht.prototype.toString.call(e))throw new TypeError("Cannot iterate");this.next=e}}function l(e,t,n){this.array=e,this.start=null==t?0:t,this.end=n}function c(e,t,n){if(!(this instanceof c))return new c(e,t,n);var i=this.head=new this.Node;i.next=i,i.prev=i,this.contentEquals=t||Object.equals,this.content=n||Function.noop,this.length=0,this.addEach(e)}function u(e){this.head=e,this.at=e.next}function d(e){this.value=e,this.next=this.prev=null}function h(){throw Error("Can't construct. MapChanges is a mixin.")}function p(){throw Error("Can't construct. GenericMap is a mixin.")}function f(e,t){return this instanceof f?(this.content=t||Function.noop,this.store={},this.length=0,void this.addEach(e)):new f(e,t)}function m(e,t,n,i){return this instanceof m?(t=t||Object.equals,n=n||Object.hash,i=i||Function.noop,this.contentEquals=t,this.contentHash=n,this.content=i,this.buckets=new this.Buckets(null,this.Bucket),this.length=0,void this.addEach(e)):new m(e,t,n)}function g(e,t,n,i){return this instanceof g?(t=t||Object.equals,n=n||Object.hash,i=i||Function.noop,this.contentEquals=t,this.contentHash=n,this.content=i,this.store=new Lt(void 0,function(e,n){return t(e.key,n.key)},function(e){return n(e.key)}),this.length=0,void this.addEach(e)):new g(e,t,n)}function v(e,t,n,i){return this instanceof v?(t=t||Object.equals,n=n||Object.hash,i=i||Function.noop,this.contentEquals=t,this.contentHash=n,this.content=i,this.order=new this.Order(void 0,t),this.store=new this.Store(void 0,function(e,n){return t(e.value,n.value)},function(e){return n(e.value)}),this.length=0,void this.addEach(e)):new v(e,t,n)}function y(e,t,n,i,o){return this instanceof y?(t=t||1/0,n=n||Object.equals,i=i||Object.hash,o=o||Function.noop,this.store=new Jt(void 0,n,i),this.contentEquals=n,this.contentHash=i,this.content=o,this.maxLength=t,this.length=0,void this.addEach(e)):new y(e,t,n,i)}function b(e,t,n,i,o){return this instanceof b?(n=n||Object.equals,i=i||Object.hash,o=o||Function.noop,this.contentEquals=n,this.contentHash=i,this.content=o,this.store=new nn(void 0,t,function(e,t){return n(e.key,t.key)},function(e){return i(e.key)}),this.length=0,void this.addEach(e)):new b(e,t,n,i)}function w(e,t,n,i){return this instanceof w?(t=t||Object.equals,n=n||Object.hash,i=i||Function.noop,this.contentEquals=t,this.contentHash=n,this.content=i,this.store=new ln(void 0,function(e,n){return t(e.key,n.key)},function(e){return n(e.key)}),this.length=0,void this.addEach(e)):new w(e,t,n)}function x(e,t,n,i){return this instanceof x?(this.bucket=t||this.bucket,void pn.call(this,e,n,i,function(e){var t=this.bucket();return pn.prototype.set.call(this,e,t),t})):new x(e,t,n,i)}function C(e,t,n,i){return this instanceof C?(Array.isArray(e)?(this.array=e,e=e.splice(0,e.length)):this.array=[],this.contentEquals=t||Object.equals,this.contentCompare=n||Object.compare,this.content=i||Function.noop,this.length=0,void this.addEach(e)):new C(e,t,n,i)}function _(e,t,n){for(var i=0,o=e.length-1;o>=i;){var r=i+o>>1,s=n(t,e[r]);if(s>0)i=r+1;else{if(!(0>s))return r;o=r-1}}return-(i+1)}function k(e,t,n,i){if(n=_(e,t,n),0>n)return-1;for(;n>0&&i(t,e[n-1]);)n--;return i(t,e[n])?n:-1}function S(e,t,n,i){if(n=_(e,t,n),0>n)return-1;for(;n<e.length-1&&i(t,e[n+1]);)n++;return i(t,e[n])?n:-1}function T(e,t,n,i){return this instanceof T?void yn.call(this,e,t,n,i):new T(e,t,n,i)}function E(e,t,n,i){return this instanceof E?(t=t||Object.equals,n=n||Object.compare,i=i||Function.noop,this.contentEquals=t,this.contentCompare=n,this.content=i,this.store=new Cn(null,function(e,n){return t(e.key,n.key)},function(e,t){return n(e.key,t.key)}),this.length=0,void this.addEach(e)):new E(e,t,n,i)}function P(e,t,n,i){return this instanceof P?(this.contentEquals=t||Object.equals,this.contentCompare=n||Object.compare,this.content=i||Function.noop,this.root=null,this.length=0,void this.addEach(e)):new P(e,t,n,i)}function M(e){this.value=e,this.right=this.left=null,this.length=1}function A(e,t,n){this.set=e,this.prev=null,this.end=n,t&&(e=this.set.findLeastGreaterThanOrEqual(t))&&(this.set.splay(e.value),this.prev=e.getPrevious())}function I(e,t,n,i){return this instanceof I?(t=t||Object.equals,n=n||Object.compare,i=i||Function.noop,this.contentEquals=t,this.contentCompare=n,this.content=i,this.store=new Dn(null,function(e,n){return t(e.key,n.key)},function(e,t){return n(e.key,t.key)}),this.length=0,void this.addEach(e)):new I(e,t,n,i)}var D={};D.module$exports=t,t.prototype.addEach=function(e){if(e&&Object(e)===e)if("function"==typeof e.forEach)e.forEach(this.add,this);else if("number"==typeof e.length)for(var t=0;t<e.length;t++)this.add(e[t],t);else Object.keys(e).forEach(function(t){this.add(e[t],t)},this)},t.prototype.deleteEach=function(e){e.forEach(function(e){this["delete"](e)},this)},t.prototype.forEach=function(e,t){return this.reduce(function(n,i,o,r,s){e.call(t,i,o,r,s)},void 0)},t.prototype.map=function(e,t){var n=[];return this.reduce(function(i,o,r,s,a){n.push(e.call(t,o,r,s,a))},void 0),n},t.prototype.toArray=function(){return this.map(Function.identity)},t.prototype.toObject=function(){var e={};return this.reduce(function(t,n,i){e[i]=n},void 0),e},t.prototype.filter=function(e,t){var n=this.constructClone();return this.reduce(function(i,o,r,s,a){e.call(t,o,r,s,a)&&n.add(o)},void 0),n},t.prototype.every=function(e,t){return this.reduce(function(n,i,o,r,s){return n&&e.call(t,i,o,r,s)},!0)},t.prototype.some=function(e,t){return this.reduce(function(n,i,o,r,s){return n||e.call(t,i,o,r,s)},!1)},t.prototype.all=function(){return this.every(Boolean)},t.prototype.any=function(){return this.some(Boolean)},t.prototype.min=function(e){return e=this.contentCompare||Object.compare,this.reduce(function(t,n){return 0>e(n,t)?n:t},1/0)},t.prototype.max=function(e){return e=this.contentCompare||Object.compare,this.reduce(function(t,n){return 0<e(n,t)?n:t},-1/0)},t.prototype.sum=function(e){return this.reduce(function(e,t){return e+t},void 0===e?0:e)},t.prototype.average=function(e){var t=void 0===e?0:e,n=void 0===e?0:e;return this.reduce(function(e,i){t+=i,n+=1},void 0),t/n},t.prototype.concat=function(){for(var e=this.constructClone(this),t=0;t<arguments.length;t++)e.addEach(arguments[t]);return e},t.prototype.flatten=function(){var e=this;return this.reduce(function(t,n){return n.forEach(function(e){this.push(e)},t,e),t},[])},t.prototype.zip=function(){var e=Array.prototype.slice.call(arguments);e.unshift(this);for(var t=[],n=1/0,i=0;i<e.length;i++){var o=e[i];e[i]=o.toArray(),o.length<n&&(n=o.length)}for(i=0;i<e.length;i++)for(var o=e[i],r=0;r<o.length;r++)n>r&&r in o&&(t[r]=t[r]||[],t[r][i]=o[r]);return t},t.prototype.sorted=function(e,t,n){return e=e||this.contentCompare||Object.compare,e.by?(t=e.by,e=e.compare||this.contentCompare||Object.compare):t=t||Function.identity,void 0===n&&(n=1),this.map(function(e){return{by:t(e),value:e}}).sort(function(t,i){return e(t.by,i.by)*n}).map(function(e){return e.value})},t.prototype.reversed=function(){return this.constructClone(this).reverse()},t.prototype.clone=function(e,t){if(void 0===e)e=1/0;else if(0===e)return this;var n=this.constructClone();return this.forEach(function(i,o){n.add(Object.clone(i,e-1,t),o)},this),n},t.prototype.only=function(){if(0===this.length)throw Error("Can't get only value in empty collection.");if(1<this.length)throw Error("Can't get only value in collection with multiple values.");return this.one()},D.module$exports&&(D=D.module$exports);var O={};O.module$exports=n,n.prototype.union=function(e){var t=this.constructClone(this);return t.addEach(e),t},n.prototype.intersection=function(e){return this.constructClone(this.filter(function(t){return e.has(t)}))},n.prototype.difference=function(e){var t=this.constructClone(this);return t.deleteEach(e),t},n.prototype.symmetricDifference=function(e){var t=this.union(e),e=this.intersection(e);return t.difference(e)},n.prototype.equals=function(e,t){var n=this;
return Object.can(e,"reduce")&&this.length===e.length&&e.reduce(function(e,i){return e&&n.has(i,t)},!0)},O.module$exports&&(O=O.module$exports);var N=D,R=Object.prototype.toString;Array.isArray||(Array.isArray=function(e){return"[object Array]"==R.call(e)}),Array.prototype.forEach||(Array.prototype.forEach=N.forEach),Array.prototype.map||(Array.prototype.map=N.map),Array.prototype.filter||(Array.prototype.filter=N.filter),Array.prototype.every||(Array.prototype.every=N.every),Array.prototype.some||(Array.prototype.some=N.some),Array.prototype.reduce||(Array.prototype.reduce=function(e){var t=toObject(this),n=t.length>>>0;if("[object Function]"!=R.call(e))throw new TypeError(e+" is not a function");if(!n&&1==arguments.length)throw new TypeError("reduce of empty array with no initial value");var i,o=0;if(2<=arguments.length)i=arguments[1];else for(;;){if(o in t){i=t[o++];break}if(++o>=n)throw new TypeError("reduce of empty array with no initial value")}for(;n>o;o++)o in t&&(i=e.call(void 0,i,t[o],o,t));return i}),Array.prototype.reduceRight||(Array.prototype.reduceRight=function(e){var t=toObject(this),n=t.length>>>0;if("[object Function]"!=R.call(e))throw new TypeError(e+" is not a function");if(!n&&1==arguments.length)throw new TypeError("reduceRight of empty array with no initial value");var i,n=n-1;if(2<=arguments.length)i=arguments[1];else for(;;){if(n in t){i=t[n--];break}if(0>--n)throw new TypeError("reduceRight of empty array with no initial value")}do n in this&&(i=e.call(void 0,i,t[n],n,t));while(n--);return i}),Array.prototype.indexOf||(Array.prototype.indexOf=function(e){var t=toObject(this),n=t.length>>>0;if(!n)return-1;var i=0;for(1<arguments.length&&(i=toInteger(arguments[1])),i=i>=0?i:Math.max(0,n+i);n>i;i++)if(i in t&&t[i]===e)return i;return-1}),Array.prototype.lastIndexOf||(Array.prototype.lastIndexOf=function(e){var t=toObject(this),n=t.length>>>0;if(!n)return-1;var i=n-1;for(1<arguments.length&&(i=Math.min(i,toInteger(arguments[1]))),i=i>=0?i:n-Math.abs(i);i>=0;i--)if(i in t&&e===t[i])return i;return-1});var F={};F.module$exports=Function,Function.noop=function(){},Function.identity=function(e){return e},Function.by=function(e,t){var t=t||Object.compare,e=e||Function.identity,n=function(n,i){return t(e(n),e(i))};return n.compare=t,n.by=e,n},F.module$exports&&(F=F.module$exports);var $={};$.module$exports=i,i.ascii={intersection:"+",through:"-",branchUp:"+",branchDown:"+",fromBelow:".",fromAbove:"'",fromBoth:"+",strafe:"|"},i.unicodeRound={intersection:"╋",through:"━",branchUp:"┻",branchDown:"┳",fromBelow:"╭",fromAbove:"╰",fromBoth:"┣",strafe:"┃"},i.unicodeSharp={intersection:"╋",through:"━",branchUp:"┻",branchDown:"┳",fromBelow:"┏",fromAbove:"┗",fromBoth:"┣",strafe:"┃"},$.module$exports&&($=$.module$exports);var j,L={},B=L;if("undefined"!=typeof WeakMap)j=WeakMap;else{var q=function(e){return e.prototype=null,Object.freeze(e)},z=Object.getOwnPropertyNames,H=Object.defineProperty,V={};z(Object).forEach(function(e){V[e]=Object[e]});var U="ident:"+Math.random()+"___";if("undefined"!=typeof crypto&&"function"==typeof crypto.getRandomValues&&"function"==typeof ArrayBuffer&&"function"==typeof Uint8Array){var W=new ArrayBuffer(25),W=new Uint8Array(W);crypto.getRandomValues(W),U="rand:"+Array.prototype.map.call(W,function(e){return(e%36).toString(36)}).join("")+"___"}H(Object,"getOwnPropertyNames",{value:function(e){return z(e).filter(function(e){return e!==U})}}),"getPropertyNames"in Object&&H(Object,"getPropertyNames",{value:function(e){return V.getPropertyNames(e).filter(function(e){return e!==U})}});var G=function(e){if(e!==Object(e))throw new TypeError("Not an object: "+e);var t=e[U];return t&&t.key===e?t:V.isExtensible(e)?(t={key:e,gets:[],vals:[]},H(e,U,{value:t,writable:!1,enumerable:!1,configurable:!1}),t):void 0},Y=Object.freeze;H(Object,"freeze",{value:function(e){return G(e),Y(e)}});var K=Object.seal;H(Object,"seal",{value:function(e){return G(e),K(e)}});var Q=Object.preventExtensions;H(Object,"preventExtensions",{value:function(e){return G(e),Q(e)}});var J=function(){function e(i,o){var r,s=G(i);return s?(r=s.gets.indexOf(e),s=s.vals):(r=t.indexOf(i),s=n),r>=0?s[r]:o}var t=[],n=[];return Object.create(J.prototype,{get___:{value:q(e)},has___:{value:q(function(n){var i=G(n);return 0<=(i?i.gets.indexOf(e):t.indexOf(n))})},set___:{value:q(function(i,o){var r,s=G(i);s?(r=s.gets.indexOf(e),r>=0?s.vals[r]=o:(s.gets.push(e),s.vals.push(o))):(r=t.indexOf(i),r>=0?n[r]=o:(t.push(i),n.push(o)))})},delete___:{value:q(function(i){var o=G(i);return o?(i=o.gets.indexOf(e),i>=0&&(o.gets.splice(i,1),o.vals.splice(i,1))):(i=t.indexOf(i),i>=0&&(t.splice(i,1),n.splice(i,1))),!0})}})};J.prototype=Object.create(Object.prototype,{get:{value:function(e,t){return this.get___(e,t)},writable:!0,configurable:!0},has:{value:function(e){return this.has___(e)},writable:!0,configurable:!0},set:{value:function(e,t){this.set___(e,t)},writable:!0,configurable:!0},"delete":{value:function(e){return this.delete___(e)},writable:!0,configurable:!0}}),j=J}B.module$exports=j,L.module$exports&&(L=L.module$exports);var X={},Z=L,et=Object.prototype.hasOwnProperty,tt=new Z,nt=new Z;X.module$exports=o,o.prototype.getOwnPropertyChangeDescriptor=function(e){tt.has(this)||tt.set(this,{});var t=tt.get(this);return et.call(t,e)||(t[e]={willChangeListeners:[],changeListeners:[]}),t[e]},o.prototype.hasOwnPropertyChangeDescriptor=function(e){if(!tt.has(this))return!1;if(!e)return!0;var t=tt.get(this);return et.call(t,e)?!0:!1},o.prototype.addOwnPropertyChangeListener=function(e,t,n){this.makeObservable&&!this.isObservable&&this.makeObservable();var i=o.getOwnPropertyChangeDescriptor(this,e),n=n?i.willChangeListeners:i.changeListeners;o.makePropertyObservable(this,e),n.push(t)},o.prototype.addBeforeOwnPropertyChangeListener=function(e,t){return o.addOwnPropertyChangeListener(this,e,t,!0)},o.prototype.removeOwnPropertyChangeListener=function(e,t,n){var i=o.getOwnPropertyChangeDescriptor(this,e),n=n?i.willChangeListeners:i.changeListeners,t=n.lastIndexOf(t);if(-1===t)throw Error("Can't remove listener: does not exist.");n.splice(t,1),0===i.changeListeners.length+i.willChangeListeners.length&&o.makePropertyUnobservable(this,e)},o.prototype.removeBeforeOwnPropertyChangeListener=function(e,t){return o.removeOwnPropertyChangeListener(this,e,t,!0)},o.prototype.dispatchOwnPropertyChange=function(e,t,n){var i=o.getOwnPropertyChangeDescriptor(this,e),i=n?i.willChangeListeners:i.changeListeners,n=(n?"Will":"")+"Change",r="handleProperty"+n,s=String(e),s=s&&s[0].toUpperCase()+s.slice(1),a="handle"+s+n;i.forEach(function(n){var i=n,n=n[a]||n[r]||n;n.call&&n.call(i,t,e,this)},this)},o.prototype.dispatchBeforeOwnPropertyChange=function(e,t){return o.dispatchOwnPropertyChange(this,e,t,!0)},o.prototype.makePropertyObservable=function(e){if(!Array.isArray(this)){nt.has(this)||(t={},nt.set(this,t));var t=nt.get(this);if(!et.call(t,e)){var n,i=this;Object.getOwnPropertyDescriptor(i,e);do{if(n=Object.getOwnPropertyDescriptor(i,e))break;i=Object.getPrototypeOf(i)}while(i);if(n=n||{value:void 0,enumerable:!0,writable:!0,configurable:!0},!n.configurable)throw Error("Can't observe non-configurable properties");t[e]=n,(n.writable||n.set)&&Object.defineProperty(this,e,"value"in n?{get:function(){return n.value},set:function(t){return t===n.value?t:(o.dispatchBeforeOwnPropertyChange(this,e,n.value),n.value=t,o.dispatchOwnPropertyChange(this,e,t),t)},enumerable:n.enumerable,configurable:!0}:{get:function(){return n.get?n.get.apply(this,arguments):void 0},set:function(t){var i;return n.get&&(i=n.get.apply(this,arguments)),t===i?t:(o.dispatchBeforeOwnPropertyChange(this,e,i),n.set&&n.set.apply(this,arguments),n.get&&(t=n.get.apply(this,arguments)),o.dispatchOwnPropertyChange(this,e,t),t)},enumerable:n.enumerable,configurable:!0})}}},o.prototype.makePropertyUnobservable=function(e){if(!Array.isArray(this)){if(!nt.has(this))throw Error("Can't uninstall observer on property");var t=nt.get(this);if(!t[e])throw Error("Can't uninstall observer on property");var n=t[e];delete t[e],Object.defineProperty(this,e,n)}},o.getOwnPropertyChangeDescriptor=function(e,t){return e.getOwnPropertyChangeDescriptor?e.getOwnPropertyChangeDescriptor(t):o.prototype.getOwnPropertyChangeDescriptor.call(e,t)},o.hasOwnPropertyChangeDescriptor=function(e,t){return e.hasOwnPropertyChangeDescriptor?e.hasOwnPropertyChangeDescriptor(t):o.prototype.hasOwnPropertyChangeDescriptor.call(e,t)},o.addOwnPropertyChangeListener=function(e,t,n,i){return e.addOwnPropertyChangeListener?e.addOwnPropertyChangeListener(t,n,i):o.prototype.addOwnPropertyChangeListener.call(e,t,n,i)},o.removeOwnPropertyChangeListener=function(e,t,n,i){return e.removeOwnPropertyChangeListener?e.removeOwnPropertyChangeListener(t,n,i):o.prototype.removeOwnPropertyChangeListener.call(e,t,n,i)},o.dispatchOwnPropertyChange=function(e,t,n,i){return e.dispatchOwnPropertyChange?e.dispatchOwnPropertyChange(t,n,i):o.prototype.dispatchOwnPropertyChange.call(e,t,n,i)},o.addBeforeOwnPropertyChangeListener=function(e,t,n){return o.addOwnPropertyChangeListener(e,t,n,!0)},o.removeBeforeOwnPropertyChangeListener=function(e,t,n){return o.removeOwnPropertyChangeListener(e,t,n,!0)},o.dispatchBeforeOwnPropertyChange=function(e,t,n){return o.dispatchOwnPropertyChange(e,t,n,!0)},o.makePropertyObservable=function(e,t){return e.makePropertyObservable?e.makePropertyObservable(t):o.prototype.makePropertyObservable.call(e,t)},o.makePropertyUnobservable=function(e,t){return e.makePropertyUnobservable?e.makePropertyUnobservable(t):o.prototype.makePropertyUnobservable.call(e,t)},X.module$exports&&(X=X.module$exports);var it={},ot=new L;it.module$exports=r,r.prototype.getRangeChangeDescriptor=function(){return ot.has(this)||ot.set(this,{isActive:!1,changeListeners:[],willChangeListeners:[]}),ot.get(this)},r.prototype.addRangeChangeListener=function(e,t){!this.isObservable&&this.makeObservable&&this.makeObservable();var n=this.getRangeChangeDescriptor();(t?n.willChangeListeners:n.changeListeners).push(e),this.dispatchesRangeChanges=!!(n.willChangeListeners.length+n.changeListeners.length)},r.prototype.removeRangeChangeListener=function(e,t){var n,i=this.getRangeChangeDescriptor();n=t?i.willChangeListeners:i.changeListeners;var o=n.lastIndexOf(e);if(-1===o)throw Error("Can't remove listener: does not exist.");n.splice(o,1),this.dispatchesRangeChanges=!!(i.willChangeListeners.length+i.changeListeners.length)},r.prototype.dispatchRangeChange=function(e,t,n,i){var o=this.getRangeChangeDescriptor();if(!o.isActive){o.isActive=!0;var r;r=i?o.willChangeListeners:o.changeListeners;try{r.forEach(function(o){o.handleEvent?o.handleEvent({phase:i?"before":"after",currentTarget:this,target:this,plus:e,minus:t,index:n}):(o=i?o.handleRangeWillChange||o:o.handleRangeChange||o,o.call&&o.call(this,e,t,n,i))},this)}finally{o.isActive=!1}}},r.prototype.addBeforeRangeChangeListener=function(e){return this.addRangeChangeListener(e,!0)},r.prototype.removeBeforeRangeChangeListener=function(e){return this.removeRangeChangeListener(e,!0)},r.prototype.dispatchBeforeRangeChange=function(e,t,n){return this.dispatchRangeChange(e,t,n,!0)},it.module$exports&&(it=it.module$exports);var rt={},st=L;rt.module$exports=Object,Object.empty=Object.freeze(Object.create(null)),Object.isObject=function(e){return Object(e)===e},Object.getValueOf=function(e){return Object.can(e,"valueOf")&&(e=e.valueOf()),e};var at=new st;Object.hash=function(e){return Object.can(e,"hash")?""+e.hash():Object(e)===e?(at.has(e)||at.set(e,Math.random().toString(36).slice(2)),at.get(e)):""+e};var lt=Object.prototype.hasOwnProperty;Object.owns=function(e,t){return lt.call(e,t)},Object.can=function(e,t){return null!=e&&"function"==typeof e[t]&&!lt.call(e,t)},Object.has=function(e,t){if("object"!=typeof e)throw Error("Object.has can't accept non-object: "+typeof e);if(Object.can(e,"has"))return e.has(t);if("string"==typeof t)return t in e&&e[t]!==Object.prototype[t];throw Error("Key must be a string for Object.has on plain objects")},Object.get=function(e,t,n){if("object"!=typeof e)throw Error("Object.get can't accept non-object: "+typeof e);return Object.can(e,"get")?e.get(t,n):Object.has(e,t)?e[t]:n},Object.set=function(e,t,n){Object.can(e,"set")?e.set(t,n):e[t]=n},Object.addEach=function(e,t){Object.can(t,"forEach")?t.forEach("function"==typeof t.keys?function(t,n){e[n]=t}:function(t){e[t[0]]=t[1]}):Object.keys(t).forEach(function(n){e[n]=t[n]})},Object.forEach=function(e,t,n){Object.keys(e).forEach(function(i){t.call(n,e[i],i,e)})},Object.map=function(e,t,n){return Object.keys(e).map(function(i){return t.call(n,e[i],i,e)})},Object.values=function(e){return Object.map(e,Function.identity)},Object.is=function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t},Object.equals=function(e,t,n){if(n=n||Object.equals,e=Object.getValueOf(e),t=Object.getValueOf(t),e===t)return 0!==e||1/e===1/t;if(Object.can(e,"equals"))return e.equals(t,n);if(Object.can(t,"equals"))return t.equals(e,n);if("object"==typeof e&&"object"==typeof t){var i=Object.getPrototypeOf(e),o=Object.getPrototypeOf(t);if(i===o&&(i===Object.prototype||null===i)){for(var r in e)if(!n(e[r],t[r]))return!1;for(r in t)if(!n(e[r],t[r]))return!1;return!0}}return e!==e&&t!==t},Object.compare=function(e,t){var e=Object.getValueOf(e),t=Object.getValueOf(t),n=typeof e;return e===t||n!==typeof t?0:"number"===n?e-t:"string"===n?t>e?-1:1:Object.can(e,"compare")?e.compare(t):Object.can(t,"compare")?-t.compare(e):0},Object.clone=function(e,t,n){if(e=Object.getValueOf(e),n=n||new st,void 0===t)t=1/0;else if(0===t)return e;if(Object.isObject(e)){if(!n.has(e))if(Object.can(e,"clone"))n.set(e,e.clone(t,n));else{var i=Object.getPrototypeOf(e);if(null!==i&&i!==Object.prototype)throw Error("Can't clone "+e);i=Object.create(i),n.set(e,i);for(var o in e)i[o]=Object.clone(e[o],t-1,n)}return n.get(e)}return e},Object.clear=function(e){if(Object.can(e,"clear"))e.clear();else for(var t=Object.keys(e),n=t.length;n;)n--,delete e[t[n]];return e},rt.module$exports&&(rt=rt.module$exports);var ct={},ut=rt;ct.module$exports=s,s.prototype.equals=function(e,t){return t=t||this.contentEquals||ut.equals,this===e?!0:e?this.length===e.length&&this.zip(e).every(function(e){return t(e[0],e[1])}):!1},s.prototype.compare=function(e,t){if(t=t||this.contentCompare||ut.compare,this===e)return 0;if(!e)return 1;var n=Math.min(this.length,e.length),i=this.zip(e).reduce(function(e,i,o){return 0===e?o>=n?e:t(i[0],i[1]):e},0);return 0===i?this.length-e.length:i},ct.module$exports&&(ct=ct.module$exports);var dt={};dt.module$exports=a;var ht=rt;if(ht.addEach(a.prototype,D.prototype),a.prototype.constructClone=function(e){var t=[];return Reducible.addEach.call(t,e),t},a.prototype.mapIterator=function(e,t){var n=a(this),i=0;if("[object Function]"!=ht.prototype.toString.call(e))throw new TypeError;return new n.constructor(function(){return e.call(t,n.next(),i++,n)})},a.prototype.filterIterator=function(e,t){var n=a(this),i=0;if("[object Function]"!=ht.prototype.toString.call(e))throw new TypeError;return new n.constructor(function(){for(var o;;)if(o=n.next(),e.call(t,o,i++,n))return o})},a.prototype.reduce=function(e){var t,n=a(this),i=arguments[1],o=arguments[2],r=0;if("[object Function]"!=ht.prototype.toString.call(e))throw new TypeError;try{t=n.next(),i=1<arguments.length?e.call(o,i,t,r,n):t,r++}catch(s){if(isStopIteration(s)){if(1<arguments.length)return arguments[1];throw TypeError("cannot reduce a value from an empty iterator with no initial value")}throw s}try{for(;;)t=n.next(),i=e.call(o,i,t,r,n),r++}catch(l){if(isStopIteration(l))return i;throw l}},a.prototype.every=function(e){var t=a(this),n=!0;if("[object Function]"!=ht.prototype.toString.call(e))throw new TypeError;return t.mapIterator.apply(t,arguments).forEach(function(e){if(!e)throw n=!1,StopIteration}),n},a.prototype.some=function(e){var t=a(this),n=!1;if("[object Function]"!=ht.prototype.toString.call(e))throw new TypeError;return t.mapIterator.apply(t,arguments).forEach(function(e){if(e)throw n=!0,StopIteration}),n},a.prototype.concat=function(){return a.concat(Array.prototype.concat.apply(this,arguments))},a.prototype.dropWhile=function(e,t){var n,i=a(this),o=!1;if("[object Function]"!=ht.prototype.toString.call(e))throw new TypeError;return i.forEach(function(r,s){if(!e.call(t,r,s,i))throw o=!0,n=r,StopIteration}),o?i.constructor([n]).concat(i):i.constructor([])},a.prototype.takeWhile=function(e,t){var n=a(this);if("[object Function]"!=ht.prototype.toString.call(e))throw new TypeError;return n.mapIterator(function(i,o){if(!e.call(t,i,o,n))throw StopIteration;return i})},a.prototype.filterIterator=function(e,t){var n=a(this),i=0;if("[object Function]"!=ht.prototype.toString.call(e))throw new TypeError;return new n.constructor(function(){for(var o;;)if(o=n.next(),e.call(t,o,i++,n))return o})},a.prototype.zip=function(){return a.transpose(Array.prototype.concat.apply(this,arguments))},a.prototype.enumerate=function(e){return a.count(e).zip(this)},a.iterate=function(e){var t;return t=0,new a(function(){if("object"==typeof e)for(;!(t in e);){if(t>=e.length)throw StopIteration;t+=1}else if(t>=e.length)throw StopIteration;var n=e[t];return t+=1,n})},a.cycle=function(e,t){2>arguments.length&&(t=1/0);var n=function(){throw StopIteration};return new a(function(){var i;try{return n()}catch(o){if(isStopIteration(o)){if(0>=t)throw o;return t--,i=a.iterate(e),(n=i.next.bind(i))()}throw o}})},a.concat=function(e){var e=a(e),t=function(){throw StopIteration};return new a(function(){var n;try{return t()}catch(i){if(isStopIteration(i))return n=a(e.next()),(t=n.next.bind(n))();throw i}})},a.transpose=function(e){return e=a(e).map(a),new a(1>e.length?[]:function(){var t,n=e.map(function(e){try{return e.next()}catch(n){if(!isStopIteration(n))throw n;t=!0}});if(t)throw StopIteration;return n})},a.zip=function(){return a.transpose(Array.prototype.slice.call(arguments))},a.chain=function(){return a.concat(Array.prototype.slice.call(arguments))},a.range=function(e,t,n){return 3>arguments.length&&(n=1),2>arguments.length&&(t=e,e=0),e=e||0,new a(function(){if(e>=t)throw StopIteration;if(isNaN(e))throw"";var i=e;return e+=n,i})},a.count=function(e,t){return a.range(e,1/0,t||1)},a.repeat=function(e,t){return 2>arguments.length&&(t=1/0),new a.range(+t).mapIterator(function(){return e})},"undefined"==typeof isStopIteration&&(e.isStopIteration=function(e){return"[object StopIteration]"===ht.prototype.toString.call(e)}),"undefined"==typeof StopIteration){e.StopIteration={};var pt=ht.prototype.toString;ht.prototype.toString=function(){return this===e.StopIteration||this instanceof e.ReturnValue?"[object StopIteration]":pt.call(this,arguments)}}"undefined"==typeof ReturnValue&&(e.ReturnValue=function(t){return this instanceof e.ReturnValue?void(this.value=t):new e.ReturnValue(t)}),dt.module$exports&&(dt=dt.module$exports);var ft={},mt=D,gt=ct,vt=L;ft.module$exports=Array,Array.empty=[],Object.freeze&&Object.freeze(Array.empty),Array.from=function(e){var t=[];return t.addEach(e),t},Array.prototype.addEach=mt.prototype.addEach,Array.prototype.deleteEach=mt.prototype.deleteEach,Array.prototype.toArray=mt.prototype.toArray,Array.prototype.toObject=mt.prototype.toObject,Array.prototype.all=mt.prototype.all,Array.prototype.any=mt.prototype.any,Array.prototype.min=mt.prototype.min,Array.prototype.max=mt.prototype.max,Array.prototype.sum=mt.prototype.sum,Array.prototype.average=mt.prototype.average,Array.prototype.only=mt.prototype.only,Array.prototype.flatten=mt.prototype.flatten,Array.prototype.zip=mt.prototype.zip,Array.prototype.sorted=mt.prototype.sorted,Array.prototype.reversed=mt.prototype.reversed,Array.prototype.constructClone=function(e){var t=new this.constructor;return t.addEach(e),t},Array.prototype.has=function(e,t){return-1!==this.find(e,t)},Array.prototype.get=function(e){if(+e!==e)throw Error("Indicies must be numbers");return this[e]},Array.prototype.set=function(e,t){return this.splice(e,1,t),!0},Array.prototype.add=function(e){return this.push(e),!0},Array.prototype["delete"]=function(e,t){var n=this.find(e,t);return-1!==n?(this.splice(n,1),!0):!1},Array.prototype.find=function(e,t){for(var t=t||this.contentEquals||Object.equals,n=0;n<this.length;n++)if(n in this&&t(this[n],e))return n;return-1},Array.prototype.findLast=function(e,t){var t=t||this.contentEquals||Object.equals,n=this.length;do if(n--,n in this&&t(this[n],e))return n;while(n>0);return-1},Array.prototype.swap=function(e,t,n){var i=Array.prototype.slice.call(arguments,0,2);return n&&i.push.apply(i,n),this.splice.apply(this,i)},Array.prototype.one=function(){if(0===this.length)throw Error("Can't get one element from empty array.");for(var e in this)if(Object.owns(this,e))return this[e]},Array.prototype.clear=function(){return this.length=0,this},Array.prototype.compare=function(e,t){var n,i,o,r,t=t||Object.compare;if(this===e)return 0;if(!e||!Array.isArray(e))return gt.prototype.compare.call(this,e,t);for(i=Math.min(this.length,e.length),n=0;i>n;n++)if(n in this){if(!(n in e))return-1;if(o=this[n],r=e[n],o=t(o,r))return o}else if(n in e)return 1;return this.length-e.length},Array.prototype.equals=function(e){var t,n,i=i||Object.equals,o=0,r=this.length;if(this===e)return!0;if(!e||!Array.isArray(e))return gt.prototype.equals.call(this,e);if(r!==e.length)return!1;for(;r>o;++o)if(o in this){if(t=this[o],n=e[o],t!==n&&t&&n&&!i(t,n))return!1}else if(o in e)return!1;return!0},Array.prototype.clone=function(e,t){if(void 0===e)e=1/0;else if(0===e)return this;var n,t=t||new vt,i=[];for(n in this)Object.owns(this,n)&&(i[n]=Object.clone(this[n],e-1,t));return i},Array.prototype.iterate=function(e,t){return new l(this,e,t)},Array.prototype.Iterator=l,l.prototype.next=function(){if(this.start===(null==this.end?this.array.length:this.end))throw StopIteration;return this.array[this.start++]},ft.module$exports&&(ft=ft.module$exports);var yt={};yt.module$exports=c;var bt=ct,wt=X;Object.addEach(c.prototype,D.prototype),Object.addEach(c.prototype,bt.prototype),Object.addEach(c.prototype,wt.prototype),c.prototype.constructClone=function(e){return new this.constructor(e,this.contentEquals,this.content)},c.prototype.find=function(e,t){for(var t=t||this.contentEquals,n=this.head,i=n.next;i!==n;){if(t(i.value,e))return i;i=i.next}},c.prototype.findLast=function(e,t){for(var t=t||this.contentEquals,n=this.head,i=n.prev;i!==n;){if(t(i.value,e))return i;i=i.prev}},c.prototype.has=function(e,t){return!!this.find(e,t)},c.prototype.get=function(e,t){var n=this.find(e,t);return n?n.value:this.content()},c.prototype["delete"]=function(e,t){var n=this.findLast(e,t);return n?(n["delete"](),this.length--,!0):!1},c.prototype.clear=function(){this.head.next=this.head.prev=this.head,this.length=0},c.prototype.add=function(e){return this.head.addBefore(new this.Node(e)),this.length++,!0},c.prototype.push=function(){for(var e=this.head,t=0;t<arguments.length;t++){var n=new this.Node(arguments[t]);e.addBefore(n),this.length++}},c.prototype.unshift=function(){for(var e=this.head,t=0;t<arguments.length;t++){var n=new this.Node(arguments[t]);e.addAfter(n),this.length++,e=n}},c.prototype.pop=function(){var e,t=this.head;return t.prev!==t&&(e=t.prev.value,t.prev["delete"](),this.length--),e},c.prototype.shift=function(){var e,t=this.head;return t.prev!==t&&(e=t.next.value,t.next["delete"](),this.length--),e},c.prototype.scan=function(e,t){var n=this.head;if("number"==typeof e){var i=e;if(i>=0)for(e=n.next;i&&(i--,e=e.next,!(e==n)););else for(e=n;0>i&&(i++,e=e.prev,!(e==n)););return e}return e||t},c.prototype.slice=function(e,t){for(var n=[],i=this.head,e=this.scan(e,i.next),t=this.scan(t,i);e!==t&&e!==i;)n.push(e.value),e=e.next;return n},c.prototype.splice=function(e,t){return this.swap(e,t,Array.prototype.slice.call(arguments,2))},c.prototype.swap=function(e,t,n){var i=[],o=e,e=this.scan(e,this.head);for(void 0===t&&(t=1/0);t--&&t>=0&&e!==this.head;)i.push(e.value),e["delete"](),e=e.next,this.length--;if(n){for(null===o&&e===this.head&&(e=this.head.next),t=0;t<n.length;t++)o=new this.Node(n[t]),e.addBefore(o);this.length+=n.length}return i},c.prototype.reverse=function(){var e=this.head;do{var t=e.next;e.next=e.prev,e.prev=t,e=e.next}while(e!==this.head);return this},c.prototype.reduce=function(e,t,n){for(var i=this.head,o=i.next;o!==i;)t=e.call(n,t,o.value,o,this),o=o.next;return t},c.prototype.reduceRight=function(e,t,n){for(var i=this.head,o=i.prev;o!==i;)t=e.call(n,t,o.value,o,this),o=o.prev;return t},c.prototype.one=function(){if(this.head===this.head.next)throw Error("Can't get one value from empty list");return this.head.next.value},c.prototype.iterate=function(){return new u(this.head)},u.prototype.next=function(){if(this.at===this.head)throw StopIteration;var e=this.at.value;return this.at=this.at.next,e},c.prototype.Node=d,d.prototype["delete"]=function(){this.prev.next=this.next,this.next.prev=this.prev},d.prototype.addBefore=function(e){var t=this.prev;this.prev=e,e.prev=t,t.next=e,e.next=this},d.prototype.addAfter=function(e){var t=this.next;this.next=e,e.next=t,t.prev=e,e.prev=this},yt.module$exports&&(yt=yt.module$exports);var xt={},Ct=yt;xt.module$exports=h,h.prototype.getMapChangeDescriptor=function(){return this.mapChangeDescriptor||(this.mapChangeDescriptor={willChangeListeners:new Ct,changeListeners:new Ct}),this.mapChangeDescriptor},h.prototype.addMapChangeListener=function(e,t){this.makeObservable&&!this.dispatchMapChanges&&this.makeObservable();var n=this.getMapChangeDescriptor();(t?n.willChangeListeners:n.changeListeners).push(e),this.dispatchesMapChanges=!0},h.prototype.removeMapChangeListener=function(e,t){var n=this.getMapChangeDescriptor(),n=(t?n.willChangeListeners:n.changeListeners).findLast(e);if(!n)throw Error("Can't remove listener: does not exist.");n["delete"]()},h.prototype.dispatchMapChange=function(e,t,n){var i=this.getMapChangeDescriptor(),o="handleMap"+((n?"Will":"")+"Change");(n?i.willChangeListeners:i.changeListeners).forEach(function(n){var i=n,n=n[o]||n;n.call&&n.call(i,t,e,this)},this)},h.prototype.addBeforeMapChangeListener=function(e){return this.addMapChangeListener(e,!0)},h.prototype.removeBeforeMapChangeListener=function(e){return this.removeMapChangeListener(e,!0)},h.prototype.dispatchBeforeMapChange=function(e,t){return this.dispatchMapChange(e,t,!0)},xt.module$exports&&(xt=xt.module$exports);var _t={},kt=rt,St=xt,Tt=X;_t.module$exports=p,kt.addEach(p.prototype,St.prototype),kt.addEach(p.prototype,Tt.prototype),p.prototype.addEach=function(e){e&&kt(e)===e&&("function"==typeof e.forEach?"function"==typeof e.keys?e.forEach(function(e,t){this.set(t,e)},this):e.forEach(function(e){this.set(e[0],e[1])},this):kt.keys(e).forEach(function(t){this.set(t,e[t])},this))},p.prototype.get=function(e,t){var n=this.store.get(new this.Item(e));return n?n.value:1<arguments.length?t:this.content(e)},p.prototype.set=function(e,t){var n=new this.Item(e,t),i=this.store.get(n),o=!1;return i?(this.dispatchesMapChanges&&this.dispatchBeforeMapChange(e,i.value),i.value=t):(this.dispatchesMapChanges&&this.dispatchBeforeMapChange(e,void 0),this.store.add(n)&&(this.length++,o=!0)),this.dispatchesMapChanges&&this.dispatchMapChange(e,t),o},p.prototype.add=function(e,t){return this.set(t,e)},p.prototype.has=function(e){return this.store.has(new this.Item(e))},p.prototype["delete"]=function(e){var t=new this.Item(e);if(this.store.has(t)){var n=this.store.get(t).value;return this.dispatchesMapChanges&&this.dispatchBeforeMapChange(e,n),this.store["delete"](t),this.length--,this.dispatchesMapChanges&&this.dispatchMapChange(e,void 0),!0}return!1},p.prototype.clear=function(){this.store.clear(),this.length=0},p.prototype.reduce=function(e,t,n){return this.store.reduce(function(t,i){return e.call(n,t,i.value,i.key,this)},t,this)},p.prototype.reduceRight=function(e,t,n){return this.store.reduceRight(function(t,i){return e.call(n,t,i.value,i.key,this)},t,this)},p.prototype.keys=function(){return this.map(function(e,t){return t})},p.prototype.values=function(){return this.map(Function.identity)},p.prototype.items=function(){return this.map(function(e,t){return[t,e]})},p.prototype.equals=function(e,t){return t=t||kt.equals,this===e?!0:kt.can(e,"every")?e.length===this.length&&e.every(function(e,n){return t(this.get(n),e)},this):kt.keys(e).length===this.length&&kt.keys(e).every(function(n){return t(this.get(n),e[n])},this)},p.prototype.Item=function(e,t){this.key=e,this.value=t},_t.module$exports&&(_t=_t.module$exports);var Et={},Pt=D,Mt=_t,At=X;Et.module$exports=f,Object.addEach(f.prototype,Pt.prototype),Object.addEach(f.prototype,Mt.prototype),Object.addEach(f.prototype,At.prototype),f.prototype.constructClone=function(e){return new this.constructor(e,this.mangle,this.content)},f.prototype.assertString=function(e){if("string"!=typeof e)throw new TypeError("key must be a string.")},f.prototype.get=function(e,t){this.assertString(e);var n="~"+e;return n in this.store?this.store[n]:1<arguments.length?t:this.content()},f.prototype.set=function(e,t){this.assertString(e);var n="~"+e;return n in this.store?(this.store[n]=t,!1):(this.length++,this.store[n]=t,!0)},f.prototype.has=function(e){return this.assertString(e),"~"+e in this.store},f.prototype["delete"]=function(e){return this.assertString(e),"~"+e in this.store?(delete this.store["~"+e],this.length--,!0):!1},f.prototype.clear=function(){for(var e in this.store)delete this.store[e];this.length=0},f.prototype.reduce=function(e,t,n){for(var i in this.store)t=e.call(n,t,this.store[i],i.slice(1),this);return t},f.prototype.one=function(){for(var e in this.store)return this.store[e];throw Error("Can't get one value from empty dictionary.")},Et.module$exports&&(Et=Et.module$exports);var It={},Dt=Et,Ot=yt,Nt=D,Rt=O,Ft=$,$t=X;It.module$exports=m,Object.addEach(m.prototype,Nt.prototype),Object.addEach(m.prototype,Rt.prototype),Object.addEach(m.prototype,$t.prototype),m.prototype.Buckets=Dt,m.prototype.Bucket=Ot,m.prototype.constructClone=function(e){return new this.constructor(e,this.contentEquals,this.contentHash,this.content)},m.prototype.has=function(e){var t=this.contentHash(e);return this.buckets.get(t).has(e)},m.prototype.get=function(e){var t=this.contentHash(e),n=this.buckets;return n.has(t)?n.get(t).get(e):this.content(e)},m.prototype["delete"]=function(e){var t=this.contentHash(e),n=this.buckets;if(n.has(t)){var i=n.get(t);if(i["delete"](e))return this.length--,0===i.length&&n["delete"](t),!0}return!1},m.prototype.clear=function(){this.buckets.clear(),this.length=0},m.prototype.add=function(e){var t=this.contentHash(e),n=this.buckets;return n.has(t)||n.set(t,new this.Bucket(null,this.contentEquals)),n.get(t).has(e)?!1:(n.get(t).add(e),this.length++,!0)},m.prototype.reduce=function(e,t,n){return this.buckets.reduce(function(t,i){return i.reduce(function(t,i){return e.call(n,t,i,i,this)},t,this)},t,this)},m.prototype.one=function(){if(0===this.length)throw Error("Can't get one value from empty set.");return this.buckets.one().one()},m.prototype.iterate=function(){return this.buckets.values().flatten().iterate()},m.prototype.log=function(e,t,n,i){e=e||Ft.unicodeSharp,t=t||this.logNode,n||(n=console.log,i=console);var n=n.bind(i),o=this.buckets,r=o.keys();r.forEach(function(s,a){var l,c;a===r.length-1?(l=e.fromAbove,c=" "):(l=0===a?e.branchDown:e.fromBoth,c=e.strafe);var u=o.get(s);n.call(i,l+e.through+e.branchDown+" "+s),u.forEach(function(o,r){var s,a;r===u.head.prev?(s=e.fromAbove,a=" "):(s=e.fromBoth,a=e.strafe);var l;t(r,function(t){l?n.call(i,c+" "+a+"  "+t):(n.call(i,c+" "+s+e.through+e.through+t),l=!0)},function(t){n.call(i,c+" "+e.strafe+"  "+t)})})})},m.prototype.logNode=function(e,t){var n=e.value;Object(n)===n?JSON.stringify(n,null,4).split("\n").forEach(function(e){t(" "+e)}):t(" "+n)},It.module$exports&&(It=It.module$exports);var jt={},Lt=It,Bt=D,qt=_t,zt=X;jt.module$exports=g,Object.addEach(g.prototype,Bt.prototype),Object.addEach(g.prototype,qt.prototype),Object.addEach(g.prototype,zt.prototype),g.prototype.constructClone=function(e){return new this.constructor(e,this.contentEquals,this.contentHash,this.content)
},g.prototype.log=function(e,t){t=t||this.stringify,this.store.log(e,t)},g.prototype.stringify=function(e,t){return t+JSON.stringify(e.key)+": "+JSON.stringify(e.value)},jt.module$exports&&(jt=jt.module$exports);var Ht={},Vt=yt,Ut=It,Wt=D,Gt=O,Yt=X,Kt=it;Ht.module$exports=v,Object.addEach(v.prototype,Wt.prototype),Object.addEach(v.prototype,Gt.prototype),Object.addEach(v.prototype,Yt.prototype),Object.addEach(v.prototype,Kt.prototype),v.prototype.Order=Vt,v.prototype.Store=Ut,v.prototype.constructClone=function(e){return new this.constructor(e,this.contentEquals,this.contentHash,this.content)},v.prototype.has=function(e){return e=new this.order.Node(e),this.store.has(e)},v.prototype.get=function(e){var t=new this.order.Node(e);return(t=this.store.get(t))?t.value:this.content(e)},v.prototype.add=function(e){var t=new this.order.Node(e);return this.store.has(t)?!1:(this.dispatchesRangeChanges&&this.dispatchBeforeRangeChange([e],[],0),this.order.add(e),t=this.order.head.prev,this.store.add(t),this.length++,this.dispatchesRangeChanges&&this.dispatchRangeChange([e],[],0),!0)},v.prototype["delete"]=function(e){var t=new this.order.Node(e);return this.store.has(t)?(this.dispatchesRangeChanges&&this.dispatchBeforeRangeChange([],[e],0),t=this.store.get(t),this.store["delete"](t),t["delete"](),this.length--,this.dispatchesRangeChanges&&this.dispatchRangeChange([],[e],0),!0):!1},v.prototype.one=function(){if(0===this.length)throw Error("Can't get one value from empty set.");return this.store.one().value},v.prototype.clear=function(){this.store.clear(),this.order.clear(),this.length=0},v.prototype.reduce=function(e,t,n){return this.order.reduce(function(t,i){return e.call(n,t,i,i,this)},t,this)},v.prototype.reduceRight=function(e,t,n){return this.order.reduceRight(function(t,i){return e.call(n,t,i,i,this)},t,this)},v.prototype.iterate=function(){return this.order.iterate()},v.prototype.log=function(){var e=this.store;return e.log.apply(e,arguments)},Ht.module$exports&&(Ht=Ht.module$exports);var Qt={},Jt=Ht,Xt=D,Zt=O,en=X;Qt.module$exports=y,Object.addEach(y.prototype,Xt.prototype),Object.addEach(y.prototype,Zt.prototype),Object.addEach(y.prototype,en.prototype),y.prototype.constructClone=function(e){return new this.constructor(e,this.maxLength,this.contentEquals,this.contentHash,this.content)},y.prototype.has=function(e){return this.store.has(e)},y.prototype.get=function(e){return e=this.store.get(e),void 0!==e?(this.store["delete"](e),this.store.add(e)):e=this.content(),e},y.prototype.add=function(e){return this.store.has(e)&&(this.store["delete"](e),this.length--),this.store.add(e),this.length++,this.store.length>this.maxLength?(this.store["delete"](this.store.order.head.next.value),this.length--,!1):!0},y.prototype["delete"]=function(e){return this.store["delete"](e)?(this.length--,!0):!1},y.prototype.one=function(){if(0===this.length)throw Error("Can't get one value from empty collection.");return this.store.one()},y.prototype.clear=function(){this.store.clear(),this.length=0},y.prototype.reduce=function(e,t,n){return this.store.reduce(function(t,i){return e.call(n,t,i,i,this)},t,this)},y.prototype.reduceRight=function(e,t,n){return this.store.reduceRight(function(e,t){return callback.call(n,e,t,t,this)},basis,this)},y.prototype.iterate=function(){return this.store.iterate()},Qt.module$exports&&(Qt=Qt.module$exports);var tn={},nn=Qt,on=D,rn=_t,sn=X;tn.module$exports=b,Object.addEach(b.prototype,on.prototype),Object.addEach(b.prototype,rn.prototype),Object.addEach(b.prototype,sn.prototype),b.prototype.constructClone=function(e){return new this.constructor(e,this.maxLength,this.contentEquals,this.contentHash,this.content)},b.prototype.log=function(e,t){t=t||this.stringify,this.store.log(e,t)},b.prototype.stringify=function(e,t){return t+JSON.stringify(e.key)+": "+JSON.stringify(e.value)},tn.module$exports&&(tn=tn.module$exports);var an={},ln=Ht,cn=D,un=_t,dn=X;an.module$exports=w,Object.addEach(w.prototype,cn.prototype),Object.addEach(w.prototype,un.prototype),Object.addEach(w.prototype,dn.prototype),w.prototype.constructClone=function(e){return new this.constructor(e,this.contentEquals,this.contentHash,this.content)},w.prototype.log=function(e,t){t=t||this.stringify,this.store.log(e,t)},w.prototype.stringify=function(e,t){return t+JSON.stringify(e.key)+": "+JSON.stringify(e.value)},an.module$exports&&(an=an.module$exports);var hn={},pn=an;hn.module$exports=x,x.prototype=Object.create(pn.prototype),x.prototype.constructor=x,x.prototype.constructClone=function(e){return new this.constructor(e,this.bucket,this.contentEquals,this.contentHash)},x.prototype.set=function(e,t){var n=this.get(e);n.swap(0,n.length,t)},x.prototype.bucket=function(){return[]},hn.module$exports&&(hn=hn.module$exports);var fn={};fn.module$exports=C;var mn=X,gn=it;Object.addEach(C.prototype,D.prototype),Object.addEach(C.prototype,mn.prototype),Object.addEach(C.prototype,gn.prototype),C.prototype.constructClone=function(e){return new this.constructor(e,this.contentEquals,this.contentCompare,this.content)},C.prototype.has=function(e){var t=_(this.array,e,this.contentCompare);return t>=0&&this.contentEquals(this.array[t],e)},C.prototype.get=function(e){var t=k(this.array,e,this.contentCompare,this.contentEquals);return-1!==t?this.array[t]:this.content(e)},C.prototype.add=function(e){var t;t=this.array;var n=this.contentCompare,i=_(t,e,n);if(0>i)t=-i-1;else{for(var o=t.length-1;o>i&&0===n(e,t[i+1]);)i++;t=i}return this.dispatchesRangeChanges&&this.dispatchBeforeRangeChange([e],[],t),this.array.splice(t,0,e),this.length++,this.dispatchesRangeChanges&&this.dispatchRangeChange([e],[],t),!0},C.prototype["delete"]=function(e){var t=k(this.array,e,this.contentCompare,this.contentEquals);return-1!==t?(this.dispatchesRangeChanges&&this.dispatchBeforeRangeChange([],[e],t),this.array.splice(t,1),this.length--,this.dispatchesRangeChanges&&this.dispatchRangeChange([],[e],t),!0):!1},C.prototype.indexOf=function(e){return k(this.array,e,this.contentCompare,this.contentEquals)},C.prototype.lastIndexOf=function(e){return S(this.array,e,this.contentCompare,this.contentEquals)},C.prototype.find=function(e){return k(this.array,e,this.contentCompare,this.contentEquals)},C.prototype.findLast=function(e){return S(this.array,e,this.contentCompare,this.contentEquals)},C.prototype.push=function(){this.addEach(arguments)},C.prototype.unshift=function(){this.addEach(arguments)},C.prototype.pop=function(){return this.array.pop()},C.prototype.shift=function(){return this.array.shift()},C.prototype.slice=function(){return this.array.slice.apply(this.array,arguments)},C.prototype.splice=function(e,t){return this.swap(e,t,Array.prototype.slice.call(arguments,2))},C.prototype.swap=function(e,t,n){if(void 0===e&&void 0===t)return[];e=e||0,0>e&&(e+=this.length),void 0===t&&(t=1/0);var i=this.slice(e,e+t);return this.dispatchesRangeChanges&&this.dispatchBeforeRangeChange(n,i,e),this.array.splice(e,t),this.addEach(n),this.dispatchesRangeChanges&&this.dispatchRangeChange(n,i,e),i},C.prototype.reduce=function(e,t,n){return this.array.reduce(function(t,i,o){return e.call(n,t,i,o,this)},t,this)},C.prototype.reduceRight=function(e,t,n){return this.array.reduceRight(function(e,t,i){return callback.call(n,e,t,i,this)},basis,this)},C.prototype.min=function(){return this.length?this.array[0]:void 0},C.prototype.max=function(){return this.length?this.array[this.length-1]:void 0},C.prototype.one=function(){return this.array.one()},C.prototype.clear=function(){var e;this.dispatchesRangeChanges&&(e=this.array.slice(),this.dispatchBeforeRangeChange([],e,0)),this.length=0,this.array.clear(),this.dispatchesRangeChanges&&this.dispatchRangeChange([],e,0)},C.prototype.equals=function(e,t){return this.array.equals(e,t)},C.prototype.compare=function(e,t){return this.array.compare(e,t)},C.prototype.iterate=function(e,t){return new this.Iterator(this.array,e,t)},C.prototype.Iterator=Array.prototype.Iterator,fn.module$exports&&(fn=fn.module$exports);var vn={};vn.module$exports=T;var yn=fn,bn=O,wn=X;T.prototype=Object.create(yn.prototype),T.prototype.constructor=T,Object.addEach(T.prototype,bn.prototype),Object.addEach(T.prototype,wn.prototype),T.prototype.add=function(e){return this.has(e)?!1:(yn.prototype.add.call(this,e),!0)},T.prototype.reduce=function(e,t,n){var i=this;return this.array.reduce(function(t,o,r){return e.call(n,t,o,o,i,r)},t)},T.prototype.reduceRight=function(e,t,n){var i=this;return this.array.reduceRight(function(t,o,r){return e.call(n,t,o,o,i,r)},t)},vn.module$exports&&(vn=vn.module$exports);var xn={},Cn=vn,_n=D,kn=_t,Sn=X;xn.module$exports=E,Object.addEach(E.prototype,_n.prototype),Object.addEach(E.prototype,kn.prototype),Object.addEach(E.prototype,Sn.prototype),E.prototype.constructClone=function(e){return new this.constructor(e,this.contentEquals,this.contentCompare,this.content)},xn.module$exports&&(xn=xn.module$exports);var Tn={};Tn.module$exports=P;var En=O,Pn=X,Mn=it,An=$;Object.addEach(P.prototype,D.prototype),Object.addEach(P.prototype,En.prototype),Object.addEach(P.prototype,Pn.prototype),Object.addEach(P.prototype,Mn.prototype),P.prototype.constructClone=function(e){return new this.constructor(e,this.contentEquals,this.contentCompare,this.content)},P.prototype.has=function(e){return this.root?(this.splay(e),this.contentEquals(e,this.root.value)):!1},P.prototype.get=function(e){return this.root&&(this.splay(e),this.contentEquals(e,this.root.value))?this.root.value:this.content(e)},P.prototype.add=function(e){var t=new this.Node(e);return this.root?(this.splay(e),this.contentEquals(e,this.root.value)?!1:(this.dispatchesRangeChanges&&this.dispatchBeforeRangeChange([e],[],this.root.index),0>this.contentCompare(e,this.root.value)?(t.right=this.root,t.left=this.root.left,this.root.left=null):(t.left=this.root,t.right=this.root.right,this.root.right=null),this.root.touch(),t.touch(),this.root=t,this.length++,this.dispatchesRangeChanges&&this.dispatchRangeChange([e],[],this.root.index),!0)):(this.dispatchesRangeChanges&&this.dispatchBeforeRangeChange([e],[],0),this.root=t,this.length++,this.dispatchesRangeChanges&&this.dispatchRangeChange([e],[],0),!0)},P.prototype["delete"]=function(e){if(this.root&&(this.splay(e),this.contentEquals(e,this.root.value))){var t=this.root.index;if(this.dispatchesRangeChanges&&this.dispatchBeforeRangeChange([],[e],t),this.root.left){var n=this.root.right;this.root=this.root.left,this.splay(e),this.root.right=n}else this.root=this.root.right;return this.length--,this.root&&this.root.touch(),this.dispatchesRangeChanges&&this.dispatchRangeChange([],[e],t),!0}return!1},P.prototype.indexOf=function(e){return this.root&&(this.splay(e),this.contentEquals(e,this.root.value))?this.root.index:-1},P.prototype.find=function(e){return this.root&&(this.splay(e),this.contentEquals(e,this.root.value))?this.root:void 0},P.prototype.findGreatest=function(e){if(this.root){for(e=e||this.root;e.right;)e=e.right;return e}},P.prototype.findLeast=function(e){if(this.root){for(e=e||this.root;e.left;)e=e.left;return e}},P.prototype.findGreatestLessThanOrEqual=function(e){return this.root?(this.splay(e),this.root):void 0},P.prototype.findGreatestLessThan=function(e){return this.root?(this.splay(e),this.root.getPrevious()):void 0},P.prototype.findLeastGreaterThanOrEqual=function(e){return this.root?(this.splay(e),0===this.contentCompare(e,this.root.value)?this.root:this.root.getNext()):void 0},P.prototype.findLeastGreaterThan=function(e){return this.root?(this.splay(e),this.contentCompare(e,this.root.value),this.root.getNext()):void 0},P.prototype.pop=function(){if(this.root){var e=this.findGreatest();return this["delete"](e.value),e.value}},P.prototype.shift=function(){if(this.root){var e=this.findLeast();return this["delete"](e.value),e.value}},P.prototype.push=function(){this.addEach(arguments)},P.prototype.unshift=function(){this.addEach(arguments)},P.prototype.slice=function(e,t){e=e||0,t=t||this.length,0>e&&(e+=this.length),0>t&&(t+=this.length);var n=[];if(this.root)for(this.splayIndex(e);this.root.index<t&&(n.push(this.root.value),this.root.right);)this.splay(this.root.getNext().value);return n},P.prototype.splice=function(e,t){return this.swap(e,t,Array.prototype.slice.call(arguments,2))},P.prototype.swap=function(e,t,n){if(void 0===e&&void 0===t)return[];e=e||0,0>e&&(e+=this.length),void 0===t&&(t=1/0);var i=[];if(this.root)for(this.splayIndex(e),e=0;t>e;e++){i.push(this.root.value);var o=this.root.getNext();if(this["delete"](this.root.value),!o)break;this.splay(o.value)}return this.addEach(n),i},P.prototype.splay=function(e){var t,n,i,o,r,s;if(this.root){for(t=n=i=new this.Node,s=new this.Node,r=this.root;;)if(o=this.contentCompare(e,r.value),0>o){if(!r.left)break;if(0>this.contentCompare(e,r.left.value)&&(o=r.left,r.left=o.right,r.touch(),o.right=r,o.touch(),r=o,!r.left))break;o=new M,o.right=r,o.left=s.left,s.left=o,i.left=r,i.touch(),i=r,r=r.left}else{if(!(o>0))break;if(!r.right)break;if(0<this.contentCompare(e,r.right.value)&&(o=r.right,r.right=o.left,r.touch(),o.left=r,o.touch(),r=o,!r.right))break;o=new M,o.left=r,o.right=s.right,s.right=o,n.right=r,n.touch(),n=r,r=r.right}for(n.right=r.left,n.touch(),i.left=r.right,i.touch(),r.left=t.right,r.right=t.left;s.left;)s.left.right.touch(),s.left=s.left.left;for(;s.right;)s.right.left.touch(),s.right=s.right.right;r.touch(),this.root=r}},P.prototype.splayIndex=function(e){if(this.root){for(var t=this.root,n=this.root.index;n!==e;)if(n>e&&t.left)t=t.left,n-=1+(t.right?t.right.length:0);else{if(!(e>n&&t.right))break;t=t.right,n+=1+(t.left?t.left.length:0)}return this.splay(t.value),this.root.index===e}return!1},P.prototype.reduce=function(e,t,n){return this.root&&(t=this.root.reduce(e,t,n,this)),t},P.prototype.reduceRight=function(e,t,n){return this.root&&(t=this.root.reduceRight(e,t,n,this)),t},P.prototype.min=function(e){return(e=this.findLeast(e))?e.value:void 0},P.prototype.max=function(e){return(e=this.findGreatest(e))?e.value:void 0},P.prototype.one=function(){if(!this.root)throw Error("Can't get one value from empty set");return this.root.value},P.prototype.clear=function(){var e;this.dispatchesRangeChanges&&(e=this.toArray(),this.dispatchBeforeRangeChange([],e,0)),this.root=null,this.length=0,this.dispatchesRangeChanges&&this.dispatchRangeChange([],e,0)},P.prototype.iterate=function(e,t){return new this.Iterator(this,e,t)},P.prototype.Iterator=A,P.prototype.summary=function(){return this.root?this.root.summary():"()"},P.prototype.log=function(e,t,n,i){e=e||An.unicodeRound,t=t||this.logNode,n||(n=console.log,i=console),n=n.bind(i),this.root&&this.root.log(e,t,n,n)},P.prototype.logNode=function(e,t){t(" "+e.value)},P.logCharsets=An,P.prototype.Node=M,M.prototype.reduce=function(e,t,n,i,o){return o=o||0,this.left&&(t=this.left.reduce(e,t,n,i,o+1)),t=e.call(n,t,this.value,this.value,i,this,o),this.right&&(t=this.right.reduce(e,t,n,i,o+1)),t},M.prototype.reduceRight=function(e,t,n,i,o){return o=o||0,this.right&&(t=this.right.reduce(e,t,n,i,o+1)),t=e.call(n,t,this.value,this.value,i,this,o),this.left&&(t=this.left.reduce(e,t,n,i,o+1)),t},M.prototype.touch=function(){this.length=1+(this.left?this.left.length:0)+(this.right?this.right.length:0),this.index=this.left?this.left.length:0},M.prototype.checkIntegrity=function(){var e;if(e=1+(this.left?this.left.checkIntegrity():0),e+=this.right?this.right.checkIntegrity():0,this.length!==e)throw Error("Integrity check failed: "+this.summary());return e},M.prototype.getNext=function(){var e=this;if(e.right){for(e=e.right;e.left;)e=e.left;return e}},M.prototype.getPrevious=function(){var e=this;if(e.left){for(e=e.left;e.right;)e=e.right;return e}},M.prototype.summary=function(){var e=this.value||"-",e=e+(" <"+this.length);return this.left||this.right?"("+e+" "+(this.left?this.left.summary():"()")+", "+(this.right?this.right.summary():"()")+")":"("+e+")"},M.prototype.log=function(e,t,n,i){var o,r=this;o=this.left&&this.right?e.intersection:this.left?e.branchUp:this.right?e.branchDown:e.through;var s;this.left&&this.left.log(e,t,function(t){s?i(e.strafe+" "+t):(s=!0,i(e.fromBelow+e.through+t))},function(e){i("  "+e)});var a;t(this,function(t){a?n((r.right?e.strafe:" ")+t):(a=!0,n(o+t))},function(t){i((r.left?e.strafe:" ")+t)});var l;this.right&&this.right.log(e,t,function(t){l?n("  "+t):(l=!0,n(e.fromAbove+e.through+t))},function(t){n(e.strafe+" "+t)})},A.prototype.next=function(){var e;if(e=this.prev?this.set.findLeastGreaterThan(this.prev.value):this.set.findLeast(),!e)throw StopIteration;if(void 0!==this.end&&0<=this.set.contentCompare(e.value,this.end))throw StopIteration;return this.prev=e,e.value},Tn.module$exports&&(Tn=Tn.module$exports);var In={},Dn=Tn,On=D,Nn=_t,Rn=X;In.module$exports=I,Object.addEach(I.prototype,On.prototype),Object.addEach(I.prototype,Nn.prototype),Object.addEach(I.prototype,Rn.prototype),I.prototype.constructClone=function(e){return new this.constructor(e,this.contentEquals,this.contentCompare,this.content)},I.prototype.log=function(e,t){t=t||this.stringify,this.store.log(e,t)},I.prototype.report=function(e,t,n,i){i=i||this.stringify,this.store.report(e,t,n,i)},I.prototype.stringify=function(e,t,n,i){e.call(t,i+" "+n.value.key+": "+n.value.value)},In.module$exports&&(In=In.module$exports),e.List=yt,e.Set=Ht,e.Map=an,e.MultiMap=hn,e.WeakMap=L,e.SortedSet=Tn,e.SortedMap=In,e.LruSet=Qt,e.LruMap=tn,e.SortedArray=fn,e.SortedArraySet=vn,e.SortedArrayMap=xn,e.FastSet=It,e.FastMap=jt,e.Dict=Et,e.Iterator=dt}(this),define("Collections",function(){}),define("adapters/jquery-adapter",["jquery","bootstrap","jqueryScrollTo","datetimepicker","datetimepicker_lang_pt_BR","jqueryUI","nprogress","selectize","jqueryForm","jqueryChosen","jqueryInputMask","typeahead","bloodhound","jqueryFormValidator","sweetAlert","metisMenu","nifty","tagsinput","ionsound","bootstrapSwitch","summernote","nestable","Collections"],function(e){e.fn.bootstrapSwitch.defaults.size="small",e.fn.bootstrapSwitch.defaults.onText="Sim",e.fn.bootstrapSwitch.defaults.offText="Não",e.fn.datetimepicker.defaults.icons={time:"fa fa-clock-o",date:"fa fa-calendar",up:"fa fa-arrow-up",down:"fa fa-arrow-down"};var t=function(e){var t="";return"number"==typeof e?(t+=e,t=t.replace(/\./g,",")):t=e,t.replace(/[^\d,]+/g,"")},n=function(e,n){e=t(e);var i=e.toString().replace("$",""),o=!1,r=[],s=1,a=null;i.indexOf(",")>0&&(o=i.split(","),i=o[0]),i=i.split("").reverse();for(var l=0,c=i.length;c>l;l++)"."!=i[l]&&(r.push(i[l]),s%3==0&&c-1>l&&r.push(""),s++);return a=r.reverse().join(""),a+(o?","+o[1].substr(0,n):"")};return e.fn.escape=function(e){var t=null;if(this){if(this.prop("tagName")&&this.prop("tagName")){var n=this.prop("tagName").toUpperCase();"SELECT"===n&&(t=this.children(":selected").attr("value")||null)}var i=this.attr("type");if("checkbox"===i||"radio"===i)t=this.is(":checked");else{var o=this.val();o&&(t=o.replace("&","&amp;").replace("<","&lt;").replace(">","&gt;").replace('"',"&quot;").replace("'","&#x27;").trim())}}return t&&e&&(t=t.indexOf("-")>0?t.replace(/-/g,"").replace(/\./g,"").replace(/\,/g,"."):t.replace(/\./g,"").replace(/\,/g,".")),t},e.fn.datetime=function(){if(this.datetimepicker({pickTime:!0,language:"pt_BR"}),this.prop("tagName")&&this.prop("tagName")){var e=this.prop("tagName").toUpperCase();"INPUT"===e&&this.inputmask("datetime")}},e.fn.date=function(){if(this.datetimepicker({pickTime:!1,language:"pt_BR"}),this.prop("tagName")&&this.prop("tagName")){var e=this.prop("tagName").toUpperCase();"INPUT"===e&&this.inputmask("date")}},e.fn.integer=function(e){var t=e||{};this.attr("maxlength",t.maxlength||9),this.inputmask("integer",{rightAlign:!1})},e.fn.long=function(e){var t=e||{};this.attr("maxlength",t.maxlength||18),this.inputmask("integer",{rightAlign:!1})},e.fn.money=function(){this.inputmask("numeric",{radixPoint:",",groupSeparator:".",rightAlign:!1,autoGroup:!0,digits:2,digitsOptional:!1,placeholder:"0"})},e.fn.percent=function(){this.inputmask("numeric",{radixPoint:",",groupSeparator:".",rightAlign:!1,autoGroup:!0,digits:2,digitsOptional:!0,placeholder:""})},e.fn.decimal=function(){this.inputmask("numeric",{radixPoint:",",rightAlign:!1,groupSeparator:".",autoGroup:!0,digits:2,digitsOptional:!0,placeholder:""})},e.fn.cpf=function(){this.inputmask("999.999.999-99",{clearIncomplete:!0})},e.fn.cnpj=function(){this.inputmask("99.999.999/9999-99",{clearIncomplete:!0})},e.fn.creditcard=function(){this.inputmask({mask:["9999-999999-99999","9999-9999-9999-9999"],greedy:!1,clearIncomplete:!0})},e.fn.fone=function(){this.inputmask({mask:["(99) 9999-9999","(99) 99999-9999"],greedy:!1,clearIncomplete:!0})},e.fn.formatNumber=function(t){var i=this.val(),o=""+i;o=o.replace(/\./g,","),this.val(n(o,t||2)),this.on("keyup",function(){var i=e(this);i.val(n(i.val(),t||2))})},e}),function(e){define("underscore",[],function(){return function(){return function(){var e=this,t=e._,n={},i=Array.prototype,o=Object.prototype,r=Function.prototype,s=i.push,a=i.slice,l=i.concat,c=o.toString,u=o.hasOwnProperty,d=i.forEach,h=i.map,p=i.reduce,f=i.reduceRight,m=i.filter,g=i.every,v=i.some,y=i.indexOf,b=i.lastIndexOf,w=Array.isArray,x=Object.keys,C=r.bind,_=function(e){return e instanceof _?e:this instanceof _?void(this._wrapped=e):new _(e)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=_),exports._=_):e._=_,_.VERSION="1.5.1";var k=_.each=_.forEach=function(e,t,i){if(null!=e)if(d&&e.forEach===d)e.forEach(t,i);else if(e.length===+e.length){for(var o=0,r=e.length;r>o;o++)if(t.call(i,e[o],o,e)===n)return}else for(var s in e)if(_.has(e,s)&&t.call(i,e[s],s,e)===n)return};_.map=_.collect=function(e,t,n){var i=[];return null==e?i:h&&e.map===h?e.map(t,n):(k(e,function(e,o,r){i.push(t.call(n,e,o,r))}),i)};var S="Reduce of empty array with no initial value";_.reduce=_.foldl=_.inject=function(e,t,n,i){var o=arguments.length>2;if(null==e&&(e=[]),p&&e.reduce===p)return i&&(t=_.bind(t,i)),o?e.reduce(t,n):e.reduce(t);if(k(e,function(e,r,s){o?n=t.call(i,n,e,r,s):(n=e,o=!0)}),!o)throw new TypeError(S);return n},_.reduceRight=_.foldr=function(e,t,n,i){var o=arguments.length>2;if(null==e&&(e=[]),f&&e.reduceRight===f)return i&&(t=_.bind(t,i)),o?e.reduceRight(t,n):e.reduceRight(t);var r=e.length;if(r!==+r){var s=_.keys(e);r=s.length}if(k(e,function(a,l,c){l=s?s[--r]:--r,o?n=t.call(i,n,e[l],l,c):(n=e[l],o=!0)}),!o)throw new TypeError(S);return n},_.find=_.detect=function(e,t,n){var i;return T(e,function(e,o,r){return t.call(n,e,o,r)?(i=e,!0):void 0}),i},_.filter=_.select=function(e,t,n){var i=[];return null==e?i:m&&e.filter===m?e.filter(t,n):(k(e,function(e,o,r){t.call(n,e,o,r)&&i.push(e)}),i)},_.reject=function(e,t,n){return _.filter(e,function(e,i,o){return!t.call(n,e,i,o)},n)},_.every=_.all=function(e,t,i){t||(t=_.identity);var o=!0;return null==e?o:g&&e.every===g?e.every(t,i):(k(e,function(e,r,s){return(o=o&&t.call(i,e,r,s))?void 0:n}),!!o)};var T=_.some=_.any=function(e,t,i){t||(t=_.identity);var o=!1;return null==e?o:v&&e.some===v?e.some(t,i):(k(e,function(e,r,s){return o||(o=t.call(i,e,r,s))?n:void 0}),!!o)};_.contains=_.include=function(e,t){return null==e?!1:y&&e.indexOf===y?-1!=e.indexOf(t):T(e,function(e){return e===t})},_.invoke=function(e,t){var n=a.call(arguments,2),i=_.isFunction(t);return _.map(e,function(e){return(i?t:e[t]).apply(e,n)})},_.pluck=function(e,t){return _.map(e,function(e){return e[t]})},_.where=function(e,t,n){return _.isEmpty(t)?n?void 0:[]:_[n?"find":"filter"](e,function(e){for(var n in t)if(t[n]!==e[n])return!1;return!0})},_.findWhere=function(e,t){return _.where(e,t,!0)},_.max=function(e,t,n){if(!t&&_.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.max.apply(Math,e);if(!t&&_.isEmpty(e))return-1/0;var i={computed:-1/0,value:-1/0};return k(e,function(e,o,r){var s=t?t.call(n,e,o,r):e;s>i.computed&&(i={value:e,computed:s})}),i.value},_.min=function(e,t,n){if(!t&&_.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.min.apply(Math,e);if(!t&&_.isEmpty(e))return 1/0;var i={computed:1/0,value:1/0};return k(e,function(e,o,r){var s=t?t.call(n,e,o,r):e;s<i.computed&&(i={value:e,computed:s})}),i.value},_.shuffle=function(e){var t,n=0,i=[];return k(e,function(e){t=_.random(n++),i[n-1]=i[t],i[t]=e}),i};var E=function(e){return _.isFunction(e)?e:function(t){return t[e]}};_.sortBy=function(e,t,n){var i=E(t);return _.pluck(_.map(e,function(e,t,o){return{value:e,index:t,criteria:i.call(n,e,t,o)}}).sort(function(e,t){var n=e.criteria,i=t.criteria;if(n!==i){if(n>i||void 0===n)return 1;if(i>n||void 0===i)return-1}return e.index<t.index?-1:1}),"value")};var P=function(e,t,n,i){var o={},r=E(null==t?_.identity:t);return k(e,function(t,s){var a=r.call(n,t,s,e);i(o,a,t)}),o};_.groupBy=function(e,t,n){return P(e,t,n,function(e,t,n){(_.has(e,t)?e[t]:e[t]=[]).push(n)})},_.countBy=function(e,t,n){return P(e,t,n,function(e,t){_.has(e,t)||(e[t]=0),e[t]++})},_.sortedIndex=function(e,t,n,i){n=null==n?_.identity:E(n);for(var o=n.call(i,t),r=0,s=e.length;s>r;){var a=r+s>>>1;n.call(i,e[a])<o?r=a+1:s=a}return r},_.toArray=function(e){return e?_.isArray(e)?a.call(e):e.length===+e.length?_.map(e,_.identity):_.values(e):[]},_.size=function(e){return null==e?0:e.length===+e.length?e.length:_.keys(e).length},_.first=_.head=_.take=function(e,t,n){return null==e?void 0:null==t||n?e[0]:a.call(e,0,t)},_.initial=function(e,t,n){return a.call(e,0,e.length-(null==t||n?1:t))},_.last=function(e,t,n){return null==e?void 0:null==t||n?e[e.length-1]:a.call(e,Math.max(e.length-t,0))},_.rest=_.tail=_.drop=function(e,t,n){return a.call(e,null==t||n?1:t)},_.compact=function(e){return _.filter(e,_.identity)};var M=function(e,t,n){return t&&_.every(e,_.isArray)?l.apply(n,e):(k(e,function(e){_.isArray(e)||_.isArguments(e)?t?s.apply(n,e):M(e,t,n):n.push(e)}),n)};_.flatten=function(e,t){return M(e,t,[])},_.without=function(e){return _.difference(e,a.call(arguments,1))},_.uniq=_.unique=function(e,t,n,i){_.isFunction(t)&&(i=n,n=t,t=!1);var o=n?_.map(e,n,i):e,r=[],s=[];return k(o,function(n,i){(t?i&&s[s.length-1]===n:_.contains(s,n))||(s.push(n),r.push(e[i]))}),r},_.union=function(){return _.uniq(_.flatten(arguments,!0))},_.intersection=function(e){var t=a.call(arguments,1);return _.filter(_.uniq(e),function(e){return _.every(t,function(t){return _.indexOf(t,e)>=0})})},_.difference=function(e){var t=l.apply(i,a.call(arguments,1));return _.filter(e,function(e){return!_.contains(t,e)})},_.zip=function(){for(var e=_.max(_.pluck(arguments,"length").concat(0)),t=new Array(e),n=0;e>n;n++)t[n]=_.pluck(arguments,""+n);return t},_.object=function(e,t){if(null==e)return{};for(var n={},i=0,o=e.length;o>i;i++)t?n[e[i]]=t[i]:n[e[i][0]]=e[i][1];return n},_.indexOf=function(e,t,n){if(null==e)return-1;var i=0,o=e.length;if(n){if("number"!=typeof n)return i=_.sortedIndex(e,t),e[i]===t?i:-1;i=0>n?Math.max(0,o+n):n}if(y&&e.indexOf===y)return e.indexOf(t,n);for(;o>i;i++)if(e[i]===t)return i;return-1},_.lastIndexOf=function(e,t,n){if(null==e)return-1;var i=null!=n;if(b&&e.lastIndexOf===b)return i?e.lastIndexOf(t,n):e.lastIndexOf(t);for(var o=i?n:e.length;o--;)if(e[o]===t)return o;return-1},_.range=function(e,t,n){arguments.length<=1&&(t=e||0,e=0),n=arguments[2]||1;for(var i=Math.max(Math.ceil((t-e)/n),0),o=0,r=new Array(i);i>o;)r[o++]=e,e+=n;return r};var A=function(){};_.bind=function(e,t){var n,i;if(C&&e.bind===C)return C.apply(e,a.call(arguments,1));if(!_.isFunction(e))throw new TypeError;return n=a.call(arguments,2),i=function(){if(!(this instanceof i))return e.apply(t,n.concat(a.call(arguments)));A.prototype=e.prototype;var o=new A;A.prototype=null;var r=e.apply(o,n.concat(a.call(arguments)));return Object(r)===r?r:o}},_.partial=function(e){var t=a.call(arguments,1);return function(){return e.apply(this,t.concat(a.call(arguments)))}},_.bindAll=function(e){var t=a.call(arguments,1);if(0===t.length)throw new Error("bindAll must be passed function names");return k(t,function(t){e[t]=_.bind(e[t],e)}),e},_.memoize=function(e,t){var n={};return t||(t=_.identity),function(){var i=t.apply(this,arguments);return _.has(n,i)?n[i]:n[i]=e.apply(this,arguments)}},_.delay=function(e,t){var n=a.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},_.defer=function(e){return _.delay.apply(_,[e,1].concat(a.call(arguments,1)))},_.throttle=function(e,t,n){var i,o,r,s=null,a=0;n||(n={});var l=function(){a=n.leading===!1?0:new Date,s=null,r=e.apply(i,o)};return function(){var c=new Date;a||n.leading!==!1||(a=c);var u=t-(c-a);return i=this,o=arguments,0>=u?(clearTimeout(s),s=null,a=c,r=e.apply(i,o)):s||n.trailing===!1||(s=setTimeout(l,u)),r}},_.debounce=function(e,t,n){var i,o=null;return function(){var r=this,s=arguments,a=function(){o=null,n||(i=e.apply(r,s))},l=n&&!o;return clearTimeout(o),o=setTimeout(a,t),l&&(i=e.apply(r,s)),i}},_.once=function(e){var t,n=!1;return function(){return n?t:(n=!0,t=e.apply(this,arguments),e=null,t)}},_.wrap=function(e,t){return function(){var n=[e];return s.apply(n,arguments),t.apply(this,n)}},_.compose=function(){var e=arguments;return function(){for(var t=arguments,n=e.length-1;n>=0;n--)t=[e[n].apply(this,t)];return t[0]}},_.after=function(e,t){return function(){return--e<1?t.apply(this,arguments):void 0}},_.keys=x||function(e){if(e!==Object(e))throw new TypeError("Invalid object");var t=[];for(var n in e)_.has(e,n)&&t.push(n);return t},_.values=function(e){var t=[];for(var n in e)_.has(e,n)&&t.push(e[n]);return t},_.pairs=function(e){var t=[];for(var n in e)_.has(e,n)&&t.push([n,e[n]]);return t},_.invert=function(e){var t={};for(var n in e)_.has(e,n)&&(t[e[n]]=n);return t},_.functions=_.methods=function(e){var t=[];for(var n in e)_.isFunction(e[n])&&t.push(n);return t.sort()},_.extend=function(e){return k(a.call(arguments,1),function(t){if(t)for(var n in t)e[n]=t[n]}),e},_.pick=function(e){var t={},n=l.apply(i,a.call(arguments,1));return k(n,function(n){n in e&&(t[n]=e[n])}),t},_.omit=function(e){var t={},n=l.apply(i,a.call(arguments,1));for(var o in e)_.contains(n,o)||(t[o]=e[o]);return t},_.defaults=function(e){return k(a.call(arguments,1),function(t){if(t)for(var n in t)void 0===e[n]&&(e[n]=t[n])}),e},_.clone=function(e){return _.isObject(e)?_.isArray(e)?e.slice():_.extend({},e):e},_.tap=function(e,t){return t(e),e};var I=function(e,t,n,i){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return e===t;e instanceof _&&(e=e._wrapped),t instanceof _&&(t=t._wrapped);var o=c.call(e);if(o!=c.call(t))return!1;switch(o){case"[object String]":return e==String(t);case"[object Number]":return e!=+e?t!=+t:0==e?1/e==1/t:e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object RegExp]":return e.source==t.source&&e.global==t.global&&e.multiline==t.multiline&&e.ignoreCase==t.ignoreCase}if("object"!=typeof e||"object"!=typeof t)return!1;for(var r=n.length;r--;)if(n[r]==e)return i[r]==t;var s=e.constructor,a=t.constructor;if(s!==a&&!(_.isFunction(s)&&s instanceof s&&_.isFunction(a)&&a instanceof a))return!1;n.push(e),i.push(t);var l=0,u=!0;if("[object Array]"==o){if(l=e.length,u=l==t.length)for(;l--&&(u=I(e[l],t[l],n,i)););}else{for(var d in e)if(_.has(e,d)&&(l++,!(u=_.has(t,d)&&I(e[d],t[d],n,i))))break;if(u){for(d in t)if(_.has(t,d)&&!l--)break;u=!l}}return n.pop(),i.pop(),u};_.isEqual=function(e,t){return I(e,t,[],[])},_.isEmpty=function(e){if(null==e)return!0;if(_.isArray(e)||_.isString(e))return 0===e.length;for(var t in e)if(_.has(e,t))return!1;return!0},_.isElement=function(e){return!(!e||1!==e.nodeType)},_.isArray=w||function(e){return"[object Array]"==c.call(e)},_.isObject=function(e){return e===Object(e)},k(["Arguments","Function","String","Number","Date","RegExp"],function(e){_["is"+e]=function(t){return c.call(t)=="[object "+e+"]"}}),_.isArguments(arguments)||(_.isArguments=function(e){return!(!e||!_.has(e,"callee"))}),"function"!=typeof/./&&(_.isFunction=function(e){return"function"==typeof e}),_.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},_.isNaN=function(e){return _.isNumber(e)&&e!=+e},_.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"==c.call(e)
},_.isNull=function(e){return null===e},_.isUndefined=function(e){return void 0===e},_.has=function(e,t){return u.call(e,t)},_.noConflict=function(){return e._=t,this},_.identity=function(e){return e},_.times=function(e,t,n){for(var i=Array(Math.max(0,e)),o=0;e>o;o++)i[o]=t.call(n,o);return i},_.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))};var D={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};D.unescape=_.invert(D.escape);var O={escape:new RegExp("["+_.keys(D.escape).join("")+"]","g"),unescape:new RegExp("("+_.keys(D.unescape).join("|")+")","g")};_.each(["escape","unescape"],function(e){_[e]=function(t){return null==t?"":(""+t).replace(O[e],function(t){return D[e][t]})}}),_.result=function(e,t){if(null==e)return void 0;var n=e[t];return _.isFunction(n)?n.call(e):n},_.mixin=function(e){k(_.functions(e),function(t){var n=_[t]=e[t];_.prototype[t]=function(){var e=[this._wrapped];return s.apply(e,arguments),j.call(this,n.apply(_,e))}})};var N=0;_.uniqueId=function(e){var t=++N+"";return e?e+t:t},_.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var R=/(.)^/,F={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},$=/\\|'|\r|\n|\t|\u2028|\u2029/g;_.template=function(e,t,n){var i;n=_.defaults({},n,_.templateSettings);var o=new RegExp([(n.escape||R).source,(n.interpolate||R).source,(n.evaluate||R).source].join("|")+"|$","g"),r=0,s="__p+='";e.replace(o,function(t,n,i,o,a){return s+=e.slice(r,a).replace($,function(e){return"\\"+F[e]}),n&&(s+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'"),i&&(s+="'+\n((__t=("+i+"))==null?'':__t)+\n'"),o&&(s+="';\n"+o+"\n__p+='"),r=a+t.length,t}),s+="';\n",n.variable||(s="with(obj||{}){\n"+s+"}\n"),s="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+s+"return __p;\n";try{i=new Function(n.variable||"obj","_",s)}catch(a){throw a.source=s,a}if(t)return i(t,_);var l=function(e){return i.call(this,e,_)};return l.source="function("+(n.variable||"obj")+"){\n"+s+"}",l},_.chain=function(e){return _(e).chain()};var j=function(e){return this._chain?_(e).chain():e};_.mixin(_),k(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=i[e];_.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!=e&&"splice"!=e||0!==n.length||delete n[0],j.call(this,n)}}),k(["concat","join","slice"],function(e){var t=i[e];_.prototype[e]=function(){return j.call(this,t.apply(this._wrapped,arguments))}}),_.extend(_.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}.call(this),e._=_}.apply(e,arguments)})}(this),define("adapters/underscore-adapter",["underscore"],function(e){return e.templateSettings={interpolate:/\{\{(.+?)\}\}/g},e}),function(e,t){if("function"==typeof define&&define.amd)define("backbone",["underscore","jquery","exports"],function(n,i,o){e.Backbone=t(e,o,n,i)});else if("undefined"!=typeof exports){var n=require("underscore");t(e,exports,n)}else e.Backbone=t(e,{},e._,e.jQuery||e.Zepto||e.ender||e.$)}(this,function(e,t,n,i){{var o=e.Backbone,r=[],s=(r.push,r.slice);r.splice}t.VERSION="1.1.2",t.$=i,t.noConflict=function(){return e.Backbone=o,this},t.emulateHTTP=!1,t.emulateJSON=!1;var a=t.Events={on:function(e,t,n){if(!c(this,"on",e,[t,n])||!t)return this;this._events||(this._events={});var i=this._events[e]||(this._events[e]=[]);return i.push({callback:t,context:n,ctx:n||this}),this},once:function(e,t,i){if(!c(this,"once",e,[t,i])||!t)return this;var o=this,r=n.once(function(){o.off(e,r),t.apply(this,arguments)});return r._callback=t,this.on(e,r,i)},off:function(e,t,i){var o,r,s,a,l,u,d,h;if(!this._events||!c(this,"off",e,[t,i]))return this;if(!e&&!t&&!i)return this._events=void 0,this;for(a=e?[e]:n.keys(this._events),l=0,u=a.length;u>l;l++)if(e=a[l],s=this._events[e]){if(this._events[e]=o=[],t||i)for(d=0,h=s.length;h>d;d++)r=s[d],(t&&t!==r.callback&&t!==r.callback._callback||i&&i!==r.context)&&o.push(r);o.length||delete this._events[e]}return this},trigger:function(e){if(!this._events)return this;var t=s.call(arguments,1);if(!c(this,"trigger",e,t))return this;var n=this._events[e],i=this._events.all;return n&&u(n,t),i&&u(i,arguments),this},stopListening:function(e,t,i){var o=this._listeningTo;if(!o)return this;var r=!t&&!i;i||"object"!=typeof t||(i=this),e&&((o={})[e._listenId]=e);for(var s in o)e=o[s],e.off(t,i,this),(r||n.isEmpty(e._events))&&delete this._listeningTo[s];return this}},l=/\s+/,c=function(e,t,n,i){if(!n)return!0;if("object"==typeof n){for(var o in n)e[t].apply(e,[o,n[o]].concat(i));return!1}if(l.test(n)){for(var r=n.split(l),s=0,a=r.length;a>s;s++)e[t].apply(e,[r[s]].concat(i));return!1}return!0},u=function(e,t){var n,i=-1,o=e.length,r=t[0],s=t[1],a=t[2];switch(t.length){case 0:for(;++i<o;)(n=e[i]).callback.call(n.ctx);return;case 1:for(;++i<o;)(n=e[i]).callback.call(n.ctx,r);return;case 2:for(;++i<o;)(n=e[i]).callback.call(n.ctx,r,s);return;case 3:for(;++i<o;)(n=e[i]).callback.call(n.ctx,r,s,a);return;default:for(;++i<o;)(n=e[i]).callback.apply(n.ctx,t);return}},d={listenTo:"on",listenToOnce:"once"};n.each(d,function(e,t){a[t]=function(t,i,o){var r=this._listeningTo||(this._listeningTo={}),s=t._listenId||(t._listenId=n.uniqueId("l"));return r[s]=t,o||"object"!=typeof i||(o=this),t[e](i,o,this),this}}),a.bind=a.on,a.unbind=a.off,n.extend(t,a);var h=t.Model=function(e,t){var i=e||{};t||(t={}),this.cid=n.uniqueId("c"),this.attributes={},t.collection&&(this.collection=t.collection),t.parse&&(i=this.parse(i,t)||{}),i=n.defaults({},i,n.result(this,"defaults")),this.set(i,t),this.changed={},this.initialize.apply(this,arguments)};n.extend(h.prototype,a,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(){return n.clone(this.attributes)},sync:function(){return t.sync.apply(this,arguments)},get:function(e){return this.attributes[e]},escape:function(e){return n.escape(this.get(e))},has:function(e){return null!=this.get(e)},set:function(e,t,i){var o,r,s,a,l,c,u,d;if(null==e)return this;if("object"==typeof e?(r=e,i=t):(r={})[e]=t,i||(i={}),!this._validate(r,i))return!1;s=i.unset,l=i.silent,a=[],c=this._changing,this._changing=!0,c||(this._previousAttributes=n.clone(this.attributes),this.changed={}),d=this.attributes,u=this._previousAttributes,this.idAttribute in r&&(this.id=r[this.idAttribute]);for(o in r)t=r[o],n.isEqual(d[o],t)||a.push(o),n.isEqual(u[o],t)?delete this.changed[o]:this.changed[o]=t,s?delete d[o]:d[o]=t;if(!l){a.length&&(this._pending=i);for(var h=0,p=a.length;p>h;h++)this.trigger("change:"+a[h],this,d[a[h]],i)}if(c)return this;if(!l)for(;this._pending;)i=this._pending,this._pending=!1,this.trigger("change",this,i);return this._pending=!1,this._changing=!1,this},unset:function(e,t){return this.set(e,void 0,n.extend({},t,{unset:!0}))},clear:function(e){var t={};for(var i in this.attributes)t[i]=void 0;return this.set(t,n.extend({},e,{unset:!0}))},hasChanged:function(e){return null==e?!n.isEmpty(this.changed):n.has(this.changed,e)},changedAttributes:function(e){if(!e)return this.hasChanged()?n.clone(this.changed):!1;var t,i=!1,o=this._changing?this._previousAttributes:this.attributes;for(var r in e)n.isEqual(o[r],t=e[r])||((i||(i={}))[r]=t);return i},previous:function(e){return null!=e&&this._previousAttributes?this._previousAttributes[e]:null},previousAttributes:function(){return n.clone(this._previousAttributes)},fetch:function(e){e=e?n.clone(e):{},void 0===e.parse&&(e.parse=!0);var t=this,i=e.success;return e.success=function(n){return t.set(t.parse(n,e),e)?(i&&i(t,n,e),void t.trigger("sync",t,n,e)):!1},$(this,e),this.sync("read",this,e)},save:function(e,t,i){var o,r,s,a=this.attributes;if(null==e||"object"==typeof e?(o=e,i=t):(o={})[e]=t,i=n.extend({validate:!0},i),o&&!i.wait){if(!this.set(o,i))return!1}else if(!this._validate(o,i))return!1;o&&i.wait&&(this.attributes=n.extend({},a,o)),void 0===i.parse&&(i.parse=!0);var l=this,c=i.success;return i.success=function(e){l.attributes=a;var t=l.parse(e,i);return i.wait&&(t=n.extend(o||{},t)),n.isObject(t)&&!l.set(t,i)?!1:(c&&c(l,e,i),void l.trigger("sync",l,e,i))},$(this,i),r=this.isNew()?"create":i.patch?"patch":"update","patch"===r&&(i.attrs=o),s=this.sync(r,this,i),o&&i.wait&&(this.attributes=a),s},destroy:function(e){e=e?n.clone(e):{};var t=this,i=e.success,o=function(){t.trigger("destroy",t,t.collection,e)};if(e.success=function(n){(e.wait||t.isNew())&&o(),i&&i(t,n,e),t.isNew()||t.trigger("sync",t,n,e)},this.isNew())return e.success(),!1;$(this,e);var r=this.sync("delete",this,e);return e.wait||o(),r},url:function(){var e=n.result(this,"urlRoot")||n.result(this.collection,"url")||F();return this.isNew()?e:e.replace(/([^\/])$/,"$1/")+encodeURIComponent(this.id)},parse:function(e){return e},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(e){return this._validate({},n.extend(e||{},{validate:!0}))},_validate:function(e,t){if(!t.validate||!this.validate)return!0;e=n.extend({},this.attributes,e);var i=this.validationError=this.validate(e,t)||null;return i?(this.trigger("invalid",this,i,n.extend(t,{validationError:i})),!1):!0}});var p=["keys","values","pairs","invert","pick","omit"];n.each(p,function(e){h.prototype[e]=function(){var t=s.call(arguments);return t.unshift(this.attributes),n[e].apply(n,t)}});var f=t.Collection=function(e,t){t||(t={}),t.model&&(this.model=t.model),void 0!==t.comparator&&(this.comparator=t.comparator),this._reset(),this.initialize.apply(this,arguments),e&&this.reset(e,n.extend({silent:!0},t))},m={add:!0,remove:!0,merge:!0},g={add:!0,remove:!1};n.extend(f.prototype,a,{model:h,initialize:function(){},toJSON:function(e){return this.map(function(t){return t.toJSON(e)})},sync:function(){return t.sync.apply(this,arguments)},add:function(e,t){return this.set(e,n.extend({merge:!1},t,g))},remove:function(e,t){var i=!n.isArray(e);e=i?[e]:n.clone(e),t||(t={});var o,r,s,a;for(o=0,r=e.length;r>o;o++)a=e[o]=this.get(e[o]),a&&(delete this._byId[a.id],delete this._byId[a.cid],s=this.indexOf(a),this.models.splice(s,1),this.length--,t.silent||(t.index=s,a.trigger("remove",a,this,t)),this._removeReference(a,t));return i?e[0]:e},set:function(e,t){t=n.defaults({},t,m),t.parse&&(e=this.parse(e,t));var i=!n.isArray(e);e=i?e?[e]:[]:n.clone(e);var o,r,s,a,l,c,u,d=t.at,p=this.model,f=this.comparator&&null==d&&t.sort!==!1,g=n.isString(this.comparator)?this.comparator:null,v=[],y=[],b={},w=t.add,x=t.merge,C=t.remove,_=!f&&w&&C?[]:!1;for(o=0,r=e.length;r>o;o++){if(l=e[o]||{},s=l instanceof h?a=l:l[p.prototype.idAttribute||"id"],c=this.get(s))C&&(b[c.cid]=!0),x&&(l=l===a?a.attributes:l,t.parse&&(l=c.parse(l,t)),c.set(l,t),f&&!u&&c.hasChanged(g)&&(u=!0)),e[o]=c;else if(w){if(a=e[o]=this._prepareModel(l,t),!a)continue;v.push(a),this._addReference(a,t)}a=c||a,!_||!a.isNew()&&b[a.id]||_.push(a),b[a.id]=!0}if(C){for(o=0,r=this.length;r>o;++o)b[(a=this.models[o]).cid]||y.push(a);y.length&&this.remove(y,t)}if(v.length||_&&_.length)if(f&&(u=!0),this.length+=v.length,null!=d)for(o=0,r=v.length;r>o;o++)this.models.splice(d+o,0,v[o]);else{_&&(this.models.length=0);var k=_||v;for(o=0,r=k.length;r>o;o++)this.models.push(k[o])}if(u&&this.sort({silent:!0}),!t.silent){for(o=0,r=v.length;r>o;o++)(a=v[o]).trigger("add",a,this,t);(u||_&&_.length)&&this.trigger("sort",this,t)}return i?e[0]:e},reset:function(e,t){t||(t={});for(var i=0,o=this.models.length;o>i;i++)this._removeReference(this.models[i],t);return t.previousModels=this.models,this._reset(),e=this.add(e,n.extend({silent:!0},t)),t.silent||this.trigger("reset",this,t),e},push:function(e,t){return this.add(e,n.extend({at:this.length},t))},pop:function(e){var t=this.at(this.length-1);return this.remove(t,e),t},unshift:function(e,t){return this.add(e,n.extend({at:0},t))},shift:function(e){var t=this.at(0);return this.remove(t,e),t},slice:function(){return s.apply(this.models,arguments)},get:function(e){return null==e?void 0:this._byId[e]||this._byId[e.id]||this._byId[e.cid]},at:function(e){return this.models[e]},where:function(e,t){return n.isEmpty(e)?t?void 0:[]:this[t?"find":"filter"](function(t){for(var n in e)if(e[n]!==t.get(n))return!1;return!0})},findWhere:function(e){return this.where(e,!0)},sort:function(e){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return e||(e={}),n.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(n.bind(this.comparator,this)),e.silent||this.trigger("sort",this,e),this},pluck:function(e){return n.invoke(this.models,"get",e)},fetch:function(e){e=e?n.clone(e):{},void 0===e.parse&&(e.parse=!0);var t=e.success,i=this;return e.success=function(n){var o=e.reset?"reset":"set";i[o](n,e),t&&t(i,n,e),i.trigger("sync",i,n,e)},$(this,e),this.sync("read",this,e)},create:function(e,t){if(t=t?n.clone(t):{},!(e=this._prepareModel(e,t)))return!1;t.wait||this.add(e,t);var i=this,o=t.success;return t.success=function(e,n){t.wait&&i.add(e,t),o&&o(e,n,t)},e.save(null,t),e},parse:function(e){return e},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(e,t){if(e instanceof h)return e;t=t?n.clone(t):{},t.collection=this;var i=new this.model(e,t);return i.validationError?(this.trigger("invalid",this,i.validationError,t),!1):i},_addReference:function(e){this._byId[e.cid]=e,null!=e.id&&(this._byId[e.id]=e),e.collection||(e.collection=this),e.on("all",this._onModelEvent,this)},_removeReference:function(e){this===e.collection&&delete e.collection,e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,n,i){("add"!==e&&"remove"!==e||n===this)&&("destroy"===e&&this.remove(t,i),t&&e==="change:"+t.idAttribute&&(delete this._byId[t.previous(t.idAttribute)],null!=t.id&&(this._byId[t.id]=t)),this.trigger.apply(this,arguments))}});var v=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","difference","indexOf","shuffle","lastIndexOf","isEmpty","chain","sample"];n.each(v,function(e){f.prototype[e]=function(){var t=s.call(arguments);return t.unshift(this.models),n[e].apply(n,t)}});var y=["groupBy","countBy","sortBy","indexBy"];n.each(y,function(e){f.prototype[e]=function(t,i){var o=n.isFunction(t)?t:function(e){return e.get(t)};return n[e](this.models,o,i)}});var b=t.View=function(e){this.cid=n.uniqueId("view"),e||(e={}),n.extend(this,n.pick(e,x)),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},w=/^(\S+)\s*(.*)$/,x=["model","collection","el","id","attributes","className","tagName","events"];n.extend(b.prototype,a,{tagName:"div",$:function(e){return this.$el.find(e)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this.stopListening(),this},setElement:function(e,n){return this.$el&&this.undelegateEvents(),this.$el=e instanceof t.$?e:t.$(e),this.el=this.$el[0],n!==!1&&this.delegateEvents(),this},delegateEvents:function(e){if(!e&&!(e=n.result(this,"events")))return this;this.undelegateEvents();for(var t in e){var i=e[t];if(n.isFunction(i)||(i=this[e[t]]),i){var o=t.match(w),r=o[1],s=o[2];i=n.bind(i,this),r+=".delegateEvents"+this.cid,""===s?this.$el.on(r,i):this.$el.on(r,s,i)}}return this},undelegateEvents:function(){return this.$el.off(".delegateEvents"+this.cid),this},_ensureElement:function(){if(this.el)this.setElement(n.result(this,"el"),!1);else{var e=n.extend({},n.result(this,"attributes"));this.id&&(e.id=n.result(this,"id")),this.className&&(e["class"]=n.result(this,"className"));var i=t.$("<"+n.result(this,"tagName")+">").attr(e);this.setElement(i,!1)}}}),t.sync=function(e,i,o){var r=_[e];n.defaults(o||(o={}),{emulateHTTP:t.emulateHTTP,emulateJSON:t.emulateJSON});var s={type:r,dataType:"json"};if(o.url||(s.url=n.result(i,"url")||F()),null!=o.data||!i||"create"!==e&&"update"!==e&&"patch"!==e||(s.contentType="application/json",s.data=JSON.stringify(o.attrs||i.toJSON(o))),o.emulateJSON&&(s.contentType="application/x-www-form-urlencoded",s.data=s.data?{model:s.data}:{}),o.emulateHTTP&&("PUT"===r||"DELETE"===r||"PATCH"===r)){s.type="POST",o.emulateJSON&&(s.data._method=r);var a=o.beforeSend;o.beforeSend=function(e){return e.setRequestHeader("X-HTTP-Method-Override",r),a?a.apply(this,arguments):void 0}}"GET"===s.type||o.emulateJSON||(s.processData=!1),"PATCH"===s.type&&C&&(s.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")});var l=o.xhr=t.ajax(n.extend(s,o));return i.trigger("request",i,l,o),l};var C=!("undefined"==typeof window||!window.ActiveXObject||window.XMLHttpRequest&&(new XMLHttpRequest).dispatchEvent),_={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};t.ajax=function(){return t.$.ajax.apply(t.$,arguments)};var k=t.Router=function(e){e||(e={}),e.routes&&(this.routes=e.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},S=/\((.*?)\)/g,T=/(\(\?)?:\w+/g,E=/\*\w+/g,P=/[\-{}\[\]+?.,\\\^$|#\s]/g;n.extend(k.prototype,a,{initialize:function(){},route:function(e,i,o){n.isRegExp(e)||(e=this._routeToRegExp(e)),n.isFunction(i)&&(o=i,i=""),o||(o=this[i]);var r=this;return t.history.route(e,function(n){var s=r._extractParameters(e,n);r.execute(o,s),r.trigger.apply(r,["route:"+i].concat(s)),r.trigger("route",i,s),t.history.trigger("route",r,i,s)}),this},execute:function(e,t){e&&e.apply(this,t)},navigate:function(e,n){return t.history.navigate(e,n),this},_bindRoutes:function(){if(this.routes){this.routes=n.result(this,"routes");for(var e,t=n.keys(this.routes);null!=(e=t.pop());)this.route(e,this.routes[e])}},_routeToRegExp:function(e){return e=e.replace(P,"\\$&").replace(S,"(?:$1)?").replace(T,function(e,t){return t?e:"([^/?]+)"}).replace(E,"([^?]*?)"),new RegExp("^"+e+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(e,t){var i=e.exec(t).slice(1);return n.map(i,function(e,t){return t===i.length-1?e||null:e?decodeURIComponent(e):null})}});var M=t.History=function(){this.handlers=[],n.bindAll(this,"checkUrl"),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},A=/^[#\/]|\s+$/g,I=/^\/+|\/+$/g,D=/msie [\w.]+/,O=/\/$/,N=/#.*$/;M.started=!1,n.extend(M.prototype,a,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root},getHash:function(e){var t=(e||this).location.href.match(/#(.*)$/);return t?t[1]:""},getFragment:function(e,t){if(null==e)if(this._hasPushState||!this._wantsHashChange||t){e=decodeURI(this.location.pathname+this.location.search);var n=this.root.replace(O,"");e.indexOf(n)||(e=e.slice(n.length))}else e=this.getHash();return e.replace(A,"")},start:function(e){if(M.started)throw new Error("Backbone.history has already been started");M.started=!0,this.options=n.extend({root:"/"},this.options,e),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var i=this.getFragment(),o=document.documentMode,r=D.exec(navigator.userAgent.toLowerCase())&&(!o||7>=o);if(this.root=("/"+this.root+"/").replace(I,"/"),r&&this._wantsHashChange){var s=t.$('<iframe src="javascript:0" tabindex="-1">');this.iframe=s.hide().appendTo("body")[0].contentWindow,this.navigate(i)}this._hasPushState?t.$(window).on("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!r?t.$(window).on("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=i;var a=this.location;if(this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot())return this.fragment=this.getFragment(null,!0),this.location.replace(this.root+"#"+this.fragment),!0;this._hasPushState&&this.atRoot()&&a.hash&&(this.fragment=this.getHash().replace(A,""),this.history.replaceState({},document.title,this.root+this.fragment))}return this.options.silent?void 0:this.loadUrl()},stop:function(){t.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),M.started=!1},route:function(e,t){this.handlers.unshift({route:e,callback:t})},checkUrl:function(){var e=this.getFragment();return e===this.fragment&&this.iframe&&(e=this.getFragment(this.getHash(this.iframe))),e===this.fragment?!1:(this.iframe&&this.navigate(e),void this.loadUrl())},loadUrl:function(e){return e=this.fragment=this.getFragment(e),n.any(this.handlers,function(t){return t.route.test(e)?(t.callback(e),!0):void 0})},navigate:function(e,t){if(!M.started)return!1;t&&t!==!0||(t={trigger:!!t});var n=this.root+(e=this.getFragment(e||""));if(e=e.replace(N,""),this.fragment!==e){if(this.fragment=e,""===e&&"/"!==n&&(n=n.slice(0,-1)),this._hasPushState)this.history[t.replace?"replaceState":"pushState"]({},document.title,n);else{if(!this._wantsHashChange)return this.location.assign(n);this._updateHash(this.location,e,t.replace),this.iframe&&e!==this.getFragment(this.getHash(this.iframe))&&(t.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,e,t.replace))}return t.trigger?this.loadUrl(e):void 0}},_updateHash:function(e,t,n){if(n){var i=e.href.replace(/(javascript:|#).*$/,"");e.replace(i+"#"+t)}else e.hash="#"+t}}),t.history=new M;var R=function(e,t){var i,o=this;i=e&&n.has(e,"constructor")?e.constructor:function(){return o.apply(this,arguments)},n.extend(i,o,t);var r=function(){this.constructor=i};return r.prototype=o.prototype,i.prototype=new r,e&&n.extend(i.prototype,e),i.__super__=o.prototype,i};h.extend=f.extend=k.extend=b.extend=M.extend=R;var F=function(){throw new Error('A "url" property or function must be specified')},$=function(e,t){var n=t.error;t.error=function(i){n&&n(e,i,t),e.trigger("error",e,i,t)}};return t}),function(e){if("object"==typeof exports)module.exports=e(require("underscore"),require("backbone"));else if("function"==typeof define&&define.amd)define("backbonePageable",["underscore","backbone"],e);else if("undefined"!=typeof _&&"undefined"!=typeof Backbone){var t=Backbone.PageableCollection,n=e(_,Backbone);Backbone.PageableCollection.noConflict=function(){return Backbone.PageableCollection=t,n}}}(function(e,t){function n(t,n){if(!e.isNumber(t)||e.isNaN(t)||!e.isFinite(t)||~~t!==t)throw new TypeError("`"+n+"` must be a finite integer");return t}function i(e){for(var t,n,i,o,r={},s=decodeURIComponent,a=e.split("&"),l=0,c=a.length;c>l;l++){var u=a[l];t=u.split("="),n=t[0],i=t[1]||!0,n=s(n),i=s(i),o=r[n],f(o)?o.push(i):r[n]=o?[o,i]:i}return r}function o(e,t,n){var i=e._events[t];if(i&&i.length){var o=i[i.length-1],r=o.callback;o.callback=function(){try{r.apply(this,arguments),n()}catch(e){throw e}finally{o.callback=r}}}else n()}var r=e.extend,s=e.omit,a=e.clone,l=e.each,c=e.pick,u=e.contains,d=e.isEmpty,h=e.pairs,p=e.invert,f=e.isArray,m=e.isFunction,g=e.isObject,v=e.keys,y=e.isUndefined,b=e.result,w=Math.ceil,x=Math.floor,C=Math.max,_=t.Collection.prototype,k=/[\s'"]/g,S=/[<>\s'"]/g,T=t.PageableCollection=t.Collection.extend({state:{firstPage:1,lastPage:null,currentPage:null,pageSize:25,totalPages:null,totalRecords:null,sortKey:null,order:-1},mode:"server",queryParams:{currentPage:"page",pageSize:"per_page",totalPages:"total_pages",totalRecords:"total_entries",sortKey:"sort_by",order:"order",directions:{"-1":"asc",1:"desc"}},constructor:function(e,t){_.constructor.apply(this,arguments),t=t||{},this.defaultFetchError=t.defaultFetchError||function(){},this.defaultFetchSuccess=t.defaultFetchSuccess||function(){};var n=this.mode=t.mode||this.mode||E.mode,i=r({},E.queryParams,this.queryParams,t.queryParams||{});i.directions=r({},E.queryParams.directions,this.queryParams.directions,i.directions||{}),this.queryParams=i;var o=this.state=r({},E.state,this.state,t.state||{});o.currentPage=null==o.currentPage?o.firstPage:o.currentPage,f(e)||(e=e?[e]:[]),e=e.slice(),"server"==n||null!=o.totalRecords||d(e)||(o.totalRecords=e.length),this.switchMode(n,r({fetch:!1,resetState:!1,models:e},t));var s=t.comparator;if(o.sortKey&&!s&&this.setSorting(o.sortKey,o.order,t),"server"!=n){var l=this.fullCollection;s&&t.full&&(this.comparator=null,l.comparator=s),t.full&&l.sort(),e&&!d(e)&&(this.reset(e,r({silent:!0},t)),this.getPage(o.currentPage),e.splice.apply(e,[0,e.length].concat(this.models)))}this._initState=a(this.state)},_makeFullCollection:function(e,n){var i,o,r,s=["url","model","sync","comparator"],a=this.constructor.prototype,l={};for(i=0,o=s.length;o>i;i++)r=s[i],y(a[r])||(l[r]=a[r]);var c=new(t.Collection.extend(l))(e,n);for(i=0,o=s.length;o>i;i++)r=s[i],this[r]!==a[r]&&(c[r]=this[r]);return c},_makeCollectionEventHandler:function(e,t){return function(n,i,s,c){var u=e._handlers;l(v(u),function(n){var i=u[n];e.off(n,i),t.off(n,i)});var d=a(e.state),h=d.firstPage,p=0===h?d.currentPage:d.currentPage-1,f=d.pageSize,m=p*f,g=m+f;if("add"==n){var b,x,C,_,c=c||{};if(s==t)x=t.indexOf(i),x>=m&&g>x&&(_=e,b=C=x-m);else{b=e.indexOf(i),x=m+b,_=t;var C=y(c.at)?x:c.at+m}if(c.onRemove||(++d.totalRecords,delete c.onRemove),e.state=e._checkState(d),_){_.add(i,r({},c||{},{at:C}));var k=b>=f?i:!y(c.at)&&g>C&&e.length>f?e.at(f):null;k&&o(s,n,function(){e.remove(k,{onAdd:!0})})}}if("remove"==n)if(c.onAdd)delete c.onAdd;else{if(--d.totalRecords){var S=d.totalPages=w(d.totalRecords/f);d.lastPage=0===h?S-1:S||h,d.currentPage>S&&(d.currentPage=d.lastPage)}else d.totalRecords=null,d.totalPages=null;e.state=e._checkState(d);var T,E=c.index;s==e?((T=t.at(g))&&o(e,n,function(){e.push(T,{onRemove:!0})}),t.remove(i)):E>=m&&g>E&&((T=t.at(g-1))&&o(e,n,function(){e.push(T,{onRemove:!0})}),e.remove(i))}if("reset"==n)if(c=s,s=i,s==e&&null==c.from&&null==c.to){var P=t.models.slice(0,m),M=t.models.slice(m+e.models.length);t.reset(P.concat(e.models).concat(M),c)}else s==t&&((d.totalRecords=t.models.length)||(d.totalRecords=null,d.totalPages=null),"client"==e.mode&&(d.lastPage=d.currentPage=d.firstPage),e.state=e._checkState(d),e.reset(t.models.slice(m,g),r({},c,{parse:!1})));"sort"==n&&(c=s,s=i,s===t&&e.reset(t.models.slice(m,g),r({},c,{parse:!1}))),l(v(u),function(n){var i=u[n];l([e,t],function(e){e.on(n,i);var t=e._events[n]||[];t.unshift(t.pop())})})}},_checkState:function(e){var t=this.mode,i=this.links,o=e.totalRecords,r=e.pageSize,s=e.currentPage,a=e.firstPage,l=e.totalPages;if(null!=o&&null!=r&&null!=s&&null!=a&&("infinite"==t?i:!0)){if(o=n(o,"totalRecords"),r=n(r,"pageSize"),s=n(s,"currentPage"),a=n(a,"firstPage"),1>r)throw new RangeError("`pageSize` must be >= 1");if(l=e.totalPages=w(o/r),0>a||a>1)throw new RangeError("`firstPage must be 0 or 1`");if(e.lastPage=0===a?C(0,l-1):l||a,"infinite"==t){if(!i[s+""])throw new RangeError("No link found for page "+s)}else if(a>s||l>0&&(a?s>l:s>=l))throw new RangeError("`currentPage` must be firstPage <= currentPage "+(a?">":">=")+" totalPages if "+a+"-based. Got "+s+".")}return e},setPageSize:function(e,t){e=n(e,"pageSize"),t=t||{first:!1};var i=this.state,o=w(i.totalRecords/e),a=o?C(i.firstPage,x(o*i.currentPage/i.totalPages)):i.firstPage;return i=this.state=this._checkState(r({},i,{pageSize:e,currentPage:t.first?i.firstPage:a,totalPages:o})),this.getPage(i.currentPage,s(t,["first"]))},switchMode:function(t,n){if(!u(["server","client","infinite"],t))throw new TypeError('`mode` must be one of "server", "client" or "infinite"');n=n||{fetch:!0,resetState:!0};var i=this.state=n.resetState?a(this._initState):this._checkState(r({},this.state));this.mode=t;var o,c=this,d=this.fullCollection,h=this._handlers=this._handlers||{};if("server"==t||d)"server"==t&&d&&(l(v(h),function(e){o=h[e],c.off(e,o),d.off(e,o)}),delete this._handlers,this._fullComparator=d.comparator,delete this.fullCollection);else{d=this._makeFullCollection(n.models||[],n),d.pageableCollection=this,this.fullCollection=d;var p=this._makeCollectionEventHandler(this,d);l(["add","remove","reset","sort"],function(t){h[t]=o=e.bind(p,{},t),c.on(t,o),d.on(t,o)}),d.comparator=this._fullComparator}if("infinite"==t)for(var f=this.links={},m=i.firstPage,g=w(i.totalRecords/i.pageSize),y=0===m?C(0,g-1):g||m,b=i.firstPage;y>=b;b++)f[b]=this.url;else this.links&&delete this.links;return n.fetch?this.fetch(s(n,"fetch","resetState")):this},hasPreviousPage:function(){var e=this.state,t=e.currentPage;return"infinite"!=this.mode?t>e.firstPage:!!this.links[t-1]},hasPrevious:function(){var e="hasPrevious has been deprecated, use hasPreviousPage instead";return"undefined"!=typeof console&&console.warn&&console.warn(e),this.hasPreviousPage()},hasNextPage:function(){var e=this.state,t=this.state.currentPage;return"infinite"!=this.mode?t<e.lastPage:!!this.links[t+1]},hasNext:function(){var e="hasNext has been deprecated, use hasNextPage instead";return"undefined"!=typeof console&&console.warn&&console.warn(e),this.hasNextPage()},getFirstPage:function(e){return this.getPage("first",e)},getPreviousPage:function(e){return this.getPage("prev",e)},getNextPage:function(e){return this.getPage("next",e)},getLastPage:function(e){return this.getPage("last",e)},getPage:function(e,t){var i=this.mode,o=this.fullCollection;t=t||{fetch:!1};var a=this.state,l=a.firstPage,c=a.currentPage,u=a.lastPage,h=a.pageSize,p=e;switch(e){case"first":p=l;break;case"prev":p=c-1;break;case"next":p=c+1;break;case"last":p=u;break;default:p=n(e,"index")}this.state=this._checkState(r({},a,{currentPage:p})),t.from=c,t.to=p;var f=(0===l?p:p-1)*h,m=o&&o.length?o.models.slice(f,f+h):[];return"client"!=i&&("infinite"!=i||d(m))||t.fetch?("infinite"==i&&(t.url=this.links[p]),this.fetch(s(t,"fetch"))):(this.reset(m,s(t,"fetch")),this)},getPageByOffset:function(e,t){if(0>e)throw new RangeError("`offset must be > 0`");e=n(e);var i=x(e/this.state.pageSize);return 0!==this.state.firstPage&&i++,i>this.state.lastPage&&(i=this.state.lastPage),this.getPage(i,t)},sync:function(e,n,i){var o=this;if("infinite"==o.mode){var s=i.success,a=o.state.currentPage;i.success=function(e,t,n){var l=o.links,c=o.parseLinks(e,r({xhr:n},i));c.first&&(l[o.state.firstPage]=c.first),c.prev&&(l[a-1]=c.prev),c.next&&(l[a+1]=c.next),s&&s(e,t,n)}}return(_.sync||t.sync).call(o,e,n,i)},parseLinks:function(e,t){var n={},i=t.xhr.getResponseHeader("Link");if(i){var o=["first","prev","next"];l(i.split(","),function(e){var t=e.split(";"),i=t[0].replace(S,""),r=t.slice(1);l(r,function(e){var t=e.split("="),r=t[0].replace(k,""),s=t[1].replace(k,"");"rel"==r&&u(o,s)&&(n[s]=i)})})}return n},parse:function(e,t){var n=this.parseState(e,a(this.queryParams),a(this.state),t);return n&&(this.state=this._checkState(r({},this.state,n))),this.parseRecords(e,t)},parseState:function(t,n,i){if(t&&2===t.length&&g(t[0])&&f(t[1])){var o=a(i),r=t[0];return l(h(s(n,"directions")),function(t){var n=t[0],i=t[1],s=r[i];y(s)||e.isNull(s)||(o[n]=r[i])}),r.order&&(o.order=1*p(n.directions)[r.order]),o}},parseRecords:function(e){return e&&2===e.length&&g(e[0])&&f(e[1])?e[1]:e},fetch:function(t){t=t||{};var n=this;this.trigger("fetching");var o=t.success||this.defaultFetchSuccess;t.resetState&&(n.state.currentPage=1);var l=function(e,t,i){0===t.items.length&&(n.state.currentPage=1,n.state.firstPage=1,n.state.lastPage=null,n.state.currentPage=1,n.state.totalPages=null),n.reset(),n.state.totalRecords=t.totalRecords;var r=n.state.totalRecords%n.state.pageSize;0===r?(n.state.lastPage=Math.floor(n.state.totalRecords/n.state.pageSize),n.state.totalPages=Math.floor(n.state.totalRecords/n.state.pageSize)):(n.state.lastPage=Math.floor(n.state.totalRecords/n.state.pageSize)+1,n.state.totalPages=Math.floor(n.state.totalRecords/n.state.pageSize)+1),n.add(t.items),o(e,t,i),n.trigger("fetched")};t.success=l;var u=t.error||this.fetchError||this.defaultFetchError;t.error=u;var d=this._checkState(this.state),p=this.mode;
"infinite"!=p||t.url||(t.url=this.links[d.currentPage]);var f=t.data||{},g=b(t,"url")||b(this,"url")||"",w=g.indexOf("?");-1!=w&&(r(f,i(g.slice(w+1))),g=g.slice(0,w)),t.url=g,t.data=f;var x,C,k,S,T="client"==this.mode?c(this.queryParams,"sortKey","order"):s(c(this.queryParams,v(E.queryParams)),"directions"),P=h(T),M=a(this);for(x=0;x<P.length;x++)C=P[x],k=C[0],S=C[1],S=m(S)?S.call(M):S,null!=d[k]&&null!=S&&(f[S]=d[k]);d.sortKey&&d.order?f[T.order]=this.queryParams.directions[d.order+""]:d.sortKey||delete f[T.order];var A=h(s(this.queryParams,v(E.queryParams)));for(x=0;x<A.length;x++)C=A[x],S=C[1],S=m(S)?S.call(M):S,null!=S&&(f[C[0]]=S);if(this.filterQueryParams&&e.extend(f,this.filterQueryParams),"server"!=p){var I=this,D=this.fullCollection,O=t.success;return t.success=function(e,n,i){i=i||{},y(t.silent)?delete i.silent:i.silent=t.silent;var o=e.models;"client"==p?D.reset(o,i):(D.add(o,r({at:D.length},r(i,{parse:!1}))),I.trigger("reset",I,i)),O&&O(e,n,i)},_.fetch.call(this,r({},t,{silent:!0}))}return _.fetch.call(this,t)},_makeComparator:function(e,t,n){var i=this.state;return e=e||i.sortKey,t=t||i.order,e&&t?(n||(n=function(e,t){return e.get(t)}),function(i,o){var r,s=n(i,e),a=n(o,e);return 1===t&&(r=s,s=a,a=r),s===a?0:a>s?-1:1}):void 0},setSorting:function(e,t,n){var i=this.state;i.sortKey=e,i.order=t=t||i.order;var o=this.fullCollection,s=!1,a=!1;e||(s=a=!0);var l=this.mode;n=r({side:"client"==l?l:"server",full:!0},n);var c=this._makeComparator(e,t,n.sortValue),u=n.full,d=n.side;return"client"==d?u?(o&&(o.comparator=c),s=!0):(this.comparator=c,a=!0):"server"!=d||u||(this.comparator=c),s&&(this.comparator=null),a&&o&&(o.comparator=null),this}}),E=T.prototype;return T}),function(e,t){"function"==typeof define&&define.amd?define("download",[],t):"object"==typeof exports?module.exports=t():e.download=t()}(this,function(){return function e(t,n,i){function o(e){var t=e.split(/[:;,]/),n=t[1],i="base64"==t[2]?atob:decodeURIComponent,o=i(t.pop()),r=o.length,s=0,a=new Uint8Array(r);for(s;r>s;++s)a[s]=o.charCodeAt(s);return new v([a],{type:n})}function r(e,t){if("download"in m)return m.href=e,m.setAttribute("download",y),m.className="download-js-link",m.innerHTML="downloading...",f.body.appendChild(m),setTimeout(function(){m.click(),f.body.removeChild(m),t===!0&&setTimeout(function(){c.URL.revokeObjectURL(m.href)},250)},66),!0;if("undefined"!=typeof safari)return e="data:"+e.replace(/^data:([\w\/\-\+]+)/,u),window.open(e)||confirm("Displaying New Document\n\nUse Save As... to download, then click back to return to this page.")&&(location.href=e),!0;var n=f.createElement("iframe");f.body.appendChild(n),t||(e="data:"+e.replace(/^data:([\w\/\-\+]+)/,u)),n.src=e,setTimeout(function(){f.body.removeChild(n)},333)}var s,a,l,c=window,u="application/octet-stream",d=i||u,h=t,p=!n&&!i&&h,f=document,m=f.createElement("a"),g=function(e){return String(e)},v=c.Blob||c.MozBlob||c.WebKitBlob||g,y=n||"download";if(v=v.call?v.bind(c):Blob,"true"===String(this)&&(h=[h,d],d=h[0],h=h[1]),p&&p.length<2048&&(y=p.split("/").pop().split("?")[0],m.href=p,-1!==m.href.indexOf(p))){var l=new XMLHttpRequest;return l.open("GET",p,!0),l.responseType="blob",l.onload=function(t){e(t.target.response,y,u)},l.send(),l}if(/^data\:[\w+\-]+\/[\w+\-]+[,;]/.test(h))return navigator.msSaveBlob?navigator.msSaveBlob(o(h),y):r(h);if(s=h instanceof v?h:new v([h],{type:d}),navigator.msSaveBlob)return navigator.msSaveBlob(s,y);if(c.URL)r(c.URL.createObjectURL(s),!0);else{if("string"==typeof s||s.constructor===g)try{return r("data:"+d+";base64,"+c.btoa(s))}catch(b){return r("data:"+d+","+encodeURIComponent(s))}a=new FileReader,a.onload=function(){r(this.result)},a.readAsDataURL(s)}return!0}}),function(e,t){"object"==typeof exports?module.exports=t():"function"==typeof define&&define.amd?define("spin",t):e.Spinner=t()}(this,function(){function e(e,t){var n,i=document.createElement(e||"div");for(n in t)i[n]=t[n];return i}function t(e){for(var t=1,n=arguments.length;n>t;t++)e.appendChild(arguments[t]);return e}function n(e,t,n,i){var o=["opacity",t,~~(100*e),n,i].join("-"),r=.01+n/i*100,s=Math.max(1-(1-e)/t*(100-r),e),a=c.substring(0,c.indexOf("Animation")).toLowerCase(),l=a&&"-"+a+"-"||"";return d[o]||(h.insertRule("@"+l+"keyframes "+o+"{0%{opacity:"+s+"}"+r+"%{opacity:"+e+"}"+(r+.01)+"%{opacity:1}"+(r+t)%100+"%{opacity:"+e+"}100%{opacity:"+s+"}}",h.cssRules.length),d[o]=1),o}function i(e,t){var n,i,o=e.style;for(t=t.charAt(0).toUpperCase()+t.slice(1),i=0;i<u.length;i++)if(n=u[i]+t,void 0!==o[n])return n;return void 0!==o[t]?t:void 0}function o(e,t){for(var n in t)e.style[i(e,n)||n]=t[n];return e}function r(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)void 0===e[i]&&(e[i]=n[i])}return e}function s(e,t){return"string"==typeof e?e:e[t%e.length]}function a(e){this.opts=r(e||{},a.defaults,p)}function l(){function n(t,n){return e("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',n)}h.addRule(".spin-vml","behavior:url(#default#VML)"),a.prototype.lines=function(e,i){function r(){return o(n("group",{coordsize:u+" "+u,coordorigin:-c+" "+-c}),{width:u,height:u})}function a(e,a,l){t(h,t(o(r(),{rotation:360/i.lines*e+"deg",left:~~a}),t(o(n("roundrect",{arcsize:i.corners}),{width:c,height:i.width,left:i.radius,top:-i.width>>1,filter:l}),n("fill",{color:s(i.color,e),opacity:i.opacity}),n("stroke",{opacity:0}))))}var l,c=i.length+i.width,u=2*c,d=2*-(i.width+i.length)+"px",h=o(r(),{position:"absolute",top:d,left:d});if(i.shadow)for(l=1;l<=i.lines;l++)a(l,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(l=1;l<=i.lines;l++)a(l);return t(e,h)},a.prototype.opacity=function(e,t,n,i){var o=e.firstChild;i=i.shadow&&i.lines||0,o&&t+i<o.childNodes.length&&(o=o.childNodes[t+i],o=o&&o.firstChild,o=o&&o.firstChild,o&&(o.opacity=n))}}var c,u=["webkit","Moz","ms","O"],d={},h=function(){var n=e("style",{type:"text/css"});return t(document.getElementsByTagName("head")[0],n),n.sheet||n.styleSheet}(),p={lines:12,length:7,width:5,radius:10,rotate:0,corners:1,color:"#000",direction:1,speed:1,trail:100,opacity:.25,fps:20,zIndex:2e9,className:"spinner",top:"50%",left:"50%",position:"absolute"};a.defaults={},r(a.prototype,{spin:function(t){this.stop();{var n=this,i=n.opts,r=n.el=o(e(0,{className:i.className}),{position:i.position,width:0,zIndex:i.zIndex});i.radius+i.length+i.width}if(o(r,{left:i.left,top:i.top}),t&&t.insertBefore(r,t.firstChild||null),r.setAttribute("role","progressbar"),n.lines(r,n.opts),!c){var s,a=0,l=(i.lines-1)*(1-i.direction)/2,u=i.fps,d=u/i.speed,h=(1-i.opacity)/(d*i.trail/100),p=d/i.lines;!function f(){a++;for(var e=0;e<i.lines;e++)s=Math.max(1-(a+(i.lines-e)*p)%d*h,i.opacity),n.opacity(r,e*i.direction+l,s,i);n.timeout=n.el&&setTimeout(f,~~(1e3/u))}()}return n},stop:function(){var e=this.el;return e&&(clearTimeout(this.timeout),e.parentNode&&e.parentNode.removeChild(e),this.el=void 0),this},lines:function(i,r){function a(t,n){return o(e(),{position:"absolute",width:r.length+r.width+"px",height:r.width+"px",background:t,boxShadow:n,transformOrigin:"left",transform:"rotate("+~~(360/r.lines*u+r.rotate)+"deg) translate("+r.radius+"px,0)",borderRadius:(r.corners*r.width>>1)+"px"})}for(var l,u=0,d=(r.lines-1)*(1-r.direction)/2;u<r.lines;u++)l=o(e(),{position:"absolute",top:1+~(r.width/2)+"px",transform:r.hwaccel?"translate3d(0,0,0)":"",opacity:r.opacity,animation:c&&n(r.opacity,r.trail,d+u*r.direction,r.lines)+" "+1/r.speed+"s linear infinite"}),r.shadow&&t(l,o(a("#000","0 0 4px #000"),{top:"2px"})),t(i,t(l,a(s(r.color,u),"0 0 1px rgba(0,0,0,.1)")));return i},opacity:function(e,t,n){t<e.childNodes.length&&(e.childNodes[t].style.opacity=n)}});var f=o(e("group"),{behavior:"url(#default#VML)"});return!i(f,"transform")&&f.adj?l():c=i(f,"animation"),a}),!function(e,t){"function"==typeof define&&define.amd?define("numeral",t):"object"==typeof module&&module.exports?module.exports=t():e.numeral=t()}(this,function(){function e(e,t){this._input=e,this._value=t}var t,n,i="2.0.6",o={},r={},s={currentLocale:"en",zeroFormat:null,nullFormat:null,defaultFormat:"0,0",scalePercentBy100:!0},a={currentLocale:s.currentLocale,zeroFormat:s.zeroFormat,nullFormat:s.nullFormat,defaultFormat:s.defaultFormat,scalePercentBy100:s.scalePercentBy100};return t=function(i){var r,s,l,c;if(t.isNumeral(i))r=i.value();else if(0===i||"undefined"==typeof i)r=0;else if(null===i||n.isNaN(i))r=null;else if("string"==typeof i)if(a.zeroFormat&&i===a.zeroFormat)r=0;else if(a.nullFormat&&i===a.nullFormat||!i.replace(/[^0-9]+/g,"").length)r=null;else{for(s in o)if(c="function"==typeof o[s].regexps.unformat?o[s].regexps.unformat():o[s].regexps.unformat,c&&i.match(c)){l=o[s].unformat;break}l=l||t._.stringToNumber,r=l(i)}else r=Number(i)||null;return new e(i,r)},t.version=i,t.isNumeral=function(t){return t instanceof e},t._=n={numberToFormat:function(e,n,i){var o,s,a,l,c,u,d,h=r[t.options.currentLocale],p=!1,f=!1,m=0,g="",v=1e12,y=1e9,b=1e6,w=1e3,x="",C=!1;if(e=e||0,s=Math.abs(e),t._.includes(n,"(")?(p=!0,n=n.replace(/[\(|\)]/g,"")):(t._.includes(n,"+")||t._.includes(n,"-"))&&(c=t._.includes(n,"+")?n.indexOf("+"):0>e?n.indexOf("-"):-1,n=n.replace(/[\+|\-]/g,"")),t._.includes(n,"a")&&(o=n.match(/a(k|m|b|t)?/),o=o?o[1]:!1,t._.includes(n," a")&&(g=" "),n=n.replace(new RegExp(g+"a[kmbt]?"),""),s>=v&&!o||"t"===o?(g+=h.abbreviations.trillion,e/=v):v>s&&s>=y&&!o||"b"===o?(g+=h.abbreviations.billion,e/=y):y>s&&s>=b&&!o||"m"===o?(g+=h.abbreviations.million,e/=b):(b>s&&s>=w&&!o||"k"===o)&&(g+=h.abbreviations.thousand,e/=w)),t._.includes(n,"[.]")&&(f=!0,n=n.replace("[.]",".")),a=e.toString().split(".")[0],l=n.split(".")[1],u=n.indexOf(","),m=(n.split(".")[0].split(",")[0].match(/0/g)||[]).length,l?(t._.includes(l,"[")?(l=l.replace("]",""),l=l.split("["),x=t._.toFixed(e,l[0].length+l[1].length,i,l[1].length)):x=t._.toFixed(e,l.length,i),a=x.split(".")[0],x=t._.includes(x,".")?h.delimiters.decimal+x.split(".")[1]:"",f&&0===Number(x.slice(1))&&(x="")):a=t._.toFixed(e,0,i),g&&!o&&Number(a)>=1e3&&g!==h.abbreviations.trillion)switch(a=String(Number(a)/1e3),g){case h.abbreviations.thousand:g=h.abbreviations.million;break;case h.abbreviations.million:g=h.abbreviations.billion;break;case h.abbreviations.billion:g=h.abbreviations.trillion}if(t._.includes(a,"-")&&(a=a.slice(1),C=!0),a.length<m)for(var _=m-a.length;_>0;_--)a="0"+a;return u>-1&&(a=a.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+h.delimiters.thousands)),0===n.indexOf(".")&&(a=""),d=a+x+(g?g:""),p?d=(p&&C?"(":"")+d+(p&&C?")":""):c>=0?d=0===c?(C?"-":"+")+d:d+(C?"-":"+"):C&&(d="-"+d),d},stringToNumber:function(e){var t,n,i,o=r[a.currentLocale],s=e,l={thousand:3,million:6,billion:9,trillion:12};if(a.zeroFormat&&e===a.zeroFormat)n=0;else if(a.nullFormat&&e===a.nullFormat||!e.replace(/[^0-9]+/g,"").length)n=null;else{n=1,"."!==o.delimiters.decimal&&(e=e.replace(/\./g,"").replace(o.delimiters.decimal,"."));for(t in l)if(i=new RegExp("[^a-zA-Z]"+o.abbreviations[t]+"(?:\\)|(\\"+o.currency.symbol+")?(?:\\))?)?$"),s.match(i)){n*=Math.pow(10,l[t]);break}n*=(e.split("-").length+Math.min(e.split("(").length-1,e.split(")").length-1))%2?1:-1,e=e.replace(/[^0-9\.]+/g,""),n*=Number(e)}return n},isNaN:function(e){return"number"==typeof e&&isNaN(e)},includes:function(e,t){return-1!==e.indexOf(t)},insert:function(e,t,n){return e.slice(0,n)+t+e.slice(n)},reduce:function(e,t){if(null===this)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!=typeof t)throw new TypeError(t+" is not a function");var n,i=Object(e),o=i.length>>>0,r=0;if(3===arguments.length)n=arguments[2];else{for(;o>r&&!(r in i);)r++;if(r>=o)throw new TypeError("Reduce of empty array with no initial value");n=i[r++]}for(;o>r;r++)r in i&&(n=t(n,i[r],r,i));return n},multiplier:function(e){var t=e.toString().split(".");return t.length<2?1:Math.pow(10,t[1].length)},correctionFactor:function(){var e=Array.prototype.slice.call(arguments);return e.reduce(function(e,t){var i=n.multiplier(t);return e>i?e:i},1)},toFixed:function(e,t,n,i){var o,r,s,a,l=e.toString().split("."),c=t-(i||0);return o=2===l.length?Math.min(Math.max(l[1].length,c),t):c,s=Math.pow(10,o),a=(n(e+"e+"+o)/s).toFixed(o),i>t-o&&(r=new RegExp("\\.?0{1,"+(i-(t-o))+"}$"),a=a.replace(r,"")),a}},t.options=a,t.formats=o,t.locales=r,t.locale=function(e){return e&&(a.currentLocale=e.toLowerCase()),a.currentLocale},t.localeData=function(e){if(!e)return r[a.currentLocale];if(e=e.toLowerCase(),!r[e])throw new Error("Unknown locale : "+e);return r[e]},t.reset=function(){for(var e in s)a[e]=s[e]},t.zeroFormat=function(e){a.zeroFormat="string"==typeof e?e:null},t.nullFormat=function(e){a.nullFormat="string"==typeof e?e:null},t.defaultFormat=function(e){a.defaultFormat="string"==typeof e?e:"0.0"},t.register=function(e,t,n){if(t=t.toLowerCase(),this[e+"s"][t])throw new TypeError(t+" "+e+" already registered.");return this[e+"s"][t]=n,n},t.validate=function(e,n){var i,o,r,s,a,l,c,u;if("string"!=typeof e&&(e+="",console.warn&&console.warn("Numeral.js: Value is not string. It has been co-erced to: ",e)),e=e.trim(),e.match(/^\d+$/))return!0;if(""===e)return!1;try{c=t.localeData(n)}catch(d){c=t.localeData(t.locale())}return r=c.currency.symbol,a=c.abbreviations,i=c.delimiters.decimal,o="."===c.delimiters.thousands?"\\.":c.delimiters.thousands,u=e.match(/^[^\d]+/),null!==u&&(e=e.substr(1),u[0]!==r)?!1:(u=e.match(/[^\d]+$/),null!==u&&(e=e.slice(0,-1),u[0]!==a.thousand&&u[0]!==a.million&&u[0]!==a.billion&&u[0]!==a.trillion)?!1:(l=new RegExp(o+"{2}"),e.match(/[^\d.,]/g)?!1:(s=e.split(i),s.length>2?!1:s.length<2?!!s[0].match(/^\d+.*\d$/)&&!s[0].match(l):1===s[0].length?!!s[0].match(/^\d+$/)&&!s[0].match(l)&&!!s[1].match(/^\d+$/):!!s[0].match(/^\d+.*\d$/)&&!s[0].match(l)&&!!s[1].match(/^\d+$/))))},t.fn=e.prototype={clone:function(){return t(this)},format:function(e,n){var i,r,s,l=this._value,c=e||a.defaultFormat;if(n=n||Math.round,0===l&&null!==a.zeroFormat)r=a.zeroFormat;else if(null===l&&null!==a.nullFormat)r=a.nullFormat;else{for(i in o)if(c.match(o[i].regexps.format)){s=o[i].format;break}s=s||t._.numberToFormat,r=s(l,c,n)}return r},value:function(){return this._value},input:function(){return this._input},set:function(e){return this._value=Number(e),this},add:function(e){function t(e,t){return e+Math.round(i*t)}var i=n.correctionFactor.call(null,this._value,e);return this._value=n.reduce([this._value,e],t,0)/i,this},subtract:function(e){function t(e,t){return e-Math.round(i*t)}var i=n.correctionFactor.call(null,this._value,e);return this._value=n.reduce([e],t,Math.round(this._value*i))/i,this},multiply:function(e){function t(e,t){var i=n.correctionFactor(e,t);return Math.round(e*i)*Math.round(t*i)/Math.round(i*i)}return this._value=n.reduce([this._value,e],t,1),this},divide:function(e){function t(e,t){var i=n.correctionFactor(e,t);return Math.round(e*i)/Math.round(t*i)}return this._value=n.reduce([this._value,e],t),this},difference:function(e){return Math.abs(t(this._value).subtract(e).value())}},t.register("locale","en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(e){var t=e%10;return 1===~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th"},currency:{symbol:"$"}}),function(){t.register("format","bps",{regexps:{format:/(BPS)/,unformat:/(BPS)/},format:function(e,n,i){var o,r=t._.includes(n," BPS")?" ":"";return e=1e4*e,n=n.replace(/\s?BPS/,""),o=t._.numberToFormat(e,n,i),t._.includes(o,")")?(o=o.split(""),o.splice(-1,0,r+"BPS"),o=o.join("")):o=o+r+"BPS",o},unformat:function(e){return+(1e-4*t._.stringToNumber(e)).toFixed(15)}})}(),function(){var e={base:1e3,suffixes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]},n={base:1024,suffixes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},i=e.suffixes.concat(n.suffixes.filter(function(t){return e.suffixes.indexOf(t)<0})),o=i.join("|");o="("+o.replace("B","B(?!PS)")+")",t.register("format","bytes",{regexps:{format:/([0\s]i?b)/,unformat:new RegExp(o)},format:function(i,o,r){var s,a,l,c,u=t._.includes(o,"ib")?n:e,d=t._.includes(o," b")||t._.includes(o," ib")?" ":"";for(o=o.replace(/\s?i?b/,""),a=0;a<=u.suffixes.length;a++)if(l=Math.pow(u.base,a),c=Math.pow(u.base,a+1),null===i||0===i||i>=l&&c>i){d+=u.suffixes[a],l>0&&(i/=l);break}return s=t._.numberToFormat(i,o,r),s+d},unformat:function(i){var o,r,s=t._.stringToNumber(i);if(s){for(o=e.suffixes.length-1;o>=0;o--){if(t._.includes(i,e.suffixes[o])){r=Math.pow(e.base,o);break}if(t._.includes(i,n.suffixes[o])){r=Math.pow(n.base,o);break}}s*=r||1}return s}})}(),function(){t.register("format","currency",{regexps:{format:/(\$)/},format:function(e,n,i){var o,r,s,a=t.locales[t.options.currentLocale],l={before:n.match(/^([\+|\-|\(|\s|\$]*)/)[0],after:n.match(/([\+|\-|\)|\s|\$]*)$/)[0]};for(n=n.replace(/\s?\$\s?/,""),o=t._.numberToFormat(e,n,i),e>=0?(l.before=l.before.replace(/[\-\(]/,""),l.after=l.after.replace(/[\-\)]/,"")):0>e&&!t._.includes(l.before,"-")&&!t._.includes(l.before,"(")&&(l.before="-"+l.before),s=0;s<l.before.length;s++)switch(r=l.before[s]){case"$":o=t._.insert(o,a.currency.symbol,s);break;case" ":o=t._.insert(o," ",s+a.currency.symbol.length-1)}for(s=l.after.length-1;s>=0;s--)switch(r=l.after[s]){case"$":o=s===l.after.length-1?o+a.currency.symbol:t._.insert(o,a.currency.symbol,-(l.after.length-(1+s)));break;case" ":o=s===l.after.length-1?o+" ":t._.insert(o," ",-(l.after.length-(1+s)+a.currency.symbol.length-1))}return o}})}(),function(){t.register("format","exponential",{regexps:{format:/(e\+|e-)/,unformat:/(e\+|e-)/},format:function(e,n,i){var o,r="number"!=typeof e||t._.isNaN(e)?"0e+0":e.toExponential(),s=r.split("e");return n=n.replace(/e[\+|\-]{1}0/,""),o=t._.numberToFormat(Number(s[0]),n,i),o+"e"+s[1]},unformat:function(e){function n(e,n){var i=t._.correctionFactor(e,n),o=e*i*n*i/(i*i);return o}var i=e.split(t._.includes(e,"e+")?"e+":"e-"),o=Number(i[0]),r=Number(i[1]);return r=t._.includes(e,"e-")?r*=-1:r,t._.reduce([o,Math.pow(10,r)],n,1)}})}(),function(){t.register("format","ordinal",{regexps:{format:/(o)/},format:function(e,n,i){var o,r=t.locales[t.options.currentLocale],s=t._.includes(n," o")?" ":"";return n=n.replace(/\s?o/,""),s+=r.ordinal(e),o=t._.numberToFormat(e,n,i),o+s}})}(),function(){t.register("format","percentage",{regexps:{format:/(%)/,unformat:/(%)/},format:function(e,n,i){var o,r=t._.includes(n," %")?" ":"";return t.options.scalePercentBy100&&(e=100*e),n=n.replace(/\s?\%/,""),o=t._.numberToFormat(e,n,i),t._.includes(o,")")?(o=o.split(""),o.splice(-1,0,r+"%"),o=o.join("")):o=o+r+"%",o},unformat:function(e){var n=t._.stringToNumber(e);return t.options.scalePercentBy100?.01*n:n}})}(),function(){t.register("format","time",{regexps:{format:/(:)/,unformat:/(:)/},format:function(e){var t=Math.floor(e/60/60),n=Math.floor((e-60*t*60)/60),i=Math.round(e-60*t*60-60*n);return t+":"+(10>n?"0"+n:n)+":"+(10>i?"0"+i:i)},unformat:function(e){var t=e.split(":"),n=0;return 3===t.length?(n+=60*Number(t[0])*60,n+=60*Number(t[1]),n+=Number(t[2])):2===t.length&&(n+=60*Number(t[0]),n+=Number(t[1])),Number(n)}})}(),t}),define("utilities/utils",["require","adapters/underscore-adapter","adapters/jquery-adapter","nprogress","download","moment","spin","numeral"],function(e){function t(e,t,n){return"undefined"==typeof n||0===+n?Math[e](t):(t=+t,n=+n,isNaN(t)||"number"!=typeof n||n%1!==0?0/0:(t=t.toString().split("e"),t=Math[e](+(t[0]+"e"+(t[1]?+t[1]-n:-n))),t=t.toString().split("e"),+(t[0]+"e"+(t[1]?+t[1]+n:n))))}var n=e("adapters/underscore-adapter"),i=e("adapters/jquery-adapter"),o=e("nprogress"),r=e("download"),s=e("moment"),a=e("spin"),l=e("numeral");Number.prototype.formatMoney=function(e,t,n){var i=this,e=isNaN(e=Math.abs(e))?2:e,t=void 0==t?".":t,n=void 0==n?",":n,o=0>i?"-":"",r=parseInt(i=Math.abs(+i||0).toFixed(e))+"",s=(s=r.length)>3?s%3:0;return o+(s?r.substr(0,s)+n:"")+r.substr(s).replace(/(\d{3})(?=\d)/g,"$1"+n)+(e?t+Math.abs(i-r).toFixed(e).slice(2):"")},LOG_FILE=window.logFile||new List,window.logFile=LOG_FILE,l.register("locale","pt-br",{delimiters:{thousands:".",decimal:","},abbreviations:{thousand:"mil",million:"milhões",billion:"b",trillion:"t"},ordinal:function(){return"º"},currency:{symbol:"R$"}}),l.locale("pt-br"),Math.round10||(Math.round10=function(e,n){return t("round",e,n)}),ion.sound({sounds:[{name:"beer_can_opening"},{name:"Siren_Noise"},{name:"bell_ring"},{name:"branch_break"},{name:"button_click"}],path:"sounds/",preload:!0,multiplay:!0,volume:.9}),window.addLogEntry=function(e){window.logFile.length>1e3&&window.logFile.shift(),window.logFile.add("\n[ "+location.toString()+" ][ "+s().format("DD/MM/YYYY HH:mm:ss SSS")+" ]"+e),window.store("\n[ "+location.toString()+" ][ "+s().format("DD/MM/YYYY HH:mm:ss SSS")+" ]"+e)},window.store=function(e){var t=window.localStorage.getItem("appweb");window.localStorage.setItem("appweb",t+"\n  "+e)},window.showStoreLog=function(){var e=window.localStorage.getItem("appweb")||"NO LOG ENTRY";console.log(e.replace(/  /g,"\n"))},window.showLog=function(){window.logFile.forEach(function(e){console.log(e.replace(/  /g,"\n"))})};{var c={lines:11,length:7,width:6,radius:10,corners:1,rotate:22,direction:1,color:"#000",speed:1.1,trail:65,shadow:!1,hwaccel:!1,className:"spinner",zIndex:2e9,top:"50%",left:"50%"};new a(c)}return util={moment:s,NProgress:o.configure({minimum:.2}),escapeById:function(e,t){var n=null,o=i("#"+e)||i("input:radio[name ='"+e+"']");if(o){if(o.prop("tagName")&&o.prop("tagName")){var r=o.prop("tagName").toUpperCase();"SELECT"===r&&(n=o.children(":selected").attr("value")||null)}var s=o.attr("type");if("checkbox"===s||"radio"===s)n=o.is(":checked");else{var a=o.val();a&&(n=a.replace("&","&amp;").replace("<","&lt;").replace(">","&gt;").replace('"',"&quot;").replace("'","&#x27;").trim())}}return n&&t&&(n=n.indexOf("-")>0?n.replace(/-/g,"").replace(/\./g,"").replace(/\,/g,"."):n.replace(/\./g,"").replace(/\,/g,".")),n},escapeByName:function(e){var t=i("input:radio[name ='"+e+"']:checked");return t?t.val():""},setVal:function(e,t){var n=i("#"+e)||i("input:radio[name ='"+e+"'][value='"+t+"']");if(n){var o=n.attr("type");"checkbox"===o||"radio"===o?n.prop("checked",t):n.val(t)}},escapeByAttr:function(e,t){return n.escape(i("#"+e).attr(t))},escapeByIdSelect:function(e){return n.escape(i("#"+e+" option:selected").text())},resfresh:function(e,t){this.intervalName&&clearInterval(this.intervalName),this.intervalName=window.setInterval(function(){t&&t()},1e3*e||3e4)},markActiveItem:function(e){try{var t=i(".nav .sub li a");t.parent().removeClass("active-sub"),t.parent().parent().removeClass("show"),t.removeClass("active-link"),t.removeClass("active-sub"),i("#mainnav-menu > li").removeClass("open"),i("#"+e).addClass("active-link");var n=i("#"+e).parent();n&&(i("#mainnav-menu").find("li").removeClass("active-sub"),i("#mainnav-menu").find("li").removeClass("active-link"),n.parent().addClass("active-sub").addClass("open"),n.find("li").removeClass("active-link"),n.addClass("collapse in"),i("#"+e).addClass("active-link")),t.parent().parent().addClass("show")}catch(o){console.log(o)}},showSuccessMessage:function(e,t){this.showMessage("success",e,t)},showErrorMessage:function(e,t,n){var i="";t?(this.getJson(t.responseText).legalMessage?(i=this.getJson(t.responseText).legalMessage,this.showMessage("error",i,n)):this.showMessage("error",e,n),this.logError(t)):this.showMessage("error",e,n)},showMessage:function(e,t,n){var o=n||"messages_div",r=i("#"+o),s="<i class='fa fa-info-circle'></i> ";"success"==e?s="<i class='fa fa-thumbs-o-up'></i> ":"error"==e&&(s="<i class='fa fa-exclamation-triangle'></i> ",e="danger"),n||i("body,html").animate({scrollTop:0}),r.html("<div class='alert alert-"+e+" '> <strong> "+s+" </strong>	&nbsp;"+t+"<a class='close' data-dismiss='alert' href='#' aria-hidden='true'>&times;</a>	</div>"),r.show(),"danger"!==e&&setTimeout(function(){r.slideUp(400)},3e3)},goNewLocalTab:function(e){window.open("#"+e)},goPage:function(e,t){t?window.setTimeout(function(){window.location.hash=e},1200):window.location.hash=e},getUrl:function(e){var t=location.pathname;return t=t.split("/"),t=t[1],t="/"+t+e},goExtUrl:function(e){var t=this,n=t.getUrl(e);location.hash="",location.pathname=n},uploadImage:function(e,t,n){i("form").ajaxSubmit({success:t,error:n})},clear:function(e){var t=i("#"+e);t.val("").trigger("chosen:updated");var n=t.attr("type");("checkbox"===n||"radio"===n)&&(t.prop("checked",!1),t.attr("checked",!1))},breadcrumb:function(e){e&&(i(".breadcrumb").removeClass("hide"),i(".page-name").text(e.itemLabel),i(".breadcrumb-label").text(e.itemLabel),i(".breadcrumb-item").text(e.itemSubFolderName))},appendView:function(e,t){e.append(t.render().el),Marionette.triggerMethod.call(t,"show")},showSpinner:function(e){var e=document.getElementById(e)},stopSpinner:function(){},scrollTop:function(){i("body,html").animate({scrollTop:0})},scrollDownModal:function(){i(".modal-body").animate({scrollTop:800})},scrollUpModal:function(){i(".modal-body").animate({scrollTop:-800})},getWrappedModel:function(e){var t=i(e.target).parent();if(!t)return null;var n=t.data("model");return n},enterPressed:function(e){var t=e.keyCode?e.keyCode:e.which;return 13==t},isNumeric:function(e){return i.isNumeric(e)},cepFormatado:function(e){var t=e.replace(/[^0-9]+/,"");return t=t.replace(/^(\d{5})(\d)/,"$1-$2")},validCep:function(e){var t=e.replace(/[^0-9]+/,"");return 8==t.length&&this.isNumeric(t)},clearChecked:function(e){var t=i("#"+e);t.attr("checked",!1)},getJson:function(e){var t={};try{"string"==typeof e?t=JSON.parse(e):"object"==typeof e&&(t=e)}catch(n){console.error(n)}return t},toStrNumber:function(e){var t="";return"number"==typeof e?(t+=e,t=t.replace(/\./g,",")):t=""+e,t.replace(/[^\d.,-]/g,"")},formatFinalNumber:function(e){var t=this.formatNumber(e);return t.indexOf(",")<0?t+",00":t},formatNumber:function(e){e=this.toStrNumber(n.isNumber(e)?parseFloat(e.toFixed(2)):e);var t=e.toString().replace("$",""),i=!1,o=[],r=1,s=null;t.indexOf(",")>0&&(i=t.split(","),t=i[0]),t=t.split("").reverse();for(var a=0,l=t.length;l>a;a++)"."!=t[a]&&(o.push(t[a]),r++);return s=o.reverse().join(""),s+(i?","+i[1].substr(0,2):"")},formatMoney:function(e){e=this.toStrNumber(e);var t=e.toString().replace("$",""),n=!1,i=[],o=1,r=null;t.indexOf(",")>0&&(n=t.split(","),t=n[0]),t=t.split("").reverse();for(var s=0,a=t.length;a>s;s++)"."!=t[s]&&(i.push(t[s]),o%3==0&&a-1>s&&i.push("."),o++);return r=i.reverse().join(""),r+(n?","+n[1].substr(0,2):"")},onlyNumber:function(e){return e?e.replace(/[^0-9]+/,""):""},toJsNumber:function(e){var t=l(e);return t.value(),t.value()},notificationError:function(e){return i.gritter.add({title:e.title||"Aviso !",text:e.text,time:1e4,sticky:!1,icon:e.icon||"fa fa-exclamation-circle",class_name:e.className||"warn-notice"}),!1},validateUnique:function(e){var t=this;if(!e.collection)return void console.error("Deveria ser passado uma collection para a consulta...");var n=new e.collection;if(!e.view)return void console.error("Deveria ser passado a view a ser validada");var i=e.view.ui.inputId,o={};if(e.element.val()){var r=e.element.val();e.onlyNumber&&(r=r.replace(/\D/g,"")),e.uppercase&&(r=e.element.val().toUpperCase()),o[e.fieldName]=r,n.filterEqual({success:function(){n.each(function(n){n.get("id")!=i.val()&&(t.notificationError({title:"Erro",text:e.text||"Já existe registro com "+(e.displayFieldName||e.fieldName)+" "+r}),e.element.val(""))})},error:function(e,t,n){console.log(e,t,n),console.error(t.responseText||t.getResponseHeader("exception"))},data:o})}},handleError:function(e,t,n){0===e.status&&0===e.readyState?this.notificationError({title:"Sem conexão",className:"error-notice",icon:"fa fa-chain-broken",text:"Aparentemente voce não está conectado"}):e.responseText.indexOf("DOCTYPE")>0&&e.responseText.indexOf("login")>0?this.goExtUrl("/j_spring_security_logout"):"Forbidden"===n&&this.notificationError({title:"Acesso Negado",className:"error-notice",icon:"fa fa-chain-broken",text:"Aparentemente voce não está conectado"}),this.logError(e)},getCurrencySymbol:function(){return"R$"},formatNumeric:function(e,t){if(n.isNull(e)||n.isUndefined(e)||0===e.length)return 0;if(n.isNumber(e)===!1)throw new Error("Cannot format ["+e+" ]as number");var i=0+e;return i.formatMoney(t,",",".")},getStatusOrderDescription:function(e){return"AguardandoPagamento"==e?"Aguardando Pagamento":e},configureSuggest:function(e){var t=new Bloodhound({datumTokenizer:Bloodhound.tokenizers.obj.whitespace(e.showValue),queryTokenizer:Bloodhound.tokenizers.whitespace,prefetch:!1,remote:{url:e.collection.url+"/filterAlike?"+(e.queryValue||e.showValue)+"=%QUERY&"+(e.extraQuery||""),wildcard:"%QUERY",cache:!1}}),o=i(e.field);o.typeahead({hint:!1,minLength:3,highlight:!0,highlighter:function(e){var t=new RegExp("("+this.query+")","gi");return e.replace(t,"<strong>$1</strong>")}},{name:"modal-jsetup-input-suggest",display:function(t){if(e.display){var n=e.display.split(",");if(1==n.length)return t[n[0]];if(2==n.length)return t[n[0]]+" - "+t[n[1]];if(3==n.length)return t[n[0]]+" - "+t[n[1]]+" - "+t[n[2]]}return t[e.showValue]},source:t,limit:15,templates:{empty:['<div class="empty-message"> &nbsp;'," Sem resultados...","</div>"].join("\n"),suggestion:n.template(e.template||"<div>{{"+e.showValue+"}} </div>")}}),o.bind("typeahead:select",function(t,n){e.onSelect&&e.onSelect(n)}),o.bind("change",function(){o.val()||e.onSelect&&e.onSelect(null)}),o.bind("typeahead:change",function(){o.val()||e.onSelect&&e.onSelect(null)})},logError:function(e){var t="";try{if(e.responseText){var n=this.getJson(e.responseText),i=n.error||n;t=i.errorMessage+" \n\n [ Parametros da requisição: ]-> "+JSON.stringify(i.parameters)}else t=e.getResponseHeader&&e.getResponseHeader("exception")}catch(o){}window.addLogEntry(t),console.error("veja no console o erro: [ window.showStoreLog()]")},alert:function(e){swal(e.title||"Info",e.text||"!!",e.type||"success")},confirm:function(e){swal({title:e.title||"IMPORTANTE!",text:e.text||"Are You Sure?",type:e.type||"error",showCancelButton:!0,closeOnConfirm:!1,showLoaderOnConfirm:!1},function(){e.onConfirm&&e.onConfirm()})},prompt:function(e){swal({title:e.title||"IMPORTANTE!",text:e.text||"Are You Sure?",type:"input",inputType:e.inputType||"text",showCancelButton:!0,closeOnConfirm:!1},function(t){n.isString(t)&&e.onConfirm&&e.onConfirm(t)})},truncDate:function(e){return e.length>10?e.substring(0,11):e},playSound:function(e){"SIREN"===e?this.toSiren():this.toRing()},toRing:function(){ion.sound.play("bell_ring")},toSiren:function(){ion.sound.play("Siren_Noise")},truncHour:function(e){return e.length>10?e.substring(10,e.length+1):e},formatTelefone:function(e){if(!e)return"";var t=e.replace(/\D/g,"");"0"===t.substring(0,1)&&(t=t.substring(1,t.length));var n=t.length;return n>9&&(t=t.replace(/^(\d{2})(\d)/g,"($1) $2")),t=t.replace(/(\d)(\d{4})$/,"$1-$2")},getFiletype:function(e){return"images/jpeg"===e?"JPEG":"images/png"===e?"PNG":"text/html"===e?"HTML":"text/plain"===e?"TEXT":"application/pdf"===e?"PDF":void 0},now:function(e){return s().format(e?"DD/MM/YYYY":"DD/MM/YYYY HH:mm")},disableAll:function(e){e.find("input").prop("disabled","disabled"),e.find("select").prop("disabled","disabled"),e.find("button").prop("disabled","disabled"),e.find("textarea").prop("disabled","disabled"),e.find("a").bind("click",function(e){return e.preventDefault(),e.stopPropagation(),!1}),e.find("div").bind("click",function(e){return e.preventDefault(),e.stopPropagation(),!1}),e.find("button").bind("click",function(e){return e.preventDefault(),e.stopPropagation(),!1}),e.find("*").bind("click",function(e){return e.preventDefault(),e.stopPropagation(),!1})},loadButton:function(e){return!n.isUndefined(e)&&n.isString(e)?!1:void(n.isFunction(e.button)&&e.button("loading"))},resetButton:function(e){return!n.isUndefined(e)&&n.isString(e)?!1:void(n.isFunction(e.button)&&e.button("reset"))},Colors:{DODGER_BLUE:"#1E90FF",DARK_ORANGE:"#FF8C00",MED_SPRING_GREEN:"#00FA9A",SKY_BLUE:"#87CEEB",INDIAN_RED:"#CD5C5C",YELLOW_GREEN:"#9ACD32",DARK_KHAKI:"#BDB76B",DEEP_SKY_BLUE:"#00BFFF",GOLD:"#FFD700",TAN2:"#EE9A49",LIGHT_GREEN:"#90EE90",LIGHT_GREY:"#D3D3D3",DARK_CYAN:"#008B8B",TOMATO:"#FF6347"},WAY_PAYMENT_TYPES:[{id:"CARD",value:"Cartão"},{id:"CHECK",value:"Cheque"},{id:"CASH",value:"Dinheiro"},{id:"BANK_SLIP",value:"Boleto Bancário"},{id:"DEBIT",value:"Cartão de Débito"},{id:"VOUCHER",value:"Voucher"}],DAYS_OF_THE_WEEK:[{id:"SUNDAY",value:"Domingo"},{id:"MONDAY",value:"Segunda"},{id:"TUESDAY",value:"Terça"},{id:"WEDNESDAY",value:"Quarta"},{id:"THURSDAY",value:"Quinta"},{id:"FRIDAY",value:"Sexta"},{id:"SATURDAY",value:"Sábado"}],getAppName:function(){var e=location.pathname.split("/");
return e[1]},getAppUrl:function(){return location.origin+"/"+this.getAppName()+"/"},downloadFile:function(e){r(e&&e.indexOf("http")<0?this.getAppUrl()+e:e)},isImageFile:function(e){var e=""+e.toUpperCase();return e.endsWith("PNG")||e.endsWith("JPG")||e.endsWith("JPEG")||e.endsWith("GIF")?!0:!1},getNumber:function(e){return n.isNumber(e)?e:n.isString(e)?new Number(e):null},addressComponentsToJson:function(e){var t={lineAddress:"",complement:"",numero:"",complemento:"",state:"",city:"",district:"",zipCode:""};return n.each(e,function(e){"administrative_area_level_1"===e.types[0]&&(t.state=e.long_name),("locality"===e.types[0]||"administrative_area_level_2"===e.types[0])&&(t.city=e.long_name),"street_number"===e.types[0]&&(t.number=e.long_name),"route"===e.types[0]&&(t.lineAddress=e.long_name),("political"===e.types[0]||"sublocality_level_1"===e.types[0]||"sublocality"===e.types[1])&&(t.district=e.long_name),"postal_code"===e.types[0]&&(t.zipCode=e.long_name)}),t},resultGeocodeToJson:function(e){var t=this.addressComponentsToJson(e.address_components,e.formatted_address);return t.latitude=e.geometry.location.lat(),t.longitude=e.geometry.location.lng(),t},addressToQueryString:function(e){return e.lineAddress+" n. "+e.number+" "+e.district+" "+e.state}},window.util=util,util}),function(e){define("backgrid",["backbone"],function(){return function(){return function(e){"object"==typeof exports?module.exports=e(module.exports,require("underscore"),require("backbone")):e(this,this._,this.Backbone)}(function(e,t,n){function i(e,t,n){var i=t-(e+"").length;i=0>i?0:i;for(var o="",r=0;i>r;r++)o+=n;return o+e}var o="	\n\f\r   ᠎             　\u2028\u2029﻿";if(!String.prototype.trim||o.trim()){o="["+o+"]";var r=new RegExp("^"+o+o+"*"),s=new RegExp(o+o+"*$");String.prototype.trim=function(){if(void 0===this||null===this)throw new TypeError("can't convert "+this+" to object");return String(this).replace(r,"").replace(s,"")}}var a=n.$,l=e.Backgrid={Extension:{},resolveNameToClass:function(e,n){if(t.isString(e)){var i=t.map(e.split("-"),function(e){return e.slice(0,1).toUpperCase()+e.slice(1)}).join("")+n,o=l[i]||l.Extension[i];if(t.isUndefined(o))throw new ReferenceError("Class '"+i+"' not found");return o}return e},callByNeed:function(){var e=arguments[0];if(!t.isFunction(e))return e;var n=arguments[1],i=[].slice.call(arguments,2);return e.apply(n,i+""?i:[])}};t.extend(l,n.Events);var c=l.Command=function(e){t.extend(this,{altKey:!!e.altKey,"char":e["char"],charCode:e.charCode,ctrlKey:!!e.ctrlKey,key:e.key,keyCode:e.keyCode,locale:e.locale,location:e.location,metaKey:!!e.metaKey,repeat:!!e.repeat,shiftKey:!!e.shiftKey,which:e.which})};t.extend(c.prototype,{moveUp:function(){return 38==this.keyCode},moveDown:function(){return 40===this.keyCode},moveLeft:function(){return this.shiftKey&&9===this.keyCode},moveRight:function(){return!this.shiftKey&&9===this.keyCode},save:function(){return 13===this.keyCode},cancel:function(){return 27===this.keyCode},passThru:function(){return!(this.moveUp()||this.moveDown()||this.moveLeft()||this.moveRight()||this.save()||this.cancel())}});var u=l.CellFormatter=function(){};t.extend(u.prototype,{fromRaw:function(e){return e},toRaw:function(e){return e}});var d=l.NumberFormatter=function(e){if(t.extend(this,this.defaults,e||{}),this.decimals<0||this.decimals>20)throw new RangeError("decimals must be between 0 and 20")};d.prototype=new u,t.extend(d.prototype,{defaults:{decimals:2,decimalSeparator:".",orderSeparator:","},HUMANIZED_NUM_RE:/(\d)(?=(?:\d{3})+$)/g,fromRaw:function(e){if(!e||t.isNull(e)||t.isUndefined(e))return"";e=parseFloat(e),e=e.toFixed(~~this.decimals);var n=e.split("."),i=n[0],o=n[1]?(this.decimalSeparator||".")+n[1]:"";return i.replace(this.HUMANIZED_NUM_RE,"$1"+this.orderSeparator)+o},toRaw:function(e){if(e=e.trim(),""===e)return null;for(var n="",i=e.split(this.orderSeparator),o=0;o<i.length;o++)n+=i[o];var r=n.split(this.decimalSeparator);n="";for(var o=0;o<r.length;o++)n=n+r[o]+".";"."===n[n.length-1]&&(n=n.slice(0,n.length-1));var s=1*(1*n).toFixed(~~this.decimals);return t.isNumber(s)&&!t.isNaN(s)?s:void 0}});var h=l.PercentFormatter=function(){l.NumberFormatter.apply(this,arguments)};h.prototype=new l.NumberFormatter,t.extend(h.prototype,{defaults:t.extend({},d.prototype.defaults,{multiplier:1,symbol:"%"}),fromRaw:function(e){var t=[].slice.call(arguments,1);return t.unshift(e*this.multiplier),(d.prototype.fromRaw.apply(this,t)||"0")+this.symbol},toRaw:function(e){var n=e.split(this.symbol);if(n&&n[0]&&""===n[1]||null==n[1]){var i=d.prototype.toRaw.call(this,n[0]);return t.isUndefined(i)?i:i/this.multiplier}}});var p=l.DatetimeFormatter=function(e){if(t.extend(this,this.defaults,e||{}),!this.includeDate&&!this.includeTime)throw new Error("Either includeDate or includeTime must be true")};p.prototype=new u,t.extend(p.prototype,{defaults:{includeDate:!0,includeTime:!0,includeMilli:!1},DATE_RE:/^([+\-]?\d{4})-(\d{2})-(\d{2})$/,TIME_RE:/^(\d{2}):(\d{2}):(\d{2})(\.(\d{3}))?$/,ISO_SPLITTER_RE:/T|Z| +/,_convert:function(e,n){if(""===(e+"").trim())return null;var o,r=null;if(t.isNumber(e)){var s=new Date(e);o=i(s.getUTCFullYear(),4,0)+"-"+i(s.getUTCMonth()+1,2,0)+"-"+i(s.getUTCDate(),2,0),r=i(s.getUTCHours(),2,0)+":"+i(s.getUTCMinutes(),2,0)+":"+i(s.getUTCSeconds(),2,0)}else{e=e.trim();var a=e.split(this.ISO_SPLITTER_RE)||[];o=this.DATE_RE.test(a[0])?a[0]:"",r=o&&a[1]?a[1]:this.TIME_RE.test(a[0])?a[0]:""}var l=this.DATE_RE.exec(o)||[],c=this.TIME_RE.exec(r)||[];if(n){if(this.includeDate&&t.isUndefined(l[0]))return;if(this.includeTime&&t.isUndefined(c[0]))return;if(!this.includeDate&&o)return;if(!this.includeTime&&r)return}var s=new Date(Date.UTC(1*l[1]||0,1*l[2]-1||0,1*l[3]||0,1*c[1]||null,1*c[2]||null,1*c[3]||null,1*c[5]||null)),u="";return this.includeDate&&(u=i(s.getUTCFullYear(),4,0)+"-"+i(s.getUTCMonth()+1,2,0)+"-"+i(s.getUTCDate(),2,0)),this.includeTime&&(u=u+(this.includeDate?"T":"")+i(s.getUTCHours(),2,0)+":"+i(s.getUTCMinutes(),2,0)+":"+i(s.getUTCSeconds(),2,0),this.includeMilli&&(u=u+"."+i(s.getUTCMilliseconds(),3,0))),this.includeDate&&this.includeTime&&(u+="Z"),u},fromRaw:function(e){return t.isNull(e)||t.isUndefined(e)?"":this._convert(e)},toRaw:function(e){return this._convert(e,!0)}});var f=l.StringFormatter=function(){};f.prototype=new u,t.extend(f.prototype,{fromRaw:function(e){return t.isUndefined(e)||t.isNull(e)?"":e+""}});var m=l.EmailFormatter=function(){};m.prototype=new u,t.extend(m.prototype,{toRaw:function(e){var n=e.trim().split("@");return 2===n.length&&t.all(n)?e:void 0}});var g=l.SelectFormatter=function(){};g.prototype=new u,t.extend(g.prototype,{fromRaw:function(e){return t.isArray(e)?e:null!=e?[e]:[]}});var v=l.CellEditor=n.View.extend({initialize:function(e){this.formatter=e.formatter,this.column=e.column,this.column instanceof P||(this.column=new P(this.column)),this.listenTo(this.model,"backgrid:editing",this.postRender)},postRender:function(e,t){return(null==t||t.get("name")==this.column.get("name"))&&this.$el.focus(),this}}),y=l.InputCellEditor=v.extend({tagName:"input",attributes:{type:"text"},events:{blur:"saveOrCancel",keydown:"saveOrCancel"},initialize:function(e){y.__super__.initialize.apply(this,arguments),e.placeholder&&this.$el.attr("placeholder",e.placeholder)},render:function(){var e=this.model;return this.$el.val(this.formatter.fromRaw(e.get(this.column.get("name")),e)),this},saveOrCancel:function(e){var n=this.formatter,i=this.model,o=this.column,r=new c(e),s="blur"===e.type;if(r.moveUp()||r.moveDown()||r.moveLeft()||r.moveRight()||r.save()||s){e.preventDefault(),e.stopPropagation();var a=this.$el.val(),l=n.toRaw(a,i);t.isUndefined(l)?i.trigger("backgrid:error",i,o,a):(i.set(o.get("name"),l),i.trigger("backgrid:edited",i,o,r))}else r.cancel()&&(e.stopPropagation(),i.trigger("backgrid:edited",i,o,r))},postRender:function(e,t){if(null==t||t.get("name")==this.column.get("name"))if("right"===this.$el.css("text-align")){var n=this.$el.val();this.$el.focus().val(null).val(n)}else this.$el.focus();return this}}),b=l.Cell=n.View.extend({tagName:"td",formatter:u,editor:y,events:{click:"enterEditMode"},initialize:function(e){this.column=e.column,this.column instanceof P||(this.column=new P(this.column));var n=this.column,i=this.model,o=this.$el,r=l.resolveNameToClass(n.get("formatter")||this.formatter,"Formatter");t.isFunction(r.fromRaw)||t.isFunction(r.toRaw)||(r=new r),this.formatter=r,this.editor=l.resolveNameToClass(this.editor,"CellEditor"),this.listenTo(i,"change:"+n.get("name"),function(){o.hasClass("editor")||this.render()}),this.listenTo(i,"backgrid:error",this.renderError),this.listenTo(n,"change:editable change:sortable change:renderable",function(e){var t=e.changedAttributes();for(var n in t)t.hasOwnProperty(n)&&o.toggleClass(n,t[n])}),l.callByNeed(n.editable(),n,i)&&o.addClass("editable"),l.callByNeed(n.renderable(),n,i)&&o.addClass("renderable")},render:function(){this.$el.empty();var e=this.model;return this.$el.text(this.formatter.fromRaw(e.get(this.column.get("name")),e)),this.delegateEvents(),this},enterEditMode:function(){var e=this.model,t=this.column,n=l.callByNeed(t.editable(),t,e);n&&(this.currentEditor=new this.editor({column:this.column,model:this.model,formatter:this.formatter}),e.trigger("backgrid:edit",e,t,this,this.currentEditor),this.undelegateEvents(),this.$el.empty(),this.$el.append(this.currentEditor.$el),this.currentEditor.render(),this.$el.addClass("editor"),e.trigger("backgrid:editing",e,t,this,this.currentEditor))},renderError:function(e,t){(null==t||t.get("name")==this.column.get("name"))&&this.$el.addClass("error")},exitEditMode:function(){this.$el.removeClass("error"),this.currentEditor.remove(),this.stopListening(this.currentEditor),delete this.currentEditor,this.$el.removeClass("editor"),this.render()},remove:function(){return this.currentEditor&&(this.currentEditor.remove.apply(this.currentEditor,arguments),delete this.currentEditor),b.__super__.remove.apply(this,arguments)}}),w=l.StringCell=b.extend({className:"string-cell",formatter:f}),x=l.UriCell=b.extend({className:"uri-cell",title:null,target:"_blank",initialize:function(e){x.__super__.initialize.apply(this,arguments),this.title=e.title||this.title,this.target=e.target||this.target},render:function(){this.$el.empty();var e=this.model.get(this.column.get("name")),t=this.formatter.fromRaw(e,this.model);return this.$el.append(a("<a>",{tabIndex:-1,href:e,title:this.title||t,target:this.target}).text(t)),this.delegateEvents(),this}}),C=(l.EmailCell=w.extend({className:"email-cell",formatter:m,render:function(){this.$el.empty();var e=this.model,t=this.formatter.fromRaw(e.get(this.column.get("name")),e);return this.$el.append(a("<a>",{tabIndex:-1,href:"mailto:"+t,title:t}).text(t)),this.delegateEvents(),this}}),l.NumberCell=b.extend({className:"number-cell",decimals:d.prototype.defaults.decimals,decimalSeparator:d.prototype.defaults.decimalSeparator,orderSeparator:d.prototype.defaults.orderSeparator,formatter:d,initialize:function(){C.__super__.initialize.apply(this,arguments);var e=this.formatter;e.decimals=this.decimals,e.decimalSeparator=this.decimalSeparator,e.orderSeparator=this.orderSeparator}})),_=(l.IntegerCell=C.extend({className:"integer-cell",decimals:0}),l.PercentCell=C.extend({className:"percent-cell",multiplier:h.prototype.defaults.multiplier,symbol:h.prototype.defaults.symbol,formatter:h,initialize:function(){_.__super__.initialize.apply(this,arguments);var e=this.formatter;e.multiplier=this.multiplier,e.symbol=this.symbol}})),k=l.DatetimeCell=b.extend({className:"datetime-cell",includeDate:p.prototype.defaults.includeDate,includeTime:p.prototype.defaults.includeTime,includeMilli:p.prototype.defaults.includeMilli,formatter:p,initialize:function(){k.__super__.initialize.apply(this,arguments);var e=this.formatter;e.includeDate=this.includeDate,e.includeTime=this.includeTime,e.includeMilli=this.includeMilli;var n=this.includeDate?"YYYY-MM-DD":"";n+=this.includeDate&&this.includeTime?"T":"",n+=this.includeTime?"HH:mm:ss":"",n+=this.includeTime&&this.includeMilli?".SSS":"",this.editor=this.editor.extend({attributes:t.extend({},this.editor.prototype.attributes,this.editor.attributes,{placeholder:n})})}}),S=(l.DateCell=k.extend({className:"date-cell",includeTime:!1}),l.TimeCell=k.extend({className:"time-cell",includeDate:!1}),l.BooleanCellEditor=v.extend({tagName:"input",attributes:{tabIndex:-1,type:"checkbox"},events:{mousedown:function(){this.mouseDown=!0},blur:"enterOrExitEditMode",mouseup:function(){this.mouseDown=!1},change:"saveOrCancel",keydown:"saveOrCancel"},render:function(){var e=this.model,t=this.formatter.fromRaw(e.get(this.column.get("name")),e);return this.$el.prop("checked",t),this},enterOrExitEditMode:function(e){if(!this.mouseDown){var t=this.model;t.trigger("backgrid:edited",t,this.column,new c(e))}},saveOrCancel:function(e){var t=this.model,n=this.column,i=this.formatter,o=new c(e);if(o.passThru()&&"change"!=e.type)return!0;o.cancel()&&(e.stopPropagation(),t.trigger("backgrid:edited",t,n,o));var r=this.$el;if(o.save()||o.moveLeft()||o.moveRight()||o.moveUp()||o.moveDown()){e.preventDefault(),e.stopPropagation();var s=i.toRaw(r.prop("checked"),t);t.set(n.get("name"),s),t.trigger("backgrid:edited",t,n,o)}else if("change"==e.type){var s=i.toRaw(r.prop("checked"),t);t.set(n.get("name"),s),r.focus()}}})),T=(l.BooleanCell=b.extend({className:"boolean-cell",editor:S,events:{click:"enterEditMode"},render:function(){this.$el.empty();var e=this.model,t=this.column,n=l.callByNeed(t.editable(),t,e);return this.$el.append(a("<input>",{tabIndex:-1,type:"checkbox",checked:this.formatter.fromRaw(e.get(t.get("name")),e),disabled:!n})),this.delegateEvents(),this}}),l.SelectCellEditor=v.extend({tagName:"select",events:{change:"save",blur:"close",keydown:"close"},template:t.template('<option value="<%- value %>" <%= selected ? \'selected="selected"\' : "" %>><%- text %></option>',null,{variable:null}),setOptionValues:function(e){this.optionValues=e,this.optionValues=t.result(this,"optionValues")},setMultiple:function(e){this.multiple=e,this.$el.prop("multiple",e)},_renderOptions:function(e,n){for(var i="",o=0;o<e.length;o++)i+=this.template({text:e[o][0],value:e[o][1],selected:t.indexOf(n,e[o][1])>-1});return i},render:function(){this.$el.empty();var e=t.result(this,"optionValues"),n=this.model,i=this.formatter.fromRaw(n.get(this.column.get("name")),n);if(!t.isArray(e))throw new TypeError("optionValues must be an array");for(var o=null,r=null,o=null,s=null,l=null,c=0;c<e.length;c++){var o=e[c];if(t.isArray(o))r=o[0],o=o[1],this.$el.append(this.template({text:r,value:o,selected:t.indexOf(i,o)>-1}));else{if(!t.isObject(o))throw new TypeError("optionValues elements must be a name-value pair or an object hash of { name: 'optgroup label', value: [option name-value pairs] }");s=o.name,l=a("<optgroup></optgroup>",{label:s}),l.append(this._renderOptions.call(this,o.values,i)),this.$el.append(l)}}return this.delegateEvents(),this},save:function(){var e=this.model,t=this.column;e.set(t.get("name"),this.formatter.toRaw(this.$el.val(),e))},close:function(e){var t=this.model,n=this.column,i=new c(e);i.cancel()?(e.stopPropagation(),t.trigger("backgrid:edited",t,n,new c(e))):(i.save()||i.moveLeft()||i.moveRight()||i.moveUp()||i.moveDown()||"blur"==e.type)&&(e.preventDefault(),e.stopPropagation(),this.save(e),t.trigger("backgrid:edited",t,n,new c(e)))}})),E=l.SelectCell=b.extend({className:"select-cell",editor:T,multiple:!1,formatter:g,optionValues:void 0,delimiter:", ",initialize:function(){E.__super__.initialize.apply(this,arguments),this.listenTo(this.model,"backgrid:edit",function(e,t,n,i){t.get("name")==this.column.get("name")&&(i.setOptionValues(this.optionValues),i.setMultiple(this.multiple))})},render:function(){this.$el.empty();var e=t.result(this,"optionValues"),n=this.model,i=this.formatter.fromRaw(n.get(this.column.get("name")),n),o=[];try{if(!t.isArray(e)||t.isEmpty(e))throw new TypeError;for(var r=0;r<i.length;r++)for(var s=i[r],a=0;a<e.length;a++){var l=e[a];if(t.isArray(l)){var c=l[0],l=l[1];l==s&&o.push(c)}else{if(!t.isObject(l))throw new TypeError;for(var u=l.values,d=0;d<u.length;d++){var h=u[d];h[1]==s&&o.push(h[0])}}}this.$el.append(o.join(this.delimiter))}catch(p){if(p instanceof TypeError)throw new TypeError("'optionValues' must be of type {Array.<Array>|Array.<{name: string, values: Array.<Array>}>}");throw p}return this.delegateEvents(),this}}),P=l.Column=n.Model.extend({defaults:{name:void 0,label:void 0,sortable:!1,editable:!0,renderable:!0,formatter:void 0,sortType:"cycle",sortValue:void 0,direction:null,cell:void 0,headerCell:void 0},initialize:function(){this.has("label")||this.set({label:this.get("name")},{silent:!0});var e=l.resolveNameToClass(this.get("headerCell"),"HeaderCell"),t=l.resolveNameToClass(this.get("cell"),"Cell");this.set({cell:t,headerCell:e},{silent:!0})},sortValue:function(){var e=this.get("sortValue");return t.isString(e)?this[e]:t.isFunction(e)?e:function(e,t){return e.get(t)}}});t.each(["sortable","renderable","editable"],function(e){P.prototype[e]=function(){var n=this.get(e);return t.isString(n)?this[n]:t.isFunction(n)?n:!!n}});{var M=l.Columns=n.Collection.extend({model:P}),A=l.Row=n.View.extend({tagName:"tr",initialize:function(e){var t=this.columns=e.columns;t instanceof n.Collection||(t=this.columns=new M(t));for(var i=this.cells=[],o=0;o<t.length;o++)i.push(this.makeCell(t.at(o),e));this.listenTo(t,"add",function(t,n){var o=n.indexOf(t),r=this.makeCell(t,e);i.splice(o,0,r);var s=this.$el;0===o?s.prepend(r.render().$el):o===n.length-1?s.append(r.render().$el):s.children().eq(o).before(r.render().$el)}),this.listenTo(t,"remove",function(e,t,n){i[n.index].remove(),i.splice(n.index,1)})},makeCell:function(e){return new(e.get("cell"))({column:e,model:this.model})},render:function(){this.$el.empty();for(var e=document.createDocumentFragment(),t=0;t<this.cells.length;t++)e.appendChild(this.cells[t].render().el);return this.el.appendChild(e),this.delegateEvents(),this},remove:function(){for(var e=0;e<this.cells.length;e++){var t=this.cells[e];t.remove.apply(t,arguments)}return n.View.prototype.remove.apply(this,arguments)}}),I=l.EmptyRow=n.View.extend({tagName:"tr",emptyText:null,initialize:function(e){this.emptyText=e.emptyText,this.columns=e.columns},render:function(){this.$el.empty();var e=document.createElement("td");return e.setAttribute("colspan",this.columns.length),e.appendChild(document.createTextNode(t.result(this,"emptyText"))),this.el.className="empty",this.el.appendChild(e),this}}),D=l.HeaderCell=n.View.extend({tagName:"th",events:{"click a":"onClick"},initialize:function(e){this.column=e.column,this.column instanceof P||(this.column=new P(this.column));var t=this.column,n=this.collection,i=this.$el;this.listenTo(t,"change:editable change:sortable change:renderable",function(e){var t=e.changedAttributes();for(var n in t)t.hasOwnProperty(n)&&i.toggleClass(n,t[n])}),this.listenTo(t,"change:direction",this.setCellDirection),this.listenTo(t,"change:name change:label",this.render),l.callByNeed(t.editable(),t,n)&&i.addClass("editable"),l.callByNeed(t.renderable(),t,n)&&i.addClass("renderable"),this.listenTo(n.fullCollection||n,"sort",this.removeCellDirection)},removeCellDirection:function(){this.$el.removeClass("ascending").removeClass("descending"),this.column.set("direction",null)},setCellDirection:function(e,t){this.$el.removeClass("ascending").removeClass("descending"),e.cid==this.column.cid&&this.$el.addClass(t)},onClick:function(e){function t(e,t){"ascending"===i.get("direction")?o.trigger(r,t,"descending"):"descending"===i.get("direction")?o.trigger(r,t,null):o.trigger(r,t,"ascending")}function n(e,t){"ascending"===i.get("direction")?o.trigger(r,t,"descending"):o.trigger(r,t,"ascending")}e.preventDefault();var i=this.column,o=this.collection,r="backgrid:sort",s=l.callByNeed(i.sortable(),i,this.collection);if(s){var a=i.get("sortType");"toggle"===a?n(this,i):t(this,i)}this.render()},render:function(){this.$el.parent().find("a>b").removeClass("fa fa-sort-alpha-asc").removeClass("fa fa-sort-alpha-desc").removeClass("fa-sort-numeric-asc").removeClass("fa-sort-numeric-desc"),this.$el.empty();var e,t=this.column,n=l.callByNeed(t.sortable(),t,this.collection);return e=n?a("<a>").text(t.get("label")).append("ascending"===t.get("direction")?t.get("cell").prototype.className.indexOf("string")>=0?"&nbsp; <b class='fa fa-sort-alpha-asc'></b>":"&nbsp; <b class='fa fa-sort-numeric-asc'></b>":"descending"===t.get("direction")?t.get("cell").prototype.className.indexOf("string")>=0?"&nbsp; <b class='fa fa-sort-alpha-desc'></b>":"&nbsp; <b class='fa fa-sort-numeric-desc'></b>":" &nbsp; <b class=''></b>"):document.createTextNode(t.get("label")),this.$el.append(e),this.$el.addClass(t.get("name")),this.$el.addClass(t.get("direction")),this.delegateEvents(),this}}),O=(l.HeaderRow=l.Row.extend({requiredOptions:["columns","collection"],initialize:function(){l.Row.prototype.initialize.apply(this,arguments)},makeCell:function(e,t){var n=e.get("headerCell")||t.headerCell||D;return n=new n({column:e,collection:this.collection})}}),l.Header=n.View.extend({tagName:"thead",initialize:function(e){this.columns=e.columns,this.columns instanceof n.Collection||(this.columns=new M(this.columns)),this.row=new l.HeaderRow({columns:this.columns,collection:this.collection})},render:function(){return this.$el.append(this.row.render().$el),this.delegateEvents(),this},remove:function(){return this.row.remove.apply(this.row,arguments),n.View.prototype.remove.apply(this,arguments)}})),N=l.Body=n.View.extend({tagName:"tbody",initialize:function(e){this.columns=e.columns,this.columns instanceof n.Collection||(this.columns=new M(this.columns)),this.row=e.row||A,this.rows=this.collection.map(function(e){var t=new this.row({columns:this.columns,model:e});return t},this),this.emptyText=e.emptyText,this._unshiftEmptyRowMayBe();var t=this.collection;this.listenTo(t,"add",this.insertRow),this.listenTo(t,"remove",this.removeRow),this.listenTo(t,"sort",this.refresh),this.listenTo(t,"reset",this.refresh),this.listenTo(t,"backgrid:sort",this.sort),this.listenTo(t,"backgrid:edited",this.moveToNextCell)},_unshiftEmptyRowMayBe:function(){0===this.rows.length&&null!=this.emptyText&&this.rows.unshift(new I({emptyText:this.emptyText,columns:this.columns}))},insertRow:function(e,t,i){if(this.rows[0]instanceof I&&this.rows.pop().remove(),!(t instanceof n.Collection||i))return void this.collection.add(e,i=t);var o=new this.row({columns:this.columns,model:e}),r=t.indexOf(e);this.rows.splice(r,0,o);var s=this.$el,a=s.children(),l=o.render().$el;return r>=a.length?s.append(l):a.eq(r).before(l),this},removeRow:function(e,n,i){return i?((t.isUndefined(i.render)||i.render)&&this.rows[i.index].remove(),this.rows.splice(i.index,1),this._unshiftEmptyRowMayBe(),this):(this.collection.remove(e,i=n),void this._unshiftEmptyRowMayBe())},refresh:function(){for(var e=0;e<this.rows.length;e++)this.rows[e].remove();return this.rows=this.collection.map(function(e){var t=new this.row({columns:this.columns,model:e});return t},this),this._unshiftEmptyRowMayBe(),this.render(),this.collection.trigger("backgrid:refresh",this),this},render:function(){this.$el.empty();for(var e=document.createDocumentFragment(),t=0;t<this.rows.length;t++){var n=this.rows[t];e.appendChild(n.render().el)}return this.el.appendChild(e),this.delegateEvents(),this},remove:function(){for(var e=0;e<this.rows.length;e++){var t=this.rows[e];t.remove.apply(t,arguments)}return n.View.prototype.remove.apply(this,arguments)},sort:function(e,i){if(!t.contains(["ascending","descending",null],i))throw new RangeError('direction must be one of "ascending", "descending" or `null`');t.isString(e)&&(e=this.columns.findWhere({name:e}));var o,r=this.collection;o="ascending"===i?-1:"descending"===i?1:null;var s=this.makeComparator(e.get("name"),o,o?e.sortValue():function(e){return 1*e.cid.replace("c","")});return n.PageableCollection&&r instanceof n.PageableCollection?(r.setSorting(o&&e.get("name"),o,{sortValue:e.sortValue()}),r.fullCollection?(null==r.fullCollection.comparator&&(r.fullCollection.comparator=s),r.fullCollection.sort(),r.trigger("backgrid:sorted",e,i,r)):r.fetch({reset:!0,success:function(){r.trigger("backgrid:sorted",e,i,r)}})):(r.comparator=s,r.sort(),r.trigger("backgrid:sorted",e,i,r)),e.set("direction",i),this},makeComparator:function(e,t,n){return function(i,o){var r,s=n(i,e),a=n(o,e);return 1===t&&(r=s,s=a,a=r),s===a?0:a>s?-1:1}},moveToNextCell:function(e,t,n){var i,o,r,s,a,c=this.collection.indexOf(e),u=this.columns.indexOf(t);if(this.rows[c].cells[u].exitEditMode(),n.moveUp()||n.moveDown()||n.moveLeft()||n.moveRight()||n.save()){var d=this.columns.length,h=d*this.collection.length;if(n.moveUp()||n.moveDown()){s=c+(n.moveUp()?-1:1);var p=this.rows[s];p?(i=p.cells[u],l.callByNeed(i.column.editable(),i.column,e)&&(i.enterEditMode(),e.trigger("backgrid:next",s,u,!1))):e.trigger("backgrid:next",s,u,!0)}else if(n.moveLeft()||n.moveRight()){for(var f=n.moveRight(),m=c*d+u+(f?1:-1);m>=0&&h>m;f?m++:m--)if(s=~~(m/d),a=m-s*d,i=this.rows[s].cells[a],o=l.callByNeed(i.column.renderable(),i.column,i.model),r=l.callByNeed(i.column.editable(),i.column,e),o&&r){i.enterEditMode(),e.trigger("backgrid:next",s,a,!1);break}m==h&&e.trigger("backgrid:next",~~(m/d),m-s*d,!0)}}return this}});l.Footer=n.View.extend({tagName:"tfoot",initialize:function(e){this.columns=e.columns,this.columns instanceof n.Collection||(this.columns=new l.Columns(this.columns))}}),l.Grid=n.View.extend({tagName:"table",className:"backgrid",header:O,body:N,footer:null,initialize:function(e){e.columns instanceof n.Collection||(e.columns=new M(e.columns)),this.columns=e.columns;var i=t.omit(e,["el","id","attributes","className","tagName","events"]);this.body=e.body||this.body,this.body=new this.body(i),this.header=e.header||this.header,this.header&&(this.header=new this.header(i)),this.footer=e.footer||this.footer,this.footer&&(this.footer=new this.footer(i)),this.listenTo(this.columns,"reset",function(){this.header&&(this.header=new(this.header.remove().constructor)(i)),this.body=new(this.body.remove().constructor)(i),this.footer&&(this.footer=new(this.footer.remove().constructor)(i)),this.render()})},insertRow:function(){return this.body.insertRow.apply(this.body,arguments),this},removeRow:function(){return this.body.removeRow.apply(this.body,arguments),this},insertColumn:function(){return this.columns.add.apply(this.columns,arguments),this},removeColumn:function(){return this.columns.remove.apply(this.columns,arguments),this},sort:function(){return this.body.sort.apply(this.body,arguments),this},render:function(){return this.$el.empty(),this.header&&this.$el.append(this.header.render().$el),this.footer&&this.$el.append(this.footer.render().$el),this.$el.append(this.body.render().$el),this.delegateEvents(),this.trigger("backgrid:rendered",this),this},remove:function(){return this.header&&this.header.remove.apply(this.header,arguments),this.body.remove.apply(this.body,arguments),this.footer&&this.footer.remove.apply(this.footer,arguments),n.View.prototype.remove.apply(this,arguments)}})}return l}),e.Backgrid=Backgrid}.apply(e,arguments)})}(this),function(e){define("backboneSelectAll",["backgrid"],function(){return function(){!function(e,t){"object"==typeof exports?module.exports=t(require("backbone"),require("backgrid")):t(e.Backbone,e.Backgrid)}(this,function(e,t){var n=t.Extension.SelectRowCell=e.View.extend({className:"select-row-cell",tagName:"td",events:{"keydown input[type=checkbox]":"onKeydown","change input[type=checkbox]":"onChange","click input[type=checkbox]":"enterEditMode"},initialize:function(e){this.column=e.column,this.column instanceof t.Column||(this.column=new t.Column(this.column));var n=this.column,i=this.model,o=this.$el;this.listenTo(n,"change:renderable",function(e,t){o.toggleClass("renderable",t)}),t.callByNeed(n.renderable(),n,i)&&o.addClass("renderable"),this.listenTo(i,"backgrid:select",function(e,t){this.$el.find("input[type=checkbox]").prop("checked",t).change()})},enterEditMode:function(){this.$el.find("input[type=checkbox]").focus()},exitEditMode:function(){this.$el.find("input[type=checkbox]").blur()},onKeydown:function(e){var n=new t.Command(e);return n.passThru()?!0:void(n.cancel()?(e.stopPropagation(),this.$el.find("input[type=checkbox]").blur()):(n.save()||n.moveLeft()||n.moveRight()||n.moveUp()||n.moveDown())&&(e.preventDefault(),e.stopPropagation(),this.model.trigger("backgrid:edited",this.model,this.column,n)))},onChange:function(){var e=this.$el.find("input[type=checkbox]").prop("checked");this.$el.parent().toggleClass("selected",e),this.model.trigger("backgrid:selected",this.model,e)},render:function(){return this.$el.empty().append('<input tabindex="-1" type="checkbox" />'),this.delegateEvents(),this}}),i=t.Extension.SelectAllHeaderCell=n.extend({className:"select-all-header-cell",tagName:"th",initialize:function(e){this.column=e.column,this.column instanceof t.Column||(this.column=new t.Column(this.column));var n=this.collection,i=this.selectedModels={};this.listenTo(n.fullCollection||n,"backgrid:selected",function(e,t){t?i[e.id||e.cid]=1:(delete i[e.id||e.cid],this.$el.find("input[type=checkbox]").prop("checked",!1))}),this.listenTo(n.fullCollection||n,"remove",function(e){delete i[e.id||e.cid]}),this.listenTo(n,"backgrid:refresh",function(){for(var e=this.$el.find("input[type=checkbox]").prop("checked"),t=0;t<n.length;t++){var o=n.at(t);(e||i[o.id||o.cid])&&o.trigger("backgrid:select",o,!0)}});var o=this.column,r=this.$el;this.listenTo(o,"change:renderable",function(e,t){r.toggleClass("renderable",t)}),t.callByNeed(o.renderable(),o,n)&&r.addClass("renderable")},onChange:function(){var e=this.$el.find("input[type=checkbox]").prop("checked"),t=this.collection;t.each(function(t){t.trigger("backgrid:select",t,e)}),t.fullCollection&&t.fullCollection.each(function(n){t.get(n.cid)||n.trigger("backgrid:selected",n,e)}),this.collection.trigger("backgrid:select-all",this.collection,e)}});t.Grid.prototype.getSelectedModels=function(){for(var e,t=this.header.row.cells,n=0,o=t.length;o>n;n++){var r=t[n];if(r instanceof i){e=r;break}}var s=[];if(e){var a=e.selectedModels,l=this.collection.fullCollection||this.collection;for(var c in a)s.push(l.get(c))}return s},t.Grid.prototype.clearSelectedModels=function(){for(var e=this.getSelectedModels(),t=0,n=e.length;n>t;t++){var i=e[t];i.trigger("backgrid:select",i,!1)}}})}.apply(e,arguments)})}(this),define("adapters/backbone-adapter",["backbone","backbonePageable","utilities/utils","backboneSelectAll"],function(e,t,n){return e.PageableCollection=t,defaultSync=e.sync,Backbone.Model.prototype._save=Backbone.Model.prototype.save,Backbone.Model.prototype.save=function(e){if(!this.isNew()||!this.request||4===this.request.readyState)return this.request=Backbone.Model.prototype._save.apply(this,arguments),this.request;var t=this,n=arguments;_.isEmpty(e)&&(e=this.toJSON()),$.when(this.request).always(function(){Backbone.Model.prototype._save.apply(t,n)})},e.sync=function(e,t,i){var o=i.success,r=i.error;return n.NProgress.start(!0),i.success=function(e,t,n){o(e,t,n)},i.error=function(e,t,i){r(e,t,i),n.handleError(e,t,i),n.NProgress.done(!1,!0)},i.complete=function(){n.NProgress.done(!1,!0)},defaultSync(e,t,i)},e}),function(e,t){if("function"==typeof define&&define.amd)define("marionette",["backbone","underscore"],function(n,i){return e.Marionette=t(e,n,i)});else if("undefined"!=typeof exports){var n=require("backbone"),i=require("underscore");module.exports=t(e,n,i)}else e.Marionette=t(e,e.Backbone,e._)}(this,function(e,t,n){!function(e,t){var n=e.ChildViewContainer;return e.ChildViewContainer=function(e,t){var n=function(e){this._views={},this._indexByModel={},this._indexByCustom={},this._updateLength(),t.each(e,this.add,this)};t.extend(n.prototype,{add:function(e,t){var n=e.cid;return this._views[n]=e,e.model&&(this._indexByModel[e.model.cid]=n),t&&(this._indexByCustom[t]=n),this._updateLength(),this
},findByModel:function(e){return this.findByModelCid(e.cid)},findByModelCid:function(e){var t=this._indexByModel[e];return this.findByCid(t)},findByCustom:function(e){var t=this._indexByCustom[e];return this.findByCid(t)},findByIndex:function(e){return t.values(this._views)[e]},findByCid:function(e){return this._views[e]},remove:function(e){var n=e.cid;return e.model&&delete this._indexByModel[e.model.cid],t.any(this._indexByCustom,function(e,t){return e===n?(delete this._indexByCustom[t],!0):void 0},this),delete this._views[n],this._updateLength(),this},call:function(e){this.apply(e,t.tail(arguments))},apply:function(e,n){t.each(this._views,function(i){t.isFunction(i[e])&&i[e].apply(i,n||[])})},_updateLength:function(){this.length=t.size(this._views)}});var i=["forEach","each","map","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","toArray","first","initial","rest","last","without","isEmpty","pluck"];return t.each(i,function(e){n.prototype[e]=function(){var n=t.values(this._views),i=[n].concat(t.toArray(arguments));return t[e].apply(t,i)}}),n}(e,t),e.ChildViewContainer.VERSION="0.1.4",e.ChildViewContainer.noConflict=function(){return e.ChildViewContainer=n,this},e.ChildViewContainer}(t,n),function(e,t){var n=e.Wreqr,i=e.Wreqr={};return e.Wreqr.VERSION="1.3.1",e.Wreqr.noConflict=function(){return e.Wreqr=n,this},i.Handlers=function(e,t){var n=function(e){this.options=e,this._wreqrHandlers={},t.isFunction(this.initialize)&&this.initialize(e)};return n.extend=e.Model.extend,t.extend(n.prototype,e.Events,{setHandlers:function(e){t.each(e,function(e,n){var i=null;t.isObject(e)&&!t.isFunction(e)&&(i=e.context,e=e.callback),this.setHandler(n,e,i)},this)},setHandler:function(e,t,n){var i={callback:t,context:n};this._wreqrHandlers[e]=i,this.trigger("handler:add",e,t,n)},hasHandler:function(e){return!!this._wreqrHandlers[e]},getHandler:function(e){var t=this._wreqrHandlers[e];if(t)return function(){var e=Array.prototype.slice.apply(arguments);return t.callback.apply(t.context,e)}},removeHandler:function(e){delete this._wreqrHandlers[e]},removeAllHandlers:function(){this._wreqrHandlers={}}}),n}(e,t),i.CommandStorage=function(){var n=function(e){this.options=e,this._commands={},t.isFunction(this.initialize)&&this.initialize(e)};return t.extend(n.prototype,e.Events,{getCommands:function(e){var t=this._commands[e];return t||(t={command:e,instances:[]},this._commands[e]=t),t},addCommand:function(e,t){var n=this.getCommands(e);n.instances.push(t)},clearCommands:function(e){var t=this.getCommands(e);t.instances=[]}}),n}(),i.Commands=function(e){return e.Handlers.extend({storageType:e.CommandStorage,constructor:function(t){this.options=t||{},this._initializeStorage(this.options),this.on("handler:add",this._executeCommands,this);var n=Array.prototype.slice.call(arguments);e.Handlers.prototype.constructor.apply(this,n)},execute:function(e,t){e=arguments[0],t=Array.prototype.slice.call(arguments,1),this.hasHandler(e)?this.getHandler(e).apply(this,t):this.storage.addCommand(e,t)},_executeCommands:function(e,n,i){var o=this.storage.getCommands(e);t.each(o.instances,function(e){n.apply(i,e)}),this.storage.clearCommands(e)},_initializeStorage:function(e){var n,i=e.storageType||this.storageType;n=t.isFunction(i)?new i:i,this.storage=n}})}(i),i.RequestResponse=function(e){return e.Handlers.extend({request:function(){var e=arguments[0],t=Array.prototype.slice.call(arguments,1);return this.hasHandler(e)?this.getHandler(e).apply(this,t):void 0}})}(i),i.EventAggregator=function(e,t){var n=function(){};return n.extend=e.Model.extend,t.extend(n.prototype,e.Events),n}(e,t),i.Channel=function(){var n=function(t){this.vent=new e.Wreqr.EventAggregator,this.reqres=new e.Wreqr.RequestResponse,this.commands=new e.Wreqr.Commands,this.channelName=t};return t.extend(n.prototype,{reset:function(){return this.vent.off(),this.vent.stopListening(),this.reqres.removeAllHandlers(),this.commands.removeAllHandlers(),this},connectEvents:function(e,t){return this._connect("vent",e,t),this},connectCommands:function(e,t){return this._connect("commands",e,t),this},connectRequests:function(e,t){return this._connect("reqres",e,t),this},_connect:function(e,n,i){if(n){i=i||this;var o="vent"===e?"on":"setHandler";t.each(n,function(n,r){this[e][o](r,t.bind(n,i))},this)}}}),n}(i),i.radio=function(e){var n=function(){this._channels={},this.vent={},this.commands={},this.reqres={},this._proxyMethods()};t.extend(n.prototype,{channel:function(e){if(!e)throw new Error("Channel must receive a name");return this._getChannel(e)},_getChannel:function(t){var n=this._channels[t];return n||(n=new e.Channel(t),this._channels[t]=n),n},_proxyMethods:function(){t.each(["vent","commands","reqres"],function(e){t.each(i[e],function(t){this[e][t]=o(this,e,t)},this)},this)}});var i={vent:["on","off","trigger","once","stopListening","listenTo","listenToOnce"],commands:["execute","setHandler","setHandlers","removeHandler","removeAllHandlers"],reqres:["request","setHandler","setHandlers","removeHandler","removeAllHandlers"]},o=function(e,t,n){return function(i){var o=e._getChannel(i)[t],r=Array.prototype.slice.call(arguments,1);return o[n].apply(o,r)}};return new n}(i),e.Wreqr}(t,n);var i=e.Marionette,o=t.Marionette={};o.VERSION="2.2.0",o.noConflict=function(){return e.Marionette=i,this},t.Marionette=o,o.Deferred=t.$.Deferred;var r=Array.prototype.slice;o.extend=t.Model.extend,o.getOption=function(e,t){if(e&&t){var n;return n=e.options&&void 0!==e.options[t]?e.options[t]:e[t]}},o.proxyGetOption=function(e){return o.getOption(this,e)},o.normalizeMethods=function(e){var t={};return n.each(e,function(e,i){n.isFunction(e)||(e=this[e]),e&&(t[i]=e)},this),t},o.normalizeUIString=function(e,t){return e.replace(/@ui\.[a-zA-Z_$0-9]*/g,function(e){return t[e.slice(4)]})},o.normalizeUIKeys=function(e,t){return"undefined"!=typeof e?(e=n.clone(e),n.each(n.keys(e),function(n){var i=o.normalizeUIString(n,t);i!==n&&(e[i]=e[n],delete e[n])}),e):void 0},o.normalizeUIValues=function(e,t){return"undefined"!=typeof e?(n.each(e,function(i,r){n.isString(i)&&(e[r]=o.normalizeUIString(i,t))}),e):void 0},o.actAsCollection=function(e,t){var i=["forEach","each","map","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","toArray","first","initial","rest","last","without","isEmpty","pluck"];n.each(i,function(i){e[i]=function(){var e=n.values(n.result(this,t)),o=[e].concat(n.toArray(arguments));return n[i].apply(n,o)}})},o.triggerMethod=function(e){function t(e,t,n){return n.toUpperCase()}var i,o=/(^|:)(\w)/gi,r="on"+e.replace(o,t),s=this[r];return n.isFunction(s)&&(i=s.apply(this,n.tail(arguments))),n.isFunction(this.trigger)&&this.trigger.apply(this,arguments),i},o.triggerMethodOn=function(e,t){var i,r=n.tail(arguments,2);return i=n.isFunction(e.triggerMethod)?e.triggerMethod:o.triggerMethod,i.apply(e,[t].concat(r))},o.MonitorDOMRefresh=function(e){function i(e){e._isShown=!0,r(e)}function o(e){e._isRendered=!0,r(e)}function r(e){e._isShown&&e._isRendered&&s(e)&&n.isFunction(e.triggerMethod)&&e.triggerMethod("dom:refresh")}function s(n){return t.$.contains(e,n.el)}return function(e){e.listenTo(e,"show",function(){i(e)}),e.listenTo(e,"render",function(){o(e)})}}(document.documentElement),function(e){function t(t,i,o,r){var s=r.split(/\s+/);n.each(s,function(n){var r=t[n];if(!r)throw new e.Error('Method "'+n+'" was configured as an event handler, but does not exist.');t.listenTo(i,o,r)})}function i(e,t,n,i){e.listenTo(t,n,i)}function o(e,t,i,o){var r=o.split(/\s+/);n.each(r,function(n){var o=e[n];e.stopListening(t,i,o)})}function r(e,t,n,i){e.stopListening(t,n,i)}function s(t,i,o,r,s){if(i&&o){if(!n.isFunction(o)&&!n.isObject(o))throw new e.Error({message:"Bindings must be an object or function.",url:"marionette.functions.html#marionettebindentityevents"});n.isFunction(o)&&(o=o.call(t)),n.each(o,function(e,o){n.isFunction(e)?r(t,i,o,e):s(t,i,o,e)})}}e.bindEntityEvents=function(e,n,o){s(e,n,o,i,t)},e.unbindEntityEvents=function(e,t,n){s(e,t,n,r,o)},e.proxyBindEntityEvents=function(t,n){return e.bindEntityEvents(this,t,n)},e.proxyUnbindEntityEvents=function(t,n){return e.unbindEntityEvents(this,t,n)}}(o);var s=["description","fileName","lineNumber","name","message","number"];return o.Error=o.extend.call(Error,{urlRoot:"http://marionettejs.com/docs/"+o.VERSION+"/",constructor:function(e,t){n.isObject(e)?(t=e,e=t.message):t||(t={});var i=Error.call(this,e);n.extend(this,n.pick(i,s),n.pick(t,s)),this.captureStackTrace(),t.url&&(this.url=this.urlRoot+t.url)},captureStackTrace:function(){Error.captureStackTrace&&Error.captureStackTrace(this,o.Error)},toString:function(){return this.name+": "+this.message+(this.url?" See: "+this.url:"")}}),o.Error.extend=o.extend,o.Callbacks=function(){this._deferred=o.Deferred(),this._callbacks=[]},n.extend(o.Callbacks.prototype,{add:function(e,t){var i=n.result(this._deferred,"promise");this._callbacks.push({cb:e,ctx:t}),i.then(function(n){t&&(n.context=t),e.call(n.context,n.options)})},run:function(e,t){this._deferred.resolve({options:e,context:t})},reset:function(){var e=this._callbacks;this._deferred=o.Deferred(),this._callbacks=[],n.each(e,function(e){this.add(e.cb,e.ctx)},this)}}),o.Controller=function(e){this.options=e||{},n.isFunction(this.initialize)&&this.initialize(this.options)},o.Controller.extend=o.extend,n.extend(o.Controller.prototype,t.Events,{destroy:function(){var e=r.call(arguments);return this.triggerMethod.apply(this,["before:destroy"].concat(e)),this.triggerMethod.apply(this,["destroy"].concat(e)),this.stopListening(),this.off(),this},triggerMethod:o.triggerMethod,getOption:o.proxyGetOption}),o.Object=function(e){this.options=n.extend({},n.result(this,"options"),e),this.initialize.apply(this,arguments)},o.Object.extend=o.extend,n.extend(o.Object.prototype,{initialize:function(){},destroy:function(){this.triggerMethod("before:destroy"),this.triggerMethod("destroy"),this.stopListening()},triggerMethod:o.triggerMethod,getOption:o.proxyGetOption,bindEntityEvents:o.proxyBindEntityEvents,unbindEntityEvents:o.proxyUnbindEntityEvents}),n.extend(o.Object.prototype,t.Events),o.Region=function(e){if(this.options=e||{},this.el=this.getOption("el"),this.el=this.el instanceof t.$?this.el[0]:this.el,!this.el)throw new o.Error({name:"NoElError",message:'An "el" must be specified for a region.'});if(this.$el=this.getEl(this.el),this.initialize){var n=r.apply(arguments);this.initialize.apply(this,n)}},n.extend(o.Region,{buildRegion:function(e,t){if(n.isString(e))return this._buildRegionFromSelector(e,t);if(e.selector||e.el||e.regionClass)return this._buildRegionFromObject(e,t);if(n.isFunction(e))return this._buildRegionFromRegionClass(e);throw new o.Error({message:"Improper region configuration type.",url:"marionette.region.html#region-configuration-types"})},_buildRegionFromSelector:function(e,t){return new t({el:e})},_buildRegionFromObject:function(e,i){var o=e.regionClass||i,r=n.omit(e,"selector","regionClass");e.selector&&!r.el&&(r.el=e.selector);var s=new o(r);return e.parentEl&&(s.getEl=function(i){if(n.isObject(i))return t.$(i);var o=e.parentEl;return n.isFunction(o)&&(o=o()),o.find(i)}),s},_buildRegionFromRegionClass:function(e){return new e}}),n.extend(o.Region.prototype,t.Events,{show:function(e,t){this._ensureElement();var i=t||{},r=e!==this.currentView,s=!!i.preventDestroy,a=!!i.forceShow,l=!!this.currentView,c=!s&&r,u=r||a;return l&&this.triggerMethod("before:swapOut",this.currentView),c&&this.empty(),u?(e.once("destroy",n.bind(this.empty,this)),e.render(),l&&this.triggerMethod("before:swap",e),this.triggerMethod("before:show",e),o.triggerMethodOn(e,"before:show"),l&&this.triggerMethod("swapOut",this.currentView),this.attachHtml(e),this.currentView=e,l&&this.triggerMethod("swap",e),this.triggerMethod("show",e),o.triggerMethodOn(e,"show"),this):this},_ensureElement:function(){if(n.isObject(this.el)||(this.$el=this.getEl(this.el),this.el=this.$el[0]),!this.$el||0===this.$el.length)throw new o.Error('An "el" '+this.$el.selector+" must exist in DOM")},getEl:function(e){return t.$(e)},attachHtml:function(e){this.el.innerHTML="",this.el.appendChild(e.el)},empty:function(){var e=this.currentView;if(e)return this.triggerMethod("before:empty",e),this._destroyView(),this.triggerMethod("empty",e),delete this.currentView,this},_destroyView:function(){var e=this.currentView;e.destroy&&!e.isDestroyed?e.destroy():e.remove&&e.remove()},attachView:function(e){return this.currentView=e,this},hasView:function(){return!!this.currentView},reset:function(){return this.empty(),this.$el&&(this.el=this.$el.selector),delete this.$el,this},getOption:o.proxyGetOption,triggerMethod:o.triggerMethod}),o.Region.extend=o.extend,o.RegionManager=function(e){var t=e.Controller.extend({constructor:function(t){this._regions={},e.Controller.call(this,t)},addRegions:function(e,t){n.isFunction(e)&&(e=e.apply(this,arguments));var i={};return n.each(e,function(e,o){n.isString(e)&&(e={selector:e}),e.selector&&(e=n.defaults({},e,t));var r=this.addRegion(o,e);i[o]=r},this),i},addRegion:function(t,n){var i;return i=n instanceof e.Region?n:e.Region.buildRegion(n,e.Region),this.triggerMethod("before:add:region",t,i),this._store(t,i),this.triggerMethod("add:region",t,i),i},get:function(e){return this._regions[e]},getRegions:function(){return n.clone(this._regions)},removeRegion:function(e){var t=this._regions[e];return this._remove(e,t),t},removeRegions:function(){var e=this.getRegions();return n.each(this._regions,function(e,t){this._remove(t,e)},this),e},emptyRegions:function(){var e=this.getRegions();return n.each(e,function(e){e.empty()},this),e},destroy:function(){return this.removeRegions(),e.Controller.prototype.destroy.apply(this,arguments)},_store:function(e,t){this._regions[e]=t,this._setLength()},_remove:function(e,t){this.triggerMethod("before:remove:region",e,t),t.empty(),t.stopListening(),delete this._regions[e],this._setLength(),this.triggerMethod("remove:region",e,t)},_setLength:function(){this.length=n.size(this._regions)}});return e.actAsCollection(t.prototype,"_regions"),t}(o),o.TemplateCache=function(e){this.templateId=e},n.extend(o.TemplateCache,{templateCaches:{},get:function(e){var t=this.templateCaches[e];return t||(t=new o.TemplateCache(e),this.templateCaches[e]=t),t.load()},clear:function(){var e,t=r.call(arguments),n=t.length;if(n>0)for(e=0;n>e;e++)delete this.templateCaches[t[e]];else this.templateCaches={}}}),n.extend(o.TemplateCache.prototype,{load:function(){if(this.compiledTemplate)return this.compiledTemplate;var e=this.loadTemplate(this.templateId);return this.compiledTemplate=this.compileTemplate(e),this.compiledTemplate},loadTemplate:function(e){var n=t.$(e).html();if(!n||0===n.length)throw new o.Error({name:"NoTemplateError",message:'Could not find template: "'+e+'"'});return n},compileTemplate:function(e){return n.template(e)}}),o.Renderer={render:function(e,t){if(!e)throw new o.Error({name:"TemplateNotFoundError",message:"Cannot render the template since its false, null or undefined."});var n;return(n="function"==typeof e?e:o.TemplateCache.get(e))(t)}},o.View=t.View.extend({constructor:function(e){n.bindAll(this,"render"),this.options=n.extend({},n.result(this,"options"),n.isFunction(e)?e.call(this):e),this._behaviors=o.Behaviors(this),t.View.apply(this,arguments),o.MonitorDOMRefresh(this),this.listenTo(this,"show",this.onShowCalled)},getTemplate:function(){return this.getOption("template")},serializeModel:function(e){return e.toJSON.apply(e,r.call(arguments,1))},mixinTemplateHelpers:function(e){e=e||{};var t=this.getOption("templateHelpers");return n.isFunction(t)&&(t=t.call(this)),n.extend(e,t)},normalizeUIKeys:function(e){var t=n.result(this,"ui"),i=n.result(this,"_uiBindings");return o.normalizeUIKeys(e,i||t)},normalizeUIValues:function(e){var t=n.result(this,"ui"),i=n.result(this,"_uiBindings");return o.normalizeUIValues(e,i||t)},configureTriggers:function(){if(this.triggers){var e={},t=this.normalizeUIKeys(n.result(this,"triggers"));return n.each(t,function(t,n){e[n]=this._buildViewTrigger(t)},this),e}},delegateEvents:function(e){return this._delegateDOMEvents(e),this.bindEntityEvents(this.model,this.getOption("modelEvents")),this.bindEntityEvents(this.collection,this.getOption("collectionEvents")),n.each(this._behaviors,function(e){e.bindEntityEvents(this.model,e.getOption("modelEvents")),e.bindEntityEvents(this.collection,e.getOption("collectionEvents"))},this),this},_delegateDOMEvents:function(e){var i=e||this.events;n.isFunction(i)&&(i=i.call(this)),i=this.normalizeUIKeys(i),n.isUndefined(e)&&(this.events=i);var o={},r=n.result(this,"behaviorEvents")||{},s=this.configureTriggers(),a=n.result(this,"behaviorTriggers")||{};n.extend(o,r,i,s,a),t.View.prototype.delegateEvents.call(this,o)},undelegateEvents:function(){var e=r.call(arguments);return t.View.prototype.undelegateEvents.apply(this,e),this.unbindEntityEvents(this.model,this.getOption("modelEvents")),this.unbindEntityEvents(this.collection,this.getOption("collectionEvents")),n.each(this._behaviors,function(e){e.unbindEntityEvents(this.model,e.getOption("modelEvents")),e.unbindEntityEvents(this.collection,e.getOption("collectionEvents"))},this),this},onShowCalled:function(){},_ensureViewIsIntact:function(){if(this.isDestroyed)throw new o.Error({name:"ViewDestroyedError",message:'View (cid: "'+this.cid+'") has already been destroyed and cannot be used.'})},destroy:function(){if(!this.isDestroyed){var e=r.call(arguments);return this.triggerMethod.apply(this,["before:destroy"].concat(e)),this.isDestroyed=!0,this.triggerMethod.apply(this,["destroy"].concat(e)),this.unbindUIElements(),this.remove(),n.invoke(this._behaviors,"destroy",e),this}},bindUIElements:function(){this._bindUIElements(),n.invoke(this._behaviors,this._bindUIElements)},_bindUIElements:function(){if(this.ui){this._uiBindings||(this._uiBindings=this.ui);var e=n.result(this,"_uiBindings");this.ui={},n.each(n.keys(e),function(t){var n=e[t];this.ui[t]=this.$(n)},this)}},unbindUIElements:function(){this._unbindUIElements(),n.invoke(this._behaviors,this._unbindUIElements)},_unbindUIElements:function(){this.ui&&this._uiBindings&&(n.each(this.ui,function(e,t){delete this.ui[t]},this),this.ui=this._uiBindings,delete this._uiBindings)},_buildViewTrigger:function(e){var t=n.isObject(e),i=n.defaults({},t?e:{},{preventDefault:!0,stopPropagation:!0}),o=t?i.event:e;return function(e){e&&(e.preventDefault&&i.preventDefault&&e.preventDefault(),e.stopPropagation&&i.stopPropagation&&e.stopPropagation());var t={view:this,model:this.model,collection:this.collection};this.triggerMethod(o,t)}},setElement:function(){var e=t.View.prototype.setElement.apply(this,arguments);return n.invoke(this._behaviors,"proxyViewProperties",this),e},triggerMethod:function(){var e=arguments,t=o.triggerMethod,i=t.apply(this,e);return n.each(this._behaviors,function(n){t.apply(n,e)}),i},normalizeMethods:o.normalizeMethods,getOption:o.proxyGetOption,bindEntityEvents:o.proxyBindEntityEvents,unbindEntityEvents:o.proxyUnbindEntityEvents}),o.ItemView=o.View.extend({constructor:function(){o.View.apply(this,arguments)},serializeData:function(){var e={};return this.model?e=n.partial(this.serializeModel,this.model).apply(this,arguments):this.collection&&(e={items:n.partial(this.serializeCollection,this.collection).apply(this,arguments)}),e},serializeCollection:function(e){return e.toJSON.apply(e,r.call(arguments,1))},render:function(){return this._ensureViewIsIntact(),this.triggerMethod("before:render",this),this._renderTemplate(),this.bindUIElements(),this.triggerMethod("render",this),this},_renderTemplate:function(){var e=this.getTemplate();if(e!==!1){if(!e)throw new o.Error({name:"UndefinedTemplateError",message:"Cannot render the template since it is null or undefined."});var t=this.serializeData();t=this.mixinTemplateHelpers(t);var n=o.Renderer.render(e,t,this);return this.attachElContent(n),this}},attachElContent:function(e){return this.$el.html(e),this},destroy:function(){return this.isDestroyed?void 0:o.View.prototype.destroy.apply(this,arguments)}}),o.CollectionView=o.View.extend({childViewEventPrefix:"childview",constructor:function(e){var i=e||{};if(this.sort=n.isUndefined(i.sort)?!0:i.sort,i.collection&&!(i.collection instanceof t.Collection))throw new o.Error("The Collection option passed to this view needs to be an instance of a Backbone.Collection");this.once("render",this._initialEvents),this._initChildViewStorage(),o.View.apply(this,arguments),this.initRenderBuffer()},initRenderBuffer:function(){this.elBuffer=document.createDocumentFragment(),this._bufferedChildren=[]},startBuffering:function(){this.initRenderBuffer(),this.isBuffering=!0},endBuffering:function(){this.isBuffering=!1,this._triggerBeforeShowBufferedChildren(),this.attachBuffer(this,this.elBuffer),this._triggerShowBufferedChildren(),this.initRenderBuffer()},_triggerBeforeShowBufferedChildren:function(){this._isShown&&n.each(this._bufferedChildren,n.partial(this._triggerMethodOnChild,"before:show"))},_triggerShowBufferedChildren:function(){this._isShown&&(n.each(this._bufferedChildren,n.partial(this._triggerMethodOnChild,"show")),this._bufferedChildren=[])},_triggerMethodOnChild:function(e,t){o.triggerMethodOn(t,e)},_initialEvents:function(){this.collection&&(this.listenTo(this.collection,"add",this._onCollectionAdd),this.listenTo(this.collection,"remove",this._onCollectionRemove),this.listenTo(this.collection,"reset",this.render),this.sort&&this.listenTo(this.collection,"sort",this._sortViews))},_onCollectionAdd:function(e){this.destroyEmptyView();var t=this.getChildView(e),n=this.collection.indexOf(e);this.addChild(e,t,n)},_onCollectionRemove:function(e){var t=this.children.findByModel(e);this.removeChildView(t),this.checkEmpty()},onShowCalled:function(){this.children.each(n.partial(this._triggerMethodOnChild,"show"))},render:function(){return this._ensureViewIsIntact(),this.triggerMethod("before:render",this),this._renderChildren(),this.triggerMethod("render",this),this},resortView:function(){this.render()},_sortViews:function(){var e=this.collection.find(function(e,t){var n=this.children.findByModel(e);return!n||n._index!==t},this);e&&this.resortView()},_renderChildren:function(){this.destroyEmptyView(),this.destroyChildren(),this.isEmpty(this.collection)?this.showEmptyView():(this.triggerMethod("before:render:collection",this),this.startBuffering(),this.showCollection(),this.endBuffering(),this.triggerMethod("render:collection",this))},showCollection:function(){var e;this.collection.each(function(t,n){e=this.getChildView(t),this.addChild(t,e,n)},this)},showEmptyView:function(){var e=this.getEmptyView();if(e&&!this._showingEmptyView){this.triggerMethod("before:render:empty"),this._showingEmptyView=!0;var n=new t.Model;this.addEmptyView(n,e),this.triggerMethod("render:empty")}},destroyEmptyView:function(){this._showingEmptyView&&(this.triggerMethod("before:remove:empty"),this.destroyChildren(),delete this._showingEmptyView,this.triggerMethod("remove:empty"))},getEmptyView:function(){return this.getOption("emptyView")},addEmptyView:function(e,t){var i=this.getOption("emptyViewOptions")||this.getOption("childViewOptions");n.isFunction(i)&&(i=i.call(this));var r=this.buildChildView(e,t,i);this.proxyChildEvents(r),this._isShown&&o.triggerMethodOn(r,"before:show"),this.children.add(r),this.renderChildView(r,-1),this._isShown&&o.triggerMethodOn(r,"show")},getChildView:function(){var e=this.getOption("childView");if(!e)throw new o.Error({name:"NoChildViewError",message:'A "childView" must be specified'});return e},addChild:function(e,t,i){var o=this.getOption("childViewOptions");n.isFunction(o)&&(o=o.call(this,e,i));var r=this.buildChildView(e,t,o);return this._updateIndices(r,!0,i),this._addChildView(r,i),r},_updateIndices:function(e,t,n){this.sort&&(t?(e._index=n,this.children.each(function(t){t._index>=e._index&&t._index++})):this.children.each(function(t){t._index>=e._index&&t._index--}))},_addChildView:function(e,t){this.proxyChildEvents(e),this.triggerMethod("before:add:child",e),this.children.add(e),this.renderChildView(e,t),this._isShown&&!this.isBuffering&&o.triggerMethodOn(e,"show"),this.triggerMethod("add:child",e)},renderChildView:function(e,t){return e.render(),this.attachHtml(this,e,t),e},buildChildView:function(e,t,i){var o=n.extend({model:e},i);return new t(o)},removeChildView:function(e){return e&&(this.triggerMethod("before:remove:child",e),e.destroy?e.destroy():e.remove&&e.remove(),this.stopListening(e),this.children.remove(e),this.triggerMethod("remove:child",e),this._updateIndices(e,!1)),e},isEmpty:function(){return!this.collection||0===this.collection.length},checkEmpty:function(){this.isEmpty(this.collection)&&this.showEmptyView()},attachBuffer:function(e,t){e.$el.append(t)},attachHtml:function(e,t,n){e.isBuffering?(e.elBuffer.appendChild(t.el),e._bufferedChildren.push(t)):e._insertBefore(t,n)||e._insertAfter(t)},_insertBefore:function(e,t){var n,i=this.sort&&t<this.children.length-1;return i&&(n=this.children.find(function(e){return e._index===t+1})),n?(n.$el.before(e.el),!0):!1},_insertAfter:function(e){this.$el.append(e.el)},_initChildViewStorage:function(){this.children=new t.ChildViewContainer},destroy:function(){return this.isDestroyed?void 0:(this.triggerMethod("before:destroy:collection"),this.destroyChildren(),this.triggerMethod("destroy:collection"),o.View.prototype.destroy.apply(this,arguments))},destroyChildren:function(){var e=this.children.map(n.identity);return this.children.each(this.removeChildView,this),this.checkEmpty(),e},proxyChildEvents:function(e){var t=this.getOption("childViewEventPrefix");this.listenTo(e,"all",function(){var i=r.call(arguments),o=i[0],s=this.normalizeMethods(n.result(this,"childEvents"));i[0]=t+":"+o,i.splice(1,0,e),"undefined"!=typeof s&&n.isFunction(s[o])&&s[o].apply(this,i.slice(1)),this.triggerMethod.apply(this,i)},this)}}),o.CompositeView=o.CollectionView.extend({constructor:function(){o.CollectionView.apply(this,arguments)},_initialEvents:function(){this.collection&&(this.listenTo(this.collection,"add",this._onCollectionAdd),this.listenTo(this.collection,"remove",this._onCollectionRemove),this.listenTo(this.collection,"reset",this._renderChildren),this.sort&&this.listenTo(this.collection,"sort",this._sortViews))},getChildView:function(){var e=this.getOption("childView")||this.constructor;if(!e)throw new o.Error({name:"NoChildViewError",message:'A "childView" must be specified'});return e},serializeData:function(){var e={};return this.model&&(e=n.partial(this.serializeModel,this.model).apply(this,arguments)),e},render:function(){return this._ensureViewIsIntact(),this.isRendered=!0,this.resetChildViewContainer(),this.triggerMethod("before:render",this),this._renderTemplate(),this._renderChildren(),this.triggerMethod("render",this),this},_renderChildren:function(){this.isRendered&&o.CollectionView.prototype._renderChildren.call(this)},_renderTemplate:function(){var e={};e=this.serializeData(),e=this.mixinTemplateHelpers(e),this.triggerMethod("before:render:template");var t=this.getTemplate(),n=o.Renderer.render(t,e,this);this.attachElContent(n),this.bindUIElements(),this.triggerMethod("render:template")},attachElContent:function(e){return this.$el.html(e),this},attachBuffer:function(e,t){var n=this.getChildViewContainer(e);n.append(t)},_insertAfter:function(e){var t=this.getChildViewContainer(this);t.append(e.el)},getChildViewContainer:function(e){if("$childViewContainer"in e)return e.$childViewContainer;var t,i=o.getOption(e,"childViewContainer");if(i){var r=n.isFunction(i)?i.call(e):i;if(t="@"===r.charAt(0)&&e.ui?e.ui[r.substr(4)]:e.$(r),t.length<=0)throw new o.Error({name:"ChildViewContainerMissingError",message:'The specified "childViewContainer" was not found: '+e.childViewContainer})}else t=e.$el;return e.$childViewContainer=t,t},resetChildViewContainer:function(){this.$childViewContainer&&delete this.$childViewContainer}}),o.LayoutView=o.ItemView.extend({regionClass:o.Region,constructor:function(e){e=e||{},this._firstRender=!0,this._initializeRegions(e),o.ItemView.call(this,e)},render:function(){return this._ensureViewIsIntact(),this._firstRender?this._firstRender=!1:this._reInitializeRegions(),o.ItemView.prototype.render.apply(this,arguments)},destroy:function(){return this.isDestroyed?this:(this.regionManager.destroy(),o.ItemView.prototype.destroy.apply(this,arguments))},addRegion:function(e,t){this.triggerMethod("before:region:add",e);var n={};return n[e]=t,this._buildRegions(n)[e]},addRegions:function(e){return this.regions=n.extend({},this.regions,e),this._buildRegions(e)},removeRegion:function(e){return this.triggerMethod("before:region:remove",e),delete this.regions[e],this.regionManager.removeRegion(e)},getRegion:function(e){return this.regionManager.get(e)},getRegions:function(){return this.regionManager.getRegions()},_buildRegions:function(e){var t=this,n={regionClass:this.getOption("regionClass"),parentEl:function(){return t.$el}};return this.regionManager.addRegions(e,n)},_initializeRegions:function(e){var t;this._initRegionManager(),t=n.isFunction(this.regions)?this.regions(e):this.regions||{};var i=this.getOption.call(e,"regions");n.isFunction(i)&&(i=i.call(this,e)),n.extend(t,i),t=this.normalizeUIValues(t),this.addRegions(t)},_reInitializeRegions:function(){this.regionManager.emptyRegions(),this.regionManager.each(function(e){e.reset()})},getRegionManager:function(){return new o.RegionManager},_initRegionManager:function(){this.regionManager=this.getRegionManager(),this.listenTo(this.regionManager,"before:add:region",function(e){this.triggerMethod("before:add:region",e)}),this.listenTo(this.regionManager,"add:region",function(e,t){this[e]=t,this.triggerMethod("add:region",e,t)}),this.listenTo(this.regionManager,"before:remove:region",function(e){this.triggerMethod("before:remove:region",e)}),this.listenTo(this.regionManager,"remove:region",function(e,t){delete this[e],this.triggerMethod("remove:region",e,t)})}}),o.Behavior=function(e,t){function n(t,n){this.view=n,this.defaults=e.result(this,"defaults")||{},this.options=e.extend({},this.defaults,t),this.$=function(){return this.view.$.apply(this.view,arguments)},this.initialize.apply(this,arguments)}return e.extend(n.prototype,t.Events,{initialize:function(){},destroy:function(){this.stopListening()},proxyViewProperties:function(e){this.$el=e.$el,this.el=e.el},triggerMethod:o.triggerMethod,getOption:o.proxyGetOption,bindEntityEvents:o.proxyBindEntityEvents,unbindEntityEvents:o.proxyUnbindEntityEvents}),n.extend=o.extend,n}(n,t),o.Behaviors=function(e,t){function n(e,i){return t.isObject(e.behaviors)?(i=n.parseBehaviors(e,i||t.result(e,"behaviors")),n.wrap(e,i,t.keys(o)),i):{}}function i(e,n){this._view=e,this._viewUI=t.result(e,"ui"),this._behaviors=n,this._triggers={}}var o={behaviorTriggers:function(e,t){var n=new i(this,t);return n.buildBehaviorTriggers()},behaviorEvents:function(n,i){var o={},r=t.result(this,"ui");return t.each(i,function(n,i){var s={},a=t.clone(t.result(n,"events"))||{},l=t.result(n,"ui"),c=t.extend({},r,l);a=e.normalizeUIKeys(a,c),t.each(t.keys(a),function(e){var o=new Array(i+2).join(" "),r=e+o,l=t.isFunction(a[e])?a[e]:n[a[e]];s[r]=t.bind(l,n)}),o=t.extend(o,s)}),o}};return t.extend(n,{behaviorsLookup:function(){throw new e.Error({message:"You must define where your behaviors are stored.",url:"marionette.behaviors.html#behaviorslookup"})},getBehaviorClass:function(e,i){return e.behaviorClass?e.behaviorClass:t.isFunction(n.behaviorsLookup)?n.behaviorsLookup.apply(this,arguments)[i]:n.behaviorsLookup[i]},parseBehaviors:function(e,i){return t.chain(i).map(function(i,o){var r=n.getBehaviorClass(i,o),s=new r(i,e),a=n.parseBehaviors(e,t.result(s,"behaviors"));return[s].concat(a)}).flatten().value()},wrap:function(e,n,i){t.each(i,function(i){e[i]=t.partial(o[i],e[i],n)})}}),t.extend(i.prototype,{buildBehaviorTriggers:function(){return t.each(this._behaviors,this._buildTriggerHandlersForBehavior,this),this._triggers
},_buildTriggerHandlersForBehavior:function(n,i){var o=t.extend({},this._viewUI,t.result(n,"ui")),r=t.clone(t.result(n,"triggers"))||{};r=e.normalizeUIKeys(r,o),t.each(r,t.partial(this._setHandlerForBehavior,n,i),this)},_setHandlerForBehavior:function(e,t,n,i){var o=i.replace(/^\S+/,function(e){return e+".behaviortriggers"+t});this._triggers[o]=this._view._buildViewTrigger(n)}}),n}(o,n),o.AppRouter=t.Router.extend({constructor:function(e){t.Router.apply(this,arguments),this.options=e||{};var n=this.getOption("appRoutes"),i=this._getController();this.processAppRoutes(i,n),this.on("route",this._processOnRoute,this)},appRoute:function(e,t){var n=this._getController();this._addAppRoute(n,e,t)},_processOnRoute:function(e,t){var i=n.invert(this.getOption("appRoutes"))[e];n.isFunction(this.onRoute)&&this.onRoute(e,i,t)},processAppRoutes:function(e,t){if(t){var i=n.keys(t).reverse();n.each(i,function(n){this._addAppRoute(e,n,t[n])},this)}},_getController:function(){return this.getOption("controller")},_addAppRoute:function(e,t,i){var r=e[i];if(!r)throw new o.Error('Method "'+i+'" was not found on the controller');this.route(t,i,n.bind(r,e))},getOption:o.proxyGetOption}),o.Application=function(e){this.options=e,this._initializeRegions(e),this._initCallbacks=new o.Callbacks,this.submodules={},n.extend(this,e),this._initChannel(),this.initialize.apply(this,arguments)},n.extend(o.Application.prototype,t.Events,{initialize:function(){},execute:function(){this.commands.execute.apply(this.commands,arguments)},request:function(){return this.reqres.request.apply(this.reqres,arguments)},addInitializer:function(e){this._initCallbacks.add(e)},start:function(e){this.triggerMethod("before:start",e),this._initCallbacks.run(e,this),this.triggerMethod("start",e)},addRegions:function(e){return this._regionManager.addRegions(e)},emptyRegions:function(){return this._regionManager.emptyRegions()},removeRegion:function(e){return this._regionManager.removeRegion(e)},getRegion:function(e){return this._regionManager.get(e)},getRegions:function(){return this._regionManager.getRegions()},module:function(e,t){var n=o.Module.getClass(t),i=r.call(arguments);return i.unshift(this),n.create.apply(n,i)},getRegionManager:function(){return new o.RegionManager},_initializeRegions:function(e){var t=n.isFunction(this.regions)?this.regions(e):this.regions||{};this._initRegionManager();var i=o.getOption(e,"regions");return n.isFunction(i)&&(i=i.call(this,e)),n.extend(t,i),this.addRegions(t),this},_initRegionManager:function(){this._regionManager=this.getRegionManager(),this.listenTo(this._regionManager,"before:add:region",function(e){this.triggerMethod("before:add:region",e)}),this.listenTo(this._regionManager,"add:region",function(e,t){this[e]=t,this.triggerMethod("add:region",e,t)}),this.listenTo(this._regionManager,"before:remove:region",function(e){this.triggerMethod("before:remove:region",e)}),this.listenTo(this._regionManager,"remove:region",function(e,t){delete this[e],this.triggerMethod("remove:region",e,t)})},_initChannel:function(){this.channelName=n.result(this,"channelName")||"global",this.channel=n.result(this,"channel")||t.Wreqr.radio.channel(this.channelName),this.vent=n.result(this,"vent")||this.channel.vent,this.commands=n.result(this,"commands")||this.channel.commands,this.reqres=n.result(this,"reqres")||this.channel.reqres},triggerMethod:o.triggerMethod,getOption:o.proxyGetOption}),o.Application.extend=o.extend,o.Module=function(e,t,i){this.moduleName=e,this.options=n.extend({},this.options,i),this.initialize=i.initialize||this.initialize,this.submodules={},this._setupInitializersAndFinalizers(),this.app=t,n.isFunction(this.initialize)&&this.initialize(e,t,this.options)},o.Module.extend=o.extend,n.extend(o.Module.prototype,t.Events,{startWithParent:!0,initialize:function(){},addInitializer:function(e){this._initializerCallbacks.add(e)},addFinalizer:function(e){this._finalizerCallbacks.add(e)},start:function(e){this._isInitialized||(n.each(this.submodules,function(t){t.startWithParent&&t.start(e)}),this.triggerMethod("before:start",e),this._initializerCallbacks.run(e,this),this._isInitialized=!0,this.triggerMethod("start",e))},stop:function(){this._isInitialized&&(this._isInitialized=!1,this.triggerMethod("before:stop"),n.each(this.submodules,function(e){e.stop()}),this._finalizerCallbacks.run(void 0,this),this._initializerCallbacks.reset(),this._finalizerCallbacks.reset(),this.triggerMethod("stop"))},addDefinition:function(e,t){this._runModuleDefinition(e,t)},_runModuleDefinition:function(e,i){if(e){var r=n.flatten([this,this.app,t,o,t.$,n,i]);e.apply(this,r)}},_setupInitializersAndFinalizers:function(){this._initializerCallbacks=new o.Callbacks,this._finalizerCallbacks=new o.Callbacks},triggerMethod:o.triggerMethod}),n.extend(o.Module,{create:function(e,t,i){var o=e,s=r.call(arguments);s.splice(0,3),t=t.split(".");var a=t.length,l=[];return l[a-1]=i,n.each(t,function(t,n){var r=o;o=this._getModule(r,t,e,i),this._addModuleDefinition(r,o,l[n],s)},this),o},_getModule:function(e,t,i,o){var r=n.extend({},o),s=this.getClass(o),a=e[t];return a||(a=new s(t,i,r),e[t]=a,e.submodules[t]=a),a},getClass:function(e){var t=o.Module;return e?e.prototype instanceof t?e:e.moduleClass||t:t},_addModuleDefinition:function(e,t,n,i){var o=this._getDefine(n),r=this._getStartWithParent(n,t);o&&t.addDefinition(o,i),this._addStartWithParent(e,t,r)},_getStartWithParent:function(e,t){var i;return n.isFunction(e)&&e.prototype instanceof o.Module?(i=t.constructor.prototype.startWithParent,n.isUndefined(i)?!0:i):n.isObject(e)?(i=e.startWithParent,n.isUndefined(i)?!0:i):!0},_getDefine:function(e){return!n.isFunction(e)||e.prototype instanceof o.Module?n.isObject(e)?e.define:null:e},_addStartWithParent:function(e,t,n){t.startWithParent=t.startWithParent&&n,t.startWithParent&&!t.startWithParentIsConfigured&&(t.startWithParentIsConfigured=!0,e.addInitializer(function(e){t.startWithParent&&t.start(e)}))}}),o}),define("AppScripts",["require","adapters/jquery-adapter"],function(e){var t=e("adapters/jquery-adapter"),n=function(){setTimeout(function(){var e=t("#loadInitialPanel");e.on("transitionend",function(){}),e.remove(),e.addClass("fadedOut")},200),t(window).scroll(function(){t(this).scrollTop()?t("#toTop").fadeIn(1e3):t("#toTop").fadeOut(1e3)}),t("#toTop").click(function(){t("html, body").animate({scrollTop:0},500)})},i=function(){function e(e){return e?"addClass":"removeClass"}t(document).on("input",".clearable",function(){t(this)[e(this.value)]("x")}).on("mousemove",".x",function(n){t(this)[e(this.offsetWidth-18<n.clientX-this.getBoundingClientRect().left)]("onX")}).on("touchstart click",".onX",function(e){e.preventDefault(),t(this).removeClass("x onX").val("").change()})};return{initialize:n,prepare:i}}),function(e){define("backbonePaginator",["backbone","backgrid","backbonePageable"],function(){return function(){!function(e){"object"==typeof exports?module.exports=e(require("underscore"),require("backbone"),require("backgrid"),require("backbone-pageable")):"undefined"!=typeof _&&"undefined"!=typeof Backbone&&"undefined"!=typeof Backgrid&&e(_,Backbone,Backgrid)}(function(e,t,n){var i=n.Extension.PageHandle=t.View.extend({tagName:"li",events:{"click a":"changePage"},title:e.template("Página {{ label }}"),isRewind:!1,isBack:!1,isForward:!1,isFastForward:!1,initialize:function(n){t.View.prototype.initialize.apply(this,arguments);var i=this.collection,o=i.state,r=o.currentPage,s=o.firstPage,a=o.lastPage;e.extend(this,e.pick(n,["isRewind","isBack","isForward","isFastForward"]));var l;this.isRewind?l=s:this.isBack?l=Math.max(s,r-1):this.isForward?l=Math.min(a,r+1):this.isFastForward?l=a:(l=+n.pageIndex,l=s?l+1:l),this.pageIndex=l,(this.isRewind||this.isBack)&&r==s||(this.isForward||this.isFastForward)&&r==a?this.$el.addClass("disabled"):this.isRewind||this.isBack||this.isForward||this.isFastForward||r!=l||this.$el.addClass("active"),this.label=(n.label||(s?l:l+1))+"";var c=n.title||this.title;this.title=e.isFunction(c)?c({label:this.label}):c},render:function(){this.$el.empty();var e=document.createElement("a");return e.href="#",this.title&&(e.title=this.title),e.innerHTML=this.label,this.el.appendChild(e),this.delegateEvents(),this},changePage:function(e){e.preventDefault();var t=this.$el;return t.hasClass("active")||t.hasClass("disabled")||this.collection.getPage(this.pageIndex),this}});n.Extension.Paginator=t.View.extend({className:"backgrid-paginator",windowSize:10,controls:{rewind:{label:"《",title:"First"},back:{label:"〈",title:"Previous"},forward:{label:"〉",title:"Next"},fastForward:{label:"》",title:"Last"}},pageHandle:i,goBackFirstOnSort:!0,initialize:function(e){this.controls=e.controls||this.controls,this.pageHandle=e.pageHandle||this.pageHandle,this.uiClassName=e.uiClassName,this.windowSize=e.windowSize||10;var t=this.collection;this.listenTo(t,"add",this.render),this.listenTo(t,"remove",this.render),this.listenTo(t,"reset",this.render),(e.goBackFirstOnSort||this.goBackFirstOnSort)&&t.fullCollection&&this.listenTo(t.fullCollection,"sort",function(){t.getFirstPage()})},_cloneState:function(e){var t={};return t.firstPage=e.firstPage,t.lastPage=e.lastPage,t.currentPage=e.currentPage,t.pageSize=e.pageSize,t.totalPages=e.totalPages,t.totalRecords=e.totalRecords,t},_calculateWindow:function(){var e=this.collection,t=this._cloneState(e.state);0==this.collection.size()&&(t.currentPage=1,t.lastPage=0,t.totalPages=null,t.totalRecords=null);var n=t.firstPage,i=+t.lastPage;i=Math.max(0,n?i-1:i);var o=Math.max(t.currentPage,t.firstPage);o=n?o-1:o;var r=Math.floor(o/this.windowSize)*this.windowSize,s=Math.min(i+1,r+this.windowSize);return[r,s]},makeHandles:function(){for(var t=[],n=this.collection,i=this._calculateWindow(),o=i[0],r=i[1],s=o;r>s;s++)t.push(new this.pageHandle({collection:n,pageIndex:s}));var a=this.controls;return e.each(["back","rewind","forward","fastForward"],function(e){var i=a[e];if(i){var o={collection:n,title:i.title,label:i.label};o["is"+e.slice(0,1).toUpperCase()+e.slice(1)]=!0;var r=new this.pageHandle(o);"rewind"==e||"back"==e?t.unshift(r):t.push(r)}},this),t},render:function(){if(this.$el.empty(),this.handles)for(var e=0,t=this.handles.length;t>e;e++)this.handles[e].remove();var n=this.handles=this.makeHandles(),i=document.createElement("ul");this.uiClassName&&(i.className=this.uiClassName);for(var e=0;e<n.length;e++)i.appendChild(n[e].render().el);return this.el.appendChild(i),this}})})}.apply(e,arguments)})}(this),function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("_"),require("jquery"),require("backbone"),require("backgrid")):"function"==typeof define&&define.amd?define("backgridColumnManager",["underscore","jquery","backbone","backgrid"],t):"object"==typeof exports?exports["Backgrid.Extension.ColumnManager"]=t(require("underscore"),require("jquery"),require("backbone"),require("backgrid")):e["Backgrid.Extension.ColumnManager"]=t(e.underscore,e.jquery,e.backbone,e.backgrid)}(this,function(e,t,n,i){return function(e){function t(i){if(n[i])return n[i].exports;var o=n[i]={exports:{},id:i,loaded:!1};return e[i].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){var i=n(1),o=n(2),r=n(3),s=n(4);s.Extension.ColumnManager=function(e,t,n){i.extend(this,r.Events);var o={initialColumnsVisible:null,trackSize:!0,trackOrder:!0,trackVisibility:!0,stateChecking:"strict",saveState:!1,saveStateKey:"",saveStateLocation:"localStorage",loadStateOnInit:!1};if(this.options=i.extend({},o,t),this.state=[],e instanceof s.Columns){this.columns=e,e.columnManager=this,this.addManagerToColumns();var a=this.options.loadStateOnInit?this.loadState():!1;if(n&&this.checkStateValidity(n)?this.setState(n,!0):a?this.setState(a,!0):(this.setInitialColumnVisibility(),this.setState(this.getStateFromColumns())),this.options.trackVisibility||this.options.trackSize||this.options.trackOrder){var l=""+(this.options.trackVisibility?"change:renderable ":"")+(this.options.trackSize?"resize ":"")+(this.options.trackOrder?"ordered":"");this.columns.on(l,i.bind(this.stateUpdateHandler,this))}}else console.error("Backgrid.ColumnManager: options.columns is not an instance of Backgrid.Columns")},s.Extension.ColumnManager.prototype.setInitialColumnVisibility=function(){var e=this,t=e.options.initialColumnsVisible;t&&e.columns.each(function(e,n){e.set("renderable",e.get("alwaysVisible")?!0:t>n)})},s.Extension.ColumnManager.prototype.addManagerToColumns=function(){var e=this;e.columns.each(function(t){t.get("headerCell")===s.Extension.ColumnManager.ColumnVisibilityHeaderCell&&t.set("headerCell",t.get("headerCell").extend({columnManager:e})),t.get("headerCell")instanceof s.Extension.ColumnManager.ColumnVisibilityHeaderCell&&(t.get("headerCell").columnManager=e)})},s.Extension.ColumnManager.prototype.getColumn=function(e){return(i.isNumber(e)||i.isString(e))&&(e=this.columns.get(e)),e instanceof s.Column?e:!1},s.Extension.ColumnManager.prototype.hideColumn=function(e){var t=this.getColumn(e);t&&t.set("renderable",!1)},s.Extension.ColumnManager.prototype.showColumn=function(e){var t=this.getColumn(e);t&&t.set("renderable",!0)},s.Extension.ColumnManager.prototype.toggleColumnVisibility=function(e){var t=this.getColumn(e);t&&(t.get("renderable")?this.hideColumn(t):this.showColumn(t))},s.Extension.ColumnManager.prototype.getColumnCollection=function(){return this.columns},s.Extension.ColumnManager.prototype.setState=function(e,t){var n=this;return i.filter(e,function(t){if(!i.has(t,"name"))return!1;var o=n.columns.findWhere({name:e.name});return"undefined"!=typeof o}),n.checkStateValidity(e)&&e!==n.state?(n.state=e,n.trigger("state-changed",e),t?n.applyStateToColumns():n.saveState()):!1},s.Extension.ColumnManager.prototype.getState=function(){return this.state},s.Extension.ColumnManager.prototype.checkStateValidity=function(e){function t(){return i.every(e,function(e){var t=!0;return i.has(e,"name")||(t=!1),i.has(e,"renderable")&&(i.isBoolean(e.renderable)||(t=!1)),i.has(e,"displayOrder")&&(i.isNumber(e.displayOrder)||(t=!1)),i.has(e,"width")&&(i.isNumber(e.width)||i.isString(e.width)||(t=!1)),t})}if(!i.isArray(e)&&i.isEmpty(e))return!1;if("loose"===this.options.stateChecking)return t();if(e.length!==this.columns.length&&!t())return!1;var n=this.columns.map(function(e){return e.get("name")}),o=i.map(e,function(e){return e.name});return n.sort().toString()===o.sort().toString()},s.Extension.ColumnManager.prototype.loadState=function(){var e=JSON.parse(this.getStorage().getItem(this.getStorageKey()));return this.checkStateValidity(e)?e:!1},s.Extension.ColumnManager.prototype.saveState=function(e){return this.options.saveState||e?(this.getStorage().setItem(this.getStorageKey(),JSON.stringify(this.state)),this.trigger("state-saved"),!0):!1},s.Extension.ColumnManager.prototype.getStorage=function(){return"undefined"!=typeof Storage?"sessionStorage"===this.options.saveStateLocation?sessionStorage:localStorage:(console.error("ColMrg: No storage support detected. State won't be saved."),!1)},s.Extension.ColumnManager.prototype.getStorageKey=function(){return this.options.saveStateKey?"backgrid-colmgr-"+this.options.saveStateKey:"backgrid-colmgr"},s.Extension.ColumnManager.prototype.stateUpdateHandler=function(){var e=this.getStateFromColumns();return this.setState(e)},s.Extension.ColumnManager.prototype.getStateFromColumns=function(){var e=this;return this.columns.map(function(t){var n={name:t.get("name")};return e.options.trackVisibility&&(n.renderable=t.get("renderable")),e.options.trackOrder&&(n.displayOrder=t.get("displayOrder")),e.options.trackSize&&(n.width=t.get("width")),n})},s.Extension.ColumnManager.prototype.applyStateToColumns=function(){var e=this,t=!1;i.each(this.state,function(n){var o=e.columns.findWhere({name:n.name});if(i.has(n,"renderable")&&o.set("renderable",n.renderable),i.has(n,"width")){var r=o.get("width");o.set("width",n.width,{silent:!0}),r!==n.width&&o.trigger("resize",o,n.width,r)}i.has(n,"displayOrder")&&(n.displayOrder!==o.get("displayOrder")&&(t=!0),o.set("displayOrder",n.displayOrder,{silent:!0}))}),t&&(e.columns.sort(),e.columns.trigger("ordered"))};var a=r.View.extend({className:"columnmanager-dropdown-item",tagName:"li",initialize:function(e){this.columnManager=e.columnManager,this.column=e.column,this.template=e.template,i.bindAll(this,"render","toggleVisibility"),this.column.on("change:renderable",this.render,this),this.el.addEventListener("click",this.toggleVisibility,!0)},render:function(){return this.$el.empty(),this.$el.append(this.template({label:this.column.get("label")})),this.column.get("renderable")?this.$el.addClass(this.column.get("renderable")?"visible":null):this.$el.removeClass("visible"),this},toggleVisibility:function(e){e&&this.stopPropagation(e),this.columnManager.toggleColumnVisibility(this.column)},stopPropagation:function(e){e.stopPropagation(),e.stopImmediatePropagation(),e.preventDefault()}}),l=r.View.extend({className:"columnmanager-dropdown-container",events:{mouseover:"onMouseOver",mouseout:"onMouseOut"},onMouseOver:function(){this.mouseOver=!0,this.mouseOut=!1},onMouseOut:function(){this.mouseOver=!1,this.mouseOut=!0},initialize:function(e){this.options=e,this.columnManager=e.columnManager,this.ItemView=e.DropdownItemView instanceof r.View?e.DropdownItemView:a,this.$dropdownButton=e.$dropdownButton,this.on("dropdown:opened",this.open,this),this.on("dropdown:closed",this.close,this),this.columnManager.columns.on("add remove",this.render,this)},render:function(){var e=this;return e.$el.empty(),this.columnManager.columns.each(function(t){t.get("alwaysVisible")||e.$el.append(new e.ItemView({column:t,columnManager:e.columnManager,template:e.options.dropdownItemTemplate}).render().el)}),this},open:function(){this.$el.addClass("open");var e,t=this.$dropdownButton;if("auto"===this.options.align){var n=document.body.clientWidth||document.body.clientWidth;e=t.offset().left+this.$el.outerWidth()>n?"left":"right"}else e="left"===this.options.align||"right"===this.options.align?"right"===this.options.align?"right":"left":"right";var i;"left"===e?(i=t.offset().left+t.outerWidth()-this.$el.outerWidth(),this.$el.css("left",i+"px")):(i=t.offset().left,this.$el.css("left",i+"px"));var o=t.offset().top+t.outerHeight();this.$el.css("top",o+"px")},close:function(){this.$el.removeClass("open")}});s.Extension.ColumnManagerVisibilityControl=r.View.extend({tagName:"div",defaultEvents:{click:"stopPropagation"},defaultOpts:{width:null,closeOnEsc:!0,closeOnClick:!1,openOnInit:!1,columnManager:null,buttonTemplate:i.template("<a javascript:void() class='' data-toggle='tooltip' data-placement='top' title='' data-original-title='Exibir/Ocultar colunas' ><i class='fa fa-columns' aria-hidden='true'></i></a>"),DropdownView:l,dropdownAlign:"auto",DropdownItemView:a,dropdownItemTemplate:i.template("<span class='indicator'></span><span class='column-label'>{{ label }}</span>")},initialize:function(e){this.options=i.extend({},this.defaultOpts,e),this.events=i.extend({},this.defaultEvents,this.events||{}),this.columnManager=e.columnManager,!this.columnManager instanceof s.Extension.ColumnManager&&console.error("Backgrid.ColumnManager: options.columns is not an instance of Backgrid.Columns"),i.bindAll(this,"deferClose","stopDeferClose","closeOnEsc","toggle","render"),document.body.addEventListener("click",this.deferClose,!0),this.el.addEventListener("click",this.stopDeferClose,!0),this.options.closeOnEsc&&document.body.addEventListener("keyup",this.closeOnEsc,!1),this.el.addEventListener("click",this.toggle,!1),this.setup(),this.view.on("dropdown:close",this.close,this),this.view.on("dropdown:open",this.open,this)},delayStart:function(){clearTimeout(this.closeTimeout),this.delayTimeout=setTimeout(this.open.bind(this),this.options.delay)},delayEnd:function(){clearTimeout(this.delayTimeout),this.closeTimeout=setTimeout(this.close.bind(this),300)},setup:function(){this.options.width&&this.$el.width(this.options.width+"px"),this.$dropdownButton=o(this.options.buttonTemplate());var e={columnManager:this.columnManager,DropdownItemView:this.options.DropdownItemView,dropdownItemTemplate:this.options.dropdownItemTemplate,align:this.options.dropdownAlign,$dropdownButton:this.$dropdownButton};this.view=this.options.DropdownView instanceof r.View?new this.options.DropdownView(e):new l(e)},render:function(){return this.$el.empty(),this.$el.append(this.$dropdownButton),this.view.render(),o(document.body).append(this.view.el),this.$el.find("a").tooltip&&this.$el.find("a").tooltip(),this},stopPropagation:function(e){e.stopPropagation(),e.stopImmediatePropagation(),e.preventDefault()},toggle:function(e){this.isOpen!==!0?this.open(e):(this.close(e),this.view.trigger("dropdown:closed"))},open:function(e){clearTimeout(this.closeTimeout),clearTimeout(this.deferCloseTimeout),e&&(e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),e.cancelBubble=!0),this.isOpen||(this.isOpen=!0,this.$el.addClass("open"),this.trigger("dropdown:opened"),this.view.trigger("dropdown:opened"))},close:function(){this.isOpen&&(this.isOpen=!1,this.$el.removeClass("open"),this.trigger("dropdown:closed"),this.options.closeOnClick&&this.view.trigger("dropdown:closed"))},closeOnEsc:function(e){27===e.which&&this.deferClose()},deferClose:function(){return this.view.mouseOver?!1:(this.view.trigger("dropdown:closed"),void(this.deferCloseTimeout=setTimeout(this.close.bind(this),0)))},stopDeferClose:function(){clearTimeout(this.deferCloseTimeout)},remove:function(){return document.body.removeEventListener("click",this.deferClose),this.el.removeEventListener("click",this.stopDeferClose),this.options.closeOnEsc&&document.body.removeEventListener("keyup",this.closeOnEsc),this.el.removeEventListener("click",this.toggle),o(this.view.el).remove(),r.View.prototype.remove.apply(this,arguments)}}),s.Extension.ColumnManager.ColumnVisibilityHeaderCell=s.HeaderCell.extend({initialize:function(){s.HeaderCell.prototype.initialize.apply(this,arguments),this.$el.addClass(this.column.get("name")),this.$el.addClass("header-cell-manage-tool")},render:function(){this.$el.empty();var e=this.colVisibilityControl=new s.Extension.ColumnManagerVisibilityControl({columnManager:this.columnManager});return this.$el.html(e.render().el),this.delegateEvents(),this},remove:function(){return this.colVisibilityControl.remove(),s.HeaderCell.__super__.remove.apply(this,arguments)}})},function(t){t.exports=e},function(e){e.exports=t},function(e){e.exports=n},function(e){e.exports=i}])}),define("adapters/backgrid-adapter",["backgrid","backbonePaginator","backgridColumnManager"],function(e){return e}),define("text",["module"],function(e){var t,n,i=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],o=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,r=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,s="undefined"!=typeof location&&location.href,a=s&&location.protocol&&location.protocol.replace(/\:/,""),l=s&&location.hostname,c=s&&(location.port||void 0),u=[],d=e.config&&e.config()||{};return t={version:"2.0.3",strip:function(e){if(e){e=e.replace(o,"");var t=e.match(r);t&&(e=t[1])}else e="";return e},jsEscape:function(e){return e.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")},createXhr:d.createXhr||function(){var e,t,n;if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;if("undefined"!=typeof ActiveXObject)for(t=0;3>t;t+=1){n=i[t];try{e=new ActiveXObject(n)}catch(o){}if(e){i=[n];break}}return e},parseName:function(e){var t=!1,n=e.indexOf("."),i=e.substring(0,n),o=e.substring(n+1,e.length);return n=o.indexOf("!"),-1!==n&&(t=o.substring(n+1,o.length),t="strip"===t,o=o.substring(0,n)),{moduleName:i,ext:o,strip:t}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(e,n,i,o){var r,s,a,l=t.xdRegExp.exec(e);return l?(r=l[2],s=l[3],s=s.split(":"),a=s[1],s=s[0],!(r&&r!==n||s&&s.toLowerCase()!==i.toLowerCase()||(a||s)&&a!==o)):!0},finishLoad:function(e,n,i,o){i=n?t.strip(i):i,d.isBuild&&(u[e]=i),o(i)},load:function(e,n,i,o){if(o.isBuild&&!o.inlineText)return void i();d.isBuild=o.isBuild;var r=t.parseName(e),u=r.moduleName+"."+r.ext,h=n.toUrl(u),p=d.useXhr||t.useXhr;!s||p(h,a,l,c)?t.get(h,function(n){t.finishLoad(e,r.strip,n,i)},function(e){i.error&&i.error(e)}):n([u],function(e){t.finishLoad(r.moduleName+"."+r.ext,r.strip,e,i)})},write:function(e,n,i){if(u.hasOwnProperty(n)){var o=t.jsEscape(u[n]);i.asModule(e+"!"+n,"define(function () { return '"+o+"';});\n")}},writeFile:function(e,n,i,o,r){var s=t.parseName(n),a=s.moduleName+"."+s.ext,l=i.toUrl(s.moduleName+"."+s.ext)+".js";t.load(a,i,function(){var n=function(e){return o(l,e)};n.asModule=function(e,t){return o.asModule(e,l,t)},t.write(e,a,n,r)},r)}},"node"===d.env||!d.env&&"undefined"!=typeof process&&process.versions&&process.versions.node?(n=require.nodeRequire("fs"),t.get=function(e,t){var i=n.readFileSync(e,"utf8");0===i.indexOf("﻿")&&(i=i.substring(1)),t(i)}):"xhr"===d.env||!d.env&&t.createXhr()?t.get=function(e,n,i){var o=t.createXhr();o.open("GET",e,!0),d.onXhr&&d.onXhr(o,e),o.onreadystatechange=function(){var t,r;4===o.readyState&&(t=o.status,t>399&&600>t?(r=new Error(e+" HTTP status: "+t),r.xhr=o,i(r)):n(o.responseText))},o.send(null)}:("rhino"===d.env||!d.env&&"undefined"!=typeof Packages&&"undefined"!=typeof java)&&(t.get=function(e,t){var n,i,o="utf-8",r=new java.io.File(e),s=java.lang.System.getProperty("line.separator"),a=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(r),o)),l="";try{for(n=new java.lang.StringBuffer,i=a.readLine(),i&&i.length()&&65279===i.charAt(0)&&(i=i.substring(1)),n.append(i);null!==(i=a.readLine());)n.append(s),n.append(i);l=String(n.toString())}finally{a.close()}t(l)}),t}),define("text!views/components/tpl/GridTemplate.html",[],function(){return'<div class="messages-grid"></div>\r\n<div class="table-responsive grid"></div>\r\n<div>\r\n	<div class="pull-left counter " style="text-align: left;"></div>\r\n	<div class="pull-right simple-pafination paginator " style="text-align: right;"></div>\r\n</div>'}),define("text!views/components/tpl/CounterTemplate.html",[],function(){return'<span class="loading-elements" style="display: none">\r\n	<span class="">\r\n		<i class="fa fa-spinner fa-pulse  fa-fw margin-bottom "></i>\r\n		Carregando...\r\n	</span>\r\n</span>\r\n<span class="has-no-elements"> Nenhum Registro. </span>\r\n<span class="has-elements">\r\n	Registros\r\n	<span class="initial-page">0</span>\r\n	a\r\n	<span class="final-page">0</span>\r\n	de\r\n	<span class="total-records">0</span>\r\n	. Exibindo até\r\n	<select class="combo-page-size" style="padding: 0 0 0 0; height: 20px">\r\n		<option value="10">10</option>\r\n		<option value="25">25</option>\r\n		<option value="50">50</option>\r\n		<option value="100">100</option>\r\n	</select>\r\n	por página.\r\n</span>\r\n'}),define("views/components/Combobox",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/backgrid-adapter","adapters/backbone-adapter","marionette","utilities/utils"],function(e){var t=e("adapters/underscore-adapter"),n=(e("adapters/jquery-adapter"),e("adapters/backgrid-adapter"),e("adapters/backbone-adapter")),i=(e("marionette"),e("utilities/utils"),n.Marionette.ItemView.extend({}),n.View.extend({initialize:function(e){var n=this;this.collectionLoaded=!1,this.collectionEntity=e.collectionEntity,this.values=e.values,this.comboVal=e.comboVal,this.comboId=e.comboId,this.$el.find("option").remove(),this.$el.append("<option value selected>       -- Selecione --      </option>"),this.setValue(e.initialValue),this.collectionEntity?(this.comboVal=e.comboVal,this.comboId=e.comboId,this.collection=new this.collectionEntity,this.collection.fetch({success:function(e,i){i&&t.isArray(i.items)?t.each(i.items,function(e){n.addModel(e)}):n.collection.each(function(e){n.addModel(e)}),n.setValue(n.modelValue),n.collectionLoaded=!0},error:function(e,t,i){console.error("Erro ao carregar combobox "+n.$el.attr("id"),e,t,i)}})):this.values?t.each(this.values,function(e){n.addModel(e)}):this.collection&&(this.comboVal=e.comboVal,this.comboId=e.comboId,this.collection.on("add",this.addModel,this),this.collection.each(function(e){n.addModel(e)}),n.setValue(n.modelValue))},addModel:function(e){this.$el.append("string"==typeof e?"<option value="+e+">"+e+"</option>":e.get?"<option value="+e.get(this.comboId)+">"+e.get(this.comboVal)+"</option>":"<option value="+e[this.comboId]+">"+e[this.comboVal]+"</option>")},getJsonValue:function(){var e=this.$el.val();return this.collection?e&&-1==e.indexOf("Selecione")?this.collection.get(e).toJSON():this.collectionLoaded?null:this.modelValue&&this.modelValue.get?this.modelValue.toJSON():this.modelValue:e?{id:e}:this.modelValue},getValue:function(){var e=this.$el.val();return this.collection?e&&-1==e.indexOf("Selecione")?this.collection.get(e):null:e&&-1==e.indexOf("Selecione")?e:null},getRawValue:function(){var e=this.getJsonValue();return e?e.id:null},setValue:function(e){this.modelValue=e,e&&(e.get?this.$el.val(e.get(this.comboId)):e[this.comboId]?this.$el.val(e[this.comboId]):"string"==typeof e&&this.$el.val(e))},clear:function(){this.$el&&this.$el.val(""),this.modelValue=null},filter:function(e,t){if(this.collectionLoaded){var n=this,i=this.collection.url;this._reset(),this.collection.url=t||i.replace("all","filter"),this.collection.fetch({success:function(){n.collection.each(function(e){n.addModel(e)}),n.setValue(n.modelValue),n.collectionLoaded=!0,n.collection.url=i},error:function(e,t,o){console.error("Erro ao carregar combobox "+n.$el.attr("id"),e,t,o),n.collection.url=i},data:e||{}})}},_reset:function(){this.collection&&this.collection.reset(),this.$el.find("option").remove(),this.$el.append("<option value selected>       -- Selecione --      </option>")},getRawValue:function(){var e=this.$el.val();return e&&-1==e.indexOf("Selecione")?e:null}}));return i}),define("views/components/RadioGroup",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/backgrid-adapter","adapters/backbone-adapter","marionette","utilities/utils"],function(e){var t=e("adapters/underscore-adapter"),n=e("adapters/jquery-adapter"),i=(e("adapters/backgrid-adapter"),e("adapters/backbone-adapter")),o=(e("marionette"),e("utilities/utils"),i.View.extend({initialize:function(e){this.container=e.container,this.radioboxes=this.container.find("input[type=radio]")},getValue:function(){var e=this,i=null;return t.each(e.radioboxes,function(e){var t=n(e);t.is(":checked")&&(i=t.val())}),i},setValue:function(e){var i=this;i.clear(),t.each(i.radioboxes,function(t){var i=n(t);e=""+e,i.val()==e&&i.prop("checked",!0)})},clear:function(){t.each(this.radioboxes,function(e){var t=n(e);t.prop("checked",!1)})}}));return o}),define("views/components/CheckGroup",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/backgrid-adapter","adapters/backbone-adapter","marionette","utilities/utils"],function(e){var t=e("adapters/underscore-adapter"),n=e("adapters/jquery-adapter"),i=(e("adapters/backgrid-adapter"),e("adapters/backbone-adapter")),o=(e("marionette"),e("utilities/utils"),i.View.extend({initialize:function(e){this.container=e.container,this.checkboxes=this.container.find("input[type=checkbox]")},getValue:function(){var e=this,i=[];return t.each(e.checkboxes,function(e){var t=n(e);t.is(":checked")&&i.push(t.val())}),i},setValue:function(e){var i=this;i.clear(),t.each(e,function(e){t.each(i.checkboxes,function(t){var i=n(t);i.val()==e&&i.prop("checked",!0)})})},clear:function(){t.each(this.checkboxes,function(e){var t=n(e);t.prop("checked",!1)})}}));return o}),define("views/components/Multiselect",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/backgrid-adapter","adapters/backbone-adapter","marionette","utilities/utils"],function(e){var t=e("adapters/underscore-adapter"),n=e("adapters/jquery-adapter"),i=(e("adapters/backgrid-adapter"),e("adapters/backbone-adapter")),o=(e("marionette"),e("utilities/utils"),i.Marionette.ItemView.extend({}),i.View.extend({initialize:function(e){var i=this;
this.collectionLoaded=!1,this.collectionEntity=e.collectionEntity,this.values=e.values,this.comboVal=e.comboVal,this.comboId=e.comboId,this.$el.find("option").remove(),this.setValue(e.initialValue),this.collectionEntity?(this.comboVal=e.comboVal,this.comboId=e.comboId,this.collection=new this.collectionEntity,this.collection.fetch({success:function(){i.collection.each(function(e){i.addModel(e)}),i.setValue(i.modelValues),i.collectionLoaded=!0,i.$el.chosen({no_results_text:"Nenhuma informação encontrada"}),i.$el.on("change",function(e){n(e.target)})},error:function(e,t,n){console.error("Erro ao carregar combobox "+i.$el.attr("id"),e,t,n)}})):this.values?t.each(this.values,function(e){i.addModel(e)}):this.collection&&(this.comboVal=e.comboVal,this.comboId=e.comboId,this.collection.on("add",this.addModel,this),this.collection.each(function(e){i.addModel(e)}),i.setValue(i.modelValues))},addModel:function(e){this.$el.append("string"==typeof e?"<option value="+e+">"+e+"</option>":e.get?"<option value="+e.get(this.comboId)+">"+e.get(this.comboVal)+"</option>":"<option value="+e[this.comboId]+">"+e[this.comboVal]+"</option>")},getJsonValue:function(){return this.getValue()},getValue:function(){var e=[],n=this.$el.val();return this.collection?(this.collection.each(function(i){t.contains(n,""+i.id)&&e.push(i.toJSON())}),e):null},setValue:function(e){var n=[];t.isArray(e)?t.each(e,function(e){n.push(""+e.id)}):e&&e.each(e,function(e){n.push(""+e.id)}),this.modelValues=e,this.$el.val(n).trigger("chosen:updated")},clear:function(){this.$el.val("").trigger("chosen:updated"),this.modelValues=null},filter:function(e,t){if(this.collectionLoaded){var n=this,i=this.collection.url;this._reset(),this.collection.url=t||i.replace("all","filterEqual"),this.collection.fetch({success:function(){n.collection.each(function(e){n.addModel(e)}),n.setValue(n.modelValues),n.collectionLoaded=!0,n.collection.url=i,n.$el.chosen({no_results_text:"Nenhuma informação encontrada"})},error:function(e,t,o){console.error("Erro ao carregar combobox "+n.$el.attr("id"),e,t,o),n.collection.url=i},data:e||{}})}},_reset:function(){this.collection&&this.collection.reset(),this.$el.find("option").remove(),this.$el.append("<option value selected>       -- Selecione --      </option>")},getRawValue:function(){var e=this.$el.val();return e&&-1==e.indexOf("Selecione")?e:null}}));return o}),define("views/components/Suggestbox",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/backgrid-adapter","adapters/backbone-adapter","marionette","utilities/utils"],function(e){var t=(e("adapters/underscore-adapter"),e("adapters/jquery-adapter"),e("adapters/backgrid-adapter"),e("adapters/backbone-adapter")),n=(e("marionette"),e("utilities/utils"),t.View.extend({getValue:function(){this.fieldVal},getJsonValue:function(){return this.fieldVal?this.fieldVal.toJSON():null},clear:function(){this.objSelectize.clear()},setParam:function(e){this.param=e},initialize:function(e){var t=this;if(this.fieldVal=null,void 0===e.collectionEntity||null===e.collectionEntity)throw new TypeError("ERROR creating AutoSearchBox [ You must define collectionEntity! ]");if(void 0===e.idAttribute||null===e.idAttribute)throw new TypeError("ERROR creating AutoSearchBox [ You must define idAttribute! ]");if(void 0===e.searchAttribute||null===e.searchAttribute)throw new TypeError("ERROR creating AutoSearchBox [ You must define searchAttribute! ]");this.collection=new e.collectionEntity,this.originalUrl=this.collection.url;var n={};this.selectize=this.$el.selectize({onChange:e.onChange,maxItems:1,load:function(i,o){if(n[e.searchAttribute]=i,t.param)for(var r in t.param)n[r]=t.param[r];return!i.length||i.length<3?o():(e.urlComplement&&(t.collection.url=t.originalUrl+"/"+e.urlComplement),void t.collection.fetch({success:function(e,t){o(t.items?t.items:t)},error:function(e,t,n){console.log(e,t,n)},data:n}))},valueField:e.idAttribute||"id",searchField:e.searchAttribute||"name",labelField:e.searchAttribute||"name",create:!1,render:{option:function(t){return'<div class="profile-activity clearfix">	<div>                               		<strong> '+t[e.idAttribute]+"</strong>      		"+t[e.searchAttribute]+"   	</div>                              </div>                                 "}},onItemAdd:function(n){var i;t.collection.each(function(t){t.get(e.idAttribute)+""===n&&(i=t)}),t.fieldVal=i}}),this.objSelectize=this.selectize[0]&&this.selectize[0].selectize}}));return n}),define("views/components/BooleanBadgeCell",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/backgrid-adapter","adapters/backbone-adapter","marionette","utilities/utils"],function(e){var t=(e("adapters/underscore-adapter"),e("adapters/jquery-adapter"),e("adapters/backgrid-adapter")),n=(e("adapters/backbone-adapter"),e("marionette"),e("utilities/utils"),t.Cell.extend({className:"text-center",render:function(){this.$el.empty();var e=this.model,t=e.get(this.column.get("name")),n=this.formatter.fromRaw(t,e);return n==t&&(n=this.formatText((t||"").toString())),this.$el.append(n),this.delegateEvents(),this},formatText:function(e){var t="label-default";return"TRUE"==e.toUpperCase()||"1"==e.toUpperCase()?(t="label-info",e="SIM"):(t="label-danger",e="NÃO"),"<div class='label label-table "+t+"'>"+e+"</div>"}}));return n}),define("text!views/components/tpl/InputAllUploadTemplate.html",[],function(){return'<div class="panel-body text-center">\r\n	<img height="128" style="cursor: pointer;" src=\'images/upload-file.png\' no-image-file=\'\' class="input-image jsetup-upload-image   mar-btm">\r\n	<div class="">\r\n		<p class="text-sm text-muted">Click para escolher um arquivo</p>\r\n		<a href="javascript:void(-1)" class="show-preview">\r\n			<i class="fa fa-2x fa-external-link" aria-hidden="true"></i>\r\n		</a>\r\n	</div>\r\n</div>\r\n<input type="file" name="files[]" style="display: none" class="input-upload-file" multiple="multiple">\r\n\r\n<div class="modal fade" id="dialogAttachment" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">\r\n	<div class="modal-dialog modal-lg">\r\n		<div class="modal-content">\r\n			<div class="modal-header">\r\n				<button type="button" class="close" data-dismiss="modal">\r\n					<i class="fa fa-times-circle-o fa-2x"></i>\r\n					<span class="sr-only">Close</span>\r\n				</button>\r\n				<h4 class="modal-title" id="myModalLabel"></h4>\r\n			</div>\r\n			<div class="modal-body" style="min-height: 300px">\r\n				<div class="row-fluid" style="min-height: 300px">\r\n					<iframe class="iframe-modal col-lg-12 col-md-12 col-sm-12" src="" style="min-height: 300px"></iframe>\r\n				</div>\r\n			</div>\r\n			<div class="modal-footer">\r\n				<button data-dismiss="modal" class="btn btn-default" type="button">Fechar</button>\r\n			</div>\r\n		</div>\r\n	</div>\r\n</div>\r\n'}),define("text!views/components/tpl/InputButtonUploadTemplate.html",[],function(){return'<input type="file" name="files[]" style="display: none" class="input-upload-file" multiple="multiple">\r\n<div class="profile-avatar" style="display: none">\r\n	<img height="120" style="cursor: pointer;" src=\'images/no_photo.jpg\' no-image-file=\'\' class="input-image ">\r\n</div>\r\n<div class="row pad-btm">\r\n	<div class="col-xs-7">\r\n		<!--Mail toolbar-->\r\n		<a href="javascript:void(-1)" class="btn btn-sm btn-default jsetup-upload-image">\r\n			<i class="fa fa-cloud-upload fa-2x icon-upload" aria-hidden="true"> Novo </i>\r\n		</a>\r\n	</div>\r\n</div>\r\n\r\n'}),define("text!views/components/tpl/InputUploadTemplate.html",[],function(){return'<div class="panel">\r\n	<div class="pad-all text-center ">\r\n		<img height="128" style="cursor: pointer;" src=\'images/upload-file.png\' no-image-file=\'\' class="input-image jsetup-upload-image  img-circl mar-btm">\r\n		<div class="btn-group btn-group-justified pad-top">\r\n			<a href="javascript:void(-1)" class="btn btn-icon bord-no  fa fa-external-link icon-lg show-preview "></a>\r\n			<a href="javascript:void(-1)" class="remove-preview btn btn-icon bord-no fa fa-2x fa-trash icon-lg" style="display: none"></a>\r\n		</div>\r\n	</div>\r\n</div>\r\n<input type="file" name="files[]" style="display: none" class="input-upload-file" multiple="multiple">\r\n<div class="modal fade"  tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">\r\n	<div class="modal-dialog modal-lg">\r\n		<div class="modal-content">\r\n			<div class="modal-header">\r\n				<button type="button" class="close" data-dismiss="modal">\r\n					<i class="fa fa-times-circle-o "></i>\r\n					<span class="sr-only">Fechar</span>\r\n				</button>\r\n				<h4 class="modal-title" id="myModalLabel"></h4>\r\n			</div>\r\n			<div class="modal-body" style="min-height: 300px">\r\n				<div class="row-fluid" style="min-height: 300px">\r\n					<div class="pad-all text-center ">\r\n						<img src=\'images/upload-file.png\' height="350" class="modal-image   mar-btm">\r\n					</div>\r\n				</div>\r\n			</div>\r\n			<div class="modal-footer">\r\n				<button data-dismiss="modal" class="btn btn-default" type="button">Fechar</button>\r\n			</div>\r\n		</div>\r\n	</div>\r\n</div>\r\n'}),define("views/components/JSetup",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/backbone-adapter","marionette","adapters/backgrid-adapter","utilities/utils","text!views/components/tpl/GridTemplate.html","text!views/components/tpl/CounterTemplate.html","views/components/Combobox","views/components/RadioGroup","views/components/CheckGroup","views/components/Multiselect","views/components/Suggestbox","views/components/BooleanBadgeCell","text!views/components/tpl/InputAllUploadTemplate.html","text!views/components/tpl/InputButtonUploadTemplate.html","text!views/components/tpl/InputUploadTemplate.html"],function(e){var t=e("adapters/underscore-adapter"),n=e("adapters/jquery-adapter"),i=e("adapters/backbone-adapter"),o=e("marionette"),r=e("adapters/backgrid-adapter"),s=e("utilities/utils"),a=e("text!views/components/tpl/GridTemplate.html"),l=e("text!views/components/tpl/CounterTemplate.html"),c=e("views/components/Combobox"),u=e("views/components/RadioGroup"),d=e("views/components/CheckGroup"),h=e("views/components/Multiselect"),p=e("views/components/Suggestbox"),f=e("views/components/BooleanBadgeCell"),m=window.STATE_COLLECTION_MAP||new Map;window.STATE_COLLECTION_MAP=m;var g=i.Model.extend({initialize:function(){},get:function(e){var n=i.Model.prototype.get.call(this,e);return t.isFunction(n)?n.call(this):n},toJSON:function(){var e={},n=i.Model.prototype.toJSON.call(this);return t.each(n,function(t,n){e[n]=this.get(n)},this),e}}),v=i.Collection.extend({filterEqual:function(e){var t=this,n=this.url,i=e.success,o=e.error;e.success=function(e,t,n){i&&i(e,t,n)},e.error=function(e,t,n){o&&o(e,t,n)},e.complete=function(){t.url=n},this.url=n.replace("all",""),this.fetch(e)},filterAlike:function(e){var t=this,n=this.url,i=e.success,o=e.error;e.success=function(e,t,n){i&&i(e,t,n)},e.error=function(e,t,n){o&&o(e,t,n)},e.complete=function(){t.url=n},this.url=n.replace("all","filterAlike"),this.fetch(e)}}),y=i.PageableCollection.extend({state:{firstPage:1,lastPage:null,currentPage:1,pageSize:10,totalPages:null,totalRecords:null,sortKey:null,order:-1},parseState:function(e,t,n){m.add({state:n,filterQueryParams:this.filterQueryParams},this.model.prototype.urlRoot);var n=i.PageableCollection.prototype.parseState.apply(this,arguments);return n},filterEqual:function(e){var t=this,n=this.url,i=e.success,o=e.error;e.success=function(e,t,n){i&&i(e,t,n)},e.error=function(e,t,n){o&&o(e,t,n)},e.complete=function(){t.url=n},e.data.exact=!0,this.fetch(e)},queryParams:{totalPages:null,pageSize:"pageSize",totalRecords:null,sortKey:"orderBy",order:"direction",directions:{"-1":"asc",1:"desc"}}}),b=o.ItemView.extend({className:"counter-component",template:t.template(l),events:{"change  .combo-page-size":"changePageSize"},ui:{outputInitialPage:".initial-page",noElementsSpan:".has-no-elements",elementsSpan:".has-elements",outputFinalPage:".final-page",outputTotalRecords:".total-records",inputComboPageSize:".combo-page-size",loadingElements:".loading-elements"},changePageSize:function(){var e=parseInt(this.ui.inputComboPageSize.val()||10);this.collection.state.pageSize=e,this.collection.getFirstPage()},initialize:function(){this.listenTo(this.collection,"add",this.atualiza),this.listenTo(this.collection,"remove",this.atualiza),this.listenTo(this.collection,"reset",this.atualiza),this.listenTo(this.collection,"request",this.startRequest),this.on("show",function(){this.ui.inputComboPageSize.val(this.collection.state.pageSize),this.atualiza()})},startRequest:function(){this.ui.noElementsSpan.hide(),this.ui.elementsSpan.hide(),this.ui.loadingElements.show()},atualiza:function(){this.ui.elementsSpan.hide();var e=this.collection.state;if(0==this.collection.size())this.ui.noElementsSpan.show(),this.ui.elementsSpan.hide(),this.ui.loadingElements.hide(),this.ui.outputInitialPage.text(0),this.ui.outputFinalPage.text(0),this.ui.outputTotalRecords.text(0);else if(this.collection&&this.collection instanceof i.PageableCollection){this.ui.loadingElements.hide(),this.ui.noElementsSpan.hide(),this.ui.elementsSpan.show();var t=(e.currentPage-1)*e.pageSize+1,n=e.currentPage*e.pageSize,o=e.totalRecords;n>o&&(n=o),this.ui.outputInitialPage.text(t),this.ui.outputFinalPage.text(n),this.ui.outputTotalRecords.text(o)}}}),w=o.LayoutView.extend({template:t.template(a),regions:{gridRegion:".grid",counterRegion:".counter",paginatorRegion:".paginator"},getFirstPage:function(e){this.collection.filterQueryParams=e.filterQueryParams,this.collection.getFirstPage(e)},recoveryLastQuery:function(e){var t=m.get(this.collection.model.prototype.urlRoot);t&&t.state&&(this.collection.state=t.state),this.collection.filterQueryParams=t&&t.filterQueryParams?t.filterQueryParams:e,this.collection.fetch()},initialize:function(e){var n=this;if(e.showCounter=t.isUndefined(e.showCounter)||e.showCounter,e.showPaginator=t.isUndefined(e.showPaginator)||e.showPaginator,e.showColManager=t.isUndefined(e.showColManager)||e.showColManager,!e.columns)throw new TypeError("Deve definir as colunas do grid");if(!e.collection)throw new TypeError("Deve definir a coleção do grid");this.onFetching=e.onFetching,this.onFetched=e.onFetched,this.context=e.view,this.collection=e.collection,this.onFetching&&this.collection.on("fetching",this.onFetching,this.context),this.onFetched&&this.collection.on("fetched",this.onFetched,this.context);var i=e.columns.length;i>0&&"acoes"===e.columns[i-1].name&&(e.columns[i-1].alwaysVisible=!0),t.each(e.columns,function(e){e.cell&&e.cell.__super__&&"custom-number-cel"==e.cell.__super__.className&&(e.headerCell=r.HeaderCell.extend({className:"custom-number-cel"}))});var o=new r.Columns(e.columns);if(e.showColManager){o.add({label:"ColumnManager_visibility_tool",cell:"string",alwaysVisible:!0,headerCell:r.Extension.ColumnManager.ColumnVisibilityHeaderCell});{var s=new r.Extension.ColumnManager(o,{initialColumnsVisible:6,saveState:!0,loadStateOnInit:!0});new r.Extension.ColumnManagerVisibilityControl({columnManager:s})}}this.grid=new r.Grid({row:e.row,className:e.className||e.gridClass||"table backgrid table-striped table-bordered table-hover dataTable no-footer  ",columns:o,emptyText:e.emptyText||"Sem registros",collection:e.collection}),e.showCounter&&(this.counter=new b({collection:e.collection})),e.showPaginator&&(this.paginator=new r.Extension.Paginator({columns:o,windowSize:e.paginatorWindowSize||10,collection:e.collection,className:" paging_simple_numbers",uiClassName:"pagination"})),this.on("show",function(){n.gridRegion.show(n.grid),e.showCounter?n.counterRegion.show(n.counter):(n.counterRegion.$el.remove(),window.counterR=n.counterRegion),e.showPaginator?n.paginatorRegion.show(n.paginator):n.paginatorRegion.$el.remove()})}}),x=r.InputCellEditor.extend({render:function(){var e=this.model;return this.$el.percent(),this.$el.val(e.get(this.column.get("name"))),this}}),C=r.Cell.extend({className:"custom-number-cel",type:"decimal",editor:x,render:function(){this.$el.empty();var e=this.model,n=null;if(this.column.get("name").indexOf(".")>0){var i=this.column.get("name").split(".");n=parseFloat(e.get(i[0])&&e.get(i[0])[i[1]])}else if(t.isObject(e.get(this.column.get("name"))))n=e.get(this.column.get("name"));else if(t.isNumber(e.get(this.column.get("name"))))n=e.get(this.column.get("name"));else{var o=e.get(this.column.get("name"))||"";n=parseFloat(o.replace(/\./g,"").replace(",",".")),e.set(this.column.get("name"),n)}var r="";return n&&("money"===this.type?(r=t.isObject(n)?this.formatter.fromRaw(n,e):this.formatter.fromRaw(s.formatNumeric(n,2),e),this.$el.text("R$ "+r)):"decimal"===this.type?(r=t.isObject(n)?this.formatter.fromRaw(n,e):this.formatter.fromRaw(s.formatNumeric(n,2),e),this.$el.text(r)):"integer"===this.type?(r=this.formatter.fromRaw(n,e),this.$el.text(r)):"percent"===this.type?(r=t.isObject(n)?this.formatter.fromRaw(n,e):this.formatter.fromRaw(s.formatNumeric(n,2),e),this.$el.text(r+" %")):(r=this.formatter.fromRaw(n,e),this.$el.text(r))),this.delegateEvents(),this}}),_=r.Cell.extend({buttons:[],className:"td-actions",editor:r.CellEditor,render:function(){var e=this;return this.$el.empty(),t.each(this.buttons,function(t){var n=[];t.type=t.type||"default",n.push("<a id='"+t.id+"' href='javascript:void(-1)' class='btn btn-xs button_cell btn-"+t.type+" "+t.customClass+"'  data-toggle='tooltip' data-placement='top' title='' data-original-title='"+t.hint+"' >"),n.push("	<i class='fa "+t.icon+" fa-lg'></i>"),n.push("</a>"),e.$el.append(n.join(" ")),e.events["click #"+t.id]=function(){t.onClick.call(e.context,e.model)}}),this.delegateEvents(),this.$el.ready(function(){e.$el.find("a").tooltip()}),this}}),k=r.Cell.extend({editor:r.CellEditor,className:"custom-string-cell",html:"<div> </div>",render:function(){this._template=t.template(this.html),this.$el.empty();var e=this.model;return this.$el.html(this._template(e&&e.toJSON())),this.delegateEvents(),this}}),S=r.Cell.extend({editor:r.CellEditor,className:"custom-string-cell",html:"<div> </div>",render:function(){this._template=t.template(this.html),this.$el.empty();var e=this.model,n=null;if(this.column.get("name").indexOf(".")>0){var i=this.column.get("name").split(".");n=e.get(i[0])&&e.get(i[0])[i[1]]}else n=e.get(this.column.get("name"));return n&&this.$el.html(this._template(n)),this.delegateEvents(),this}}),T=r.Cell.extend({className:"custom-string-cell",render:function(){this.$el.empty();var e=this.model,n=null;if(this.column.get("name").indexOf(".")>0){var i=this.column.get("name").split(".");2==i.length?n=e.get(i[0])&&e.get(i[0])[i[1]]:3==i.length&&(n=e.get(i[0])&&e.get(i[0])[i[1]]&&e.get(i[0])[i[1]][i[2]])}else n=e.get(this.column.get("name"));var o=t.isUndefined(n)||t.isNull(n)?"":n;return this.$el.text(this.formatter.fromRaw(o,e)),this.delegateEvents(),this}}),E=r.Cell.extend({editor:r.CellEditor,className:"general-string-cell",fieldName:"",render:function(){var e=this;if(this.$el.empty(),this.fieldName){var t=this.fieldName.split(".");t.length>1?this.model.get(t[0])&&e.$el.append(this.model.get(t[0])[t[1]]):e.$el.append(this.model.get(t[0]))}return this.delegateEvents(),this}}),P=r.Row.extend({className:"custom-row-click",render:function(){return P.__super__.render.apply(this,arguments),this.$el.data("model",this.model),this}}),M=o.LayoutView.extend({}),A=o.LayoutView.extend({templateHelpers:s,onShow:function(){n.validate({modules:"location, date, security, brazil",validateOnEvent:!0,inputParentClassOnSuccess:"",addValidClassOnAll:!0}),this.onShowView&&this.onShowView()},isValid:function(){return this.$el.isValid(null,{modules:"location, date, security, brazil",validateOnEvent:!0,inputParentClassOnSuccess:"",addValidClassOnAll:!0})},clearForm:function(){this.customClearForm&&this.customClearForm(),this.ui&&t.each(this.ui,function(e){e.attr("persist")||s.clear(e.attr("id"))});var e=n(".jsetup-upload-image");e.attr("src",e.attr("no-image-file"))}}),I=e("text!views/components/tpl/InputAllUploadTemplate.html"),D=o.ItemView.extend({template:t.template(I),events:{"change .input-upload-file":"sendFile","click 	.show-preview":"showPreview","click .input-image":"forceClickInputUploadFile"},ui:{imageView:".input-image",inputUploadFile:".input-upload-file",uploadImage:".jsetup-upload-image",modalView:".modal",iframe:".iframe-modal",form:"#formAttachment"},showPreview:function(){this.ui.iframe.attr("src",this.value.filePath),this.ui.modalView.modal("show")},forceClickInputUploadFile:function(){this.ui.inputUploadFile.trigger("click")},initialize:function(e){var t=this;if(this.onSuccess=e.onSuccess,this.onError=e.onError,this.noImage=e.noImage||"images/file.png",this.value={},this.bindElement=e.bindElement,!this.bindElement)throw new TypeError("Voce DEVE informar o elemento input que está associado ao upload: ex : #inputFoto1, .inputImagemUsuario");this.on("show",function(){t._getBindEl()&&t._getBindEl().val()?this.ui.imageView.attr("src",t._getBindEl().val()):this.ui.imageView.attr("src",t.noImage),t.noImage&&this.ui.imageView.attr("no-image-file",t.noImage)})},sendFile:function(){var e=this,n=this.ui.inputUploadFile.get(0);n&&t.each(n.files,function(t){e.uploadOneFile(t)})},uploadOneFile_lixo:function(e){var t=new FormData;t.append("file",e),n.ajax({dataType:"json",url:"rs/crud/uploads/file",data:t,type:"POST",enctype:"multipart/form-data",processData:!1,contentType:!1,success:function(){},error:function(){}})},uploadOneFile:function(e){var t=this,n=e.type;this.ui.imageView.attr("src","images/loading.gif");var i=new g;i.url="rs/crud/uploads/file";var o=new FormData;o.append("file",e),i.save({},{success:function(e,i,o){console.log(e,i,o),t.manageFile(n,i,o)},error:function(e,n,i){t.ui.imageView.attr("src","images/uploadfailed.jpg"),console.error(e,n,i),t.onError&&t.onError(n,i)},contentType:!1,parse:!1,processData:!1,data:o})},getValue:function(){return this.value},setPath:function(e){this.path=e},setType:function(e){this.type=e},manageFile:function(e,t,n){var i=this;i.value.filePath=t.dataUrl,i.value.fileType=e,"image/jpeg"===e||"image/png"===e?(i.ui.imageView.attr("src",t.dataUrl),i.bindElement&&i._getBindEl().val(t.dataUrl),i.onSuccess&&i.onSuccess(t,n)):"text/html"===e?(i.ui.imageView.attr("src","images/fileicons/html.png"),i.bindElement&&i._getBindEl().val("images/fileicons/html.png")):"text/plain"===e?(i.ui.imageView.attr("src","images/fileicons/txt.png"),i.bindElement&&i._getBindEl().val("images/fileicons/txt.png")):"application/pdf"===e&&(i.ui.imageView.attr("src","images/fileicons/pdf.png"),i.bindElement&&i._getBindEl().val("images/fileicons/pdf.png")),i.onSuccess&&i.onSuccess(t,n)},clear:function(){this.ui.uploadImage.attr("src",this.ui.uploadImage.attr("no-image-file"))},_getBindEl:function(){return this.bindElement?(this.bindElement instanceof jQuery||(this.bindElement=n(this.bindElement)),this.bindElement):null},bindValueEl:function(e){this._getBindEl.val(e.dataUrl)}}),O=e("text!views/components/tpl/InputButtonUploadTemplate.html"),N=o.ItemView.extend({template:t.template(O),events:{"change .input-upload-file":"sendFile","click .jsetup-upload-image":"forceClickInputUploadFile"},ui:{imageView:".input-image",iconUpload:".icon-upload",inputUploadFile:".input-upload-file",uploadImage:".jsetup-upload-image"},forceClickInputUploadFile:function(){this.ui.inputUploadFile.trigger("click")},initialize:function(e){var t=this;if(this.onSuccess=e.onSuccess,this.onError=e.onError,this.noImage=e.noImage||"images/no_photo.jpg",this.value={},this.bindElement=e.bindElement,!this.bindElement)throw new TypeError("Voce DEVE informar o elemento input que está associado ao upload: ex : #inputFoto1, .inputImagemUsuario");this.on("show",function(){t._getBindEl()&&t._getBindEl().val()?this.ui.imageView.attr("src",t._getBindEl().val()):this.ui.imageView.attr("src",t.noImage),t.noImage&&this.ui.imageView.attr("no-image-file",t.noImage)})},getValue:function(){return this.value},setPath:function(e){this.path=e},setType:function(e){this.type=e},sendFile:function(){var e=this,n=this.ui.inputUploadFile.get(0);n&&t.each(n.files,function(t){e.uploadOneFile(t)})},uploadOneFile:function(e){var t=this;this.ui.imageView.attr("src","images/loading.gif"),this.ui.iconUpload.addClass("");var n=new g;n.url="rs/crud/uploads/file";var i=new FormData;i.append("file",e),n.save({},{success:function(e,n,i){console.log(e,n,i),t.ui.imageView.attr("src",n.dataUrl),t.bindElement&&t._getBindEl().val(n.dataUrl),t.onSuccess&&t.onSuccess(n,i)},error:function(e,n,i){t.ui.imageView.attr("src","images/uploadfailed.jpg"),console.error(e,n,i),t.onError&&t.onError(n,i)},contentType:!1,parse:!1,processData:!1,data:i})},clear:function(){this.ui.uploadImage.attr("src",this.ui.uploadImage.attr("no-image-file"))},_getBindEl:function(){return this.bindElement?(this.bindElement instanceof jQuery||(this.bindElement=n(this.bindElement)),this.bindElement):null},bindValueEl:function(e){this._getBindEl.val(e.dataUrl)}}),R=e("text!views/components/tpl/InputUploadTemplate.html"),F=o.ItemView.extend({template:t.template(R),events:{"change .input-upload-file":"sendFile","click .input-image":"forceClickInputUploadFile","click  .remove-preview":"removeFile"},ui:{imageView:".input-image",uploadLabel:".upload-label",removePreview:".remove-preview",inputUploadFile:".input-upload-file",uploadImage:".jsetup-upload-image"},forceClickInputUploadFile:function(){this.ui.inputUploadFile.trigger("click")},initialize:function(e){var t=this;if(this.onSuccess=e.onSuccess,this.onError=e.onError,this.label=e.label,this.noImage=e.noImage||"images/no_photo.jpg",this.bindElement=e.bindElement,!this.bindElement)throw new TypeError("Voce DEVE informar o elemento input que está associado ao upload: ex : #inputFoto1, .inputImagemUsuario");this.on("show",function(){t._getBindEl()&&t._getBindEl().val()?(this.ui.imageView.attr("src",t._getBindEl().val()),this.ui.removePreview.show(),this.testImage(t._getBindEl().val())):this.ui.imageView.attr("src",t.noImage),t.noImage&&this.ui.imageView.attr("no-image-file",t.noImage),this.label&&this.ui.uploadLabel.text(this.label)})},testImage:function(e){var t=this,n=new Image;n.onerror=function(){t.clear()},n.src=e},sendFile:function(){var e=this,n=this.ui.inputUploadFile.get(0);n&&t.each(n.files,function(t){e.uploadOneFile(t)})},uploadOneFile_lixo:function(e){var t=new FormData;t.append("file",e),n.ajax({dataType:"json",url:"rs/crud/uploads/file",data:t,type:"POST",enctype:"multipart/form-data",processData:!1,contentType:!1,success:function(){},error:function(){}})},removeFile:function(){this.clear(),this._getBindEl().val(""),this.ui.removePreview.hide()},uploadOneFile:function(e){var t=this;this.ui.imageView.attr("src","images/loading.gif");var n=new g;n.url="rs/crud/uploads/file";var i=new FormData;i.append("file",e),n.save({},{success:function(e,n,i){console.log(e,n,i),t.ui.imageView.attr("src",n.dataUrl),t.ui.removePreview.show(),t.bindElement&&t._getBindEl().val(n.dataUrl),t.onSuccess&&t.onSuccess(n,i)},error:function(e,n,i){t.ui.imageView.attr("src","images/uploadfailed.jpg"),console.error(e,n,i),t.onError&&t.onError(n,i)},contentType:!1,parse:!1,processData:!1,data:i})},clear:function(){this.ui.uploadImage.attr("src",this.ui.uploadImage.attr("no-image-file")),this.ui.removePreview.hide()},_getBindEl:function(){return this.bindElement?(this.bindElement instanceof jQuery||(this.bindElement=n(this.bindElement)),this.bindElement):null},bindValueEl:function(e){this._getBindEl.val(e.dataUrl)}}),$={View:A,SimpleView:M,RowClick:P,Counter:b,Combobox:c,Multiselect:h,MoneyCell:C.extend({type:"money"}),DecimalCell:C.extend({type:"decimal"}),IntegerCell:C.extend({type:"integer"}),PercentCell:C.extend({type:"percent"}),CustomStringCell:T,EntityCell:E,TemplateCell:k,PartialTemplateCell:S,ActionCell:_,BooleanBadgeCell:f,DataTable:w,InputUpload:F,InputAllUpload:D,InputButtonUpload:N,Suggestbox:p,BaseModel:g,BaseCollection:v,BasePageableCollection:y,RadioGroup:u,CheckGroup:d,Grid:r.Grid};return $}),define("text!views/genre/tpl/PageGenreTemplate.html",[],function(){return'<!-- Genre´s page generated by JSetup v0.95 :  at 3 de jan de 2022 23:41:20  -->\r\n<div class="panel">\r\n	<div class="panel-heading">\r\n		<h3 class="panel-title">\r\n			<i class="fa fa-search"></i>\r\n			Pesquisa de Genre.\r\n		</h3>\r\n	</div>\r\n	<div class="panel-body">\r\n		<div id="messages_div"></div>\r\n		<form id="formGenreFilter">\r\n			<div class="widget-main ">\r\n				<div class="row">\r\n					<div class="col-xs-6">\r\n						<a href="#app/newGenre" class="btn btn-info">\r\n							<i class="fa fa-plus-circle"></i>\r\n							Novo Registro\r\n						</a>\r\n						&nbsp; \r\n						<a href="javascript:void(0)"  class="btn btn-default reset-button" >Limpar</a>\r\n					</div>\r\n					<div class="col-sm-6">\r\n						<div class="input-group">\r\n							<input id="inputName" type="text" class="clearable form-control search-query" placeholder="Pesquisar Genre por Name">\r\n							<span id="query" class="input-group-btn ">\r\n								<button type="button" class="btn btn-default search-button loading-button"  data-loading-text="<i class=\'fa fa-spinner fa-spin \'></i> Pesquisando...">\r\n									<span class="fa fa-search icon-on-right  "></span>\r\n									Pesquisar\r\n								</button>\r\n							</span>\r\n						</div>\r\n						<div>\r\n							<a href="javascript:void(-1)" class="show-advanced-search-button"> Pesquisa avançada... </a>\r\n						</div>\r\n					</div>\r\n				</div>\r\n				<div class="panel advanced-search-form">\r\n					<div class="panel-heading">\r\n						<h5 class="panel-title">Filtros avançados</h5>\r\n					</div>\r\n					<div class="panel-body">\r\n						<!-- inicio dos registros-->							\r\n						<div>\r\n							<button type="button" class="btn btn-info btn-sm search-button loading-button" data-loading-text="<i class=\'fa fa-spinner fa-spin \'></i> Pesquisando...">\r\n								<i class="fa fa-search"></i>\r\n								Pesquisar\r\n							</button>\r\n						</div>\r\n					</div>\r\n				</div>\r\n			</div>\r\n		</form>\r\n		<div class="center">\r\n			<div class="datatable-genre"></div>\r\n		</div>\r\n	</div>\r\n</div>\r\n'}),define("models/Genre",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/backbone-adapter","views/components/JSetup"],function(e){var t=(e("adapters/underscore-adapter"),e("adapters/jquery-adapter"),e("adapters/backbone-adapter"),e("views/components/JSetup")),n=t.BaseModel.extend({urlRoot:"rs/crud/genres",defaults:{id:null,name:"",movies:null}}),i=t.BaseCollection.extend({model:n,url:"rs/crud/genres"}),o=t.BasePageableCollection.extend({model:n,url:"rs/crud/genres",mode:"server"}),r=o.extend({mode:"client",state:{pageSize:10}});return{Model:n,Collection:i,PageCollection:o,PageClientCollection:r}}),define("views/genre/PageGenre",["require","utilities/utils","views/components/JSetup","text!views/genre/tpl/PageGenreTemplate.html","models/Genre"],function(e){var t=e("utilities/utils"),n=e("views/components/JSetup"),i=e("text!views/genre/tpl/PageGenreTemplate.html"),o=e("models/Genre"),r=n.View.extend({template:_.template(i),regions:{dataTableGenreRegion:".datatable-genre"},events:{"click 	.reset-button":"resetGenre",keypress:"treatKeypress","click 	.search-button":"searchGenre","click  .show-advanced-search-button":"toggleAdvancedForm"},ui:{loadButton:".loading-button",inputName:"#inputName",form:"#formGenreFilter",advancedSearchForm:".advanced-search-form"},initialize:function(){this.genres=new o.PageCollection,this.dataTableGenre=new n.DataTable({columns:this.getColumns(),collection:this.genres,onFetching:this.startFetch,onFetched:this.stopFetch,view:this})},onShowView:function(){this.dataTableGenreRegion.show(this.dataTableGenre),this.dataTableGenre.recoveryLastQuery()},searchGenre:function(){this.dataTableGenre.getFirstPage({success:function(){},error:function(){},filterQueryParams:{name:this.ui.inputName.escape()}})
},resetGenre:function(){this.ui.form.get(0).reset(),this.genres.reset()},getColumns:function(){var e=this,t=[{name:"name",sortable:!0,editable:!1,label:"Name",cell:n.CustomStringCell},{name:"acoes",label:"Ações(Editar, Deletar)",editable:!1,sortable:!1,cell:n.ActionCell.extend({buttons:e.getCellButtons(),context:e})}];return t},getCellButtons:function(){var e=this,t=[];return t.push({id:"edit_button",type:"primary",icon:"fa-pencil",customClass:"auth[edit-genre,disable]",hint:"Editar Genre",onClick:e.editModel},{id:"delete_button",type:"danger",customClass:"auth[delete-genre, disable]",icon:"fa-trash",hint:"Remover Genre",onClick:e.deleteModel}),t},deleteModel:function(e){var n=this,i=new o.Model({id:e.id});t.confirm({title:"Importante",text:"Tem certeza que deseja remover o registro [ "+e.get("id")+" ] ?",onConfirm:function(){i.destroy({success:function(){n.genres.remove(e),t.alert({title:"Concluido",text:"Registro removido com sucesso!"})}})}})},editModel:function(e){t.goPage("app/editGenre/"+e.get("id"))},toggleAdvancedForm:function(){this.ui.advancedSearchForm.slideToggle("slow")},treatKeypress:function(e){t.enterPressed(e)&&(e.preventDefault(),this.searchGenre())},startFetch:function(){t.loadButton(this.ui.loadButton)},stopFetch:function(){t.resetButton(this.ui.loadButton)}});return r}),define("text!views/genre/tpl/FormGenreTemplate.html",[],function(){return'<!-- Genre´s form generated by JSetup v0.95 :  at 3 de jan de 2022 23:41:20  -->\r\n<div class="panel">\r\n	<!--Panel heading-->\r\n	<div class="panel-heading">\r\n		<h3 class="panel-title">Cadastro de Genre</h3>\r\n	</div>\r\n	<!--Panel body-->\r\n	<div class="panel-body">\r\n		<div class="panel">\r\n			<div class="panel-body">\r\n				<div id="messages_div"></div>\r\n				<form role="form" id="formGenre">\r\n					<input type="hidden" id="inputId" value="{{id}}">\r\n					<div id="groupInputName" class="form-group   ">\r\n						<label class="control-label" for="inputName">Name  </label>\r\n						<input type="text"  id="inputName" placeholder=""   value="{{name}}" class="form-control  "  maxlength="255" >\r\n					</div>	\r\n				</form>\r\n			</div>\r\n		</div>\r\n		<div >\r\n			<div class="clearfix form-actions">\r\n				<a href="javascript:void(-1)" id="save"  class="save btn btn-primary  btn-lg button-saving" data-loading-text="<i class=\'fa fa-spinner fa-spin \'></i> Salvando...">\r\n					<i class="save fa fa-check "></i>\r\n					Salvar\r\n				</a>\r\n				&nbsp; &nbsp; \r\n				<a href="javascript:void(-1)" class="save-continue btn btn-info btn-lg button-saving" data-loading-text="<i class=\'fa fa-spinner fa-spin \'></i> Salvando..."  style="display: {{ id ? \'none\' : \'inline-block\' }} ">\r\n					<i class="fa fa-check "></i>\r\n					Salvar e Continuar\r\n				</a>\r\n				&nbsp; &nbsp; \r\n				<a href="#app/genres" class="go-back-link btn-lg btn btn-light" >\r\n					<i class=" fa fa-undo "></i>\r\n					Voltar para a listagem\r\n				</a>\r\n			</div>\r\n		</div>\r\n	</div>\r\n</div>\r\n'}),define("views/genre/FormGenre",["require","adapters/underscore-adapter","adapters/jquery-adapter","utilities/utils","views/components/JSetup","text!views/genre/tpl/FormGenreTemplate.html","models/Genre"],function(e){var t=e("adapters/underscore-adapter"),n=(e("adapters/jquery-adapter"),e("utilities/utils")),i=e("views/components/JSetup"),o=e("text!views/genre/tpl/FormGenreTemplate.html"),r=(e("models/Genre"),i.View.extend({template:t.template(o),regions:{},events:{"click 	.save":"save","click 	.save-continue":"saveAndContinue"},ui:{inputId:"#inputId",saveButton:".button-saving",inputName:"#inputName",form:"#formGenre"},initialize:function(){},onShowView:function(){},saveAndContinue:function(){this.save(!0)},save:function(e){var t=this,i=t.getModel();this.isValid()&&(this.ui.saveButton.button("loading"),i.save({},{success:function(){n.showSuccessMessage("Genre salvo com sucesso!"),t.clearForm(),1!=e&&n.goPage("app/genres",!0)},error:function(e,i){t.ui.saveButton.button("reset"),n.showErrorMessage("Problema ao salvar registro",i)}}))},getModel:function(){var e=this,t=e.model;return t.set({id:this.ui.inputId.escape(),name:this.ui.inputName.escape()}),t},customClearForm:function(){this.ui.saveButton.button("reset")}}));return r}),define("text!views/movie/tpl/PageMovieTemplate.html",[],function(){return'<!-- Movie´s page generated by JSetup v0.95 :  at 3 de jan de 2022 23:41:20  -->\r\n<div class="panel">\r\n	<div class="panel-heading">\r\n		<h3 class="panel-title">\r\n			<i class="fa fa-search"></i>\r\n			Pesquisa de Movie.\r\n		</h3>\r\n	</div>\r\n	<div class="panel-body">\r\n		<div id="messages_div"></div>\r\n		<form id="formMovieFilter">\r\n			<div class="widget-main ">\r\n				<div class="row">\r\n					<div class="col-xs-6">\r\n						<a href="#app/newMovie" class="btn btn-info">\r\n							<i class="fa fa-plus-circle"></i>\r\n							Novo Registro\r\n						</a>\r\n						&nbsp; \r\n						<a href="javascript:void(0)"  class="btn btn-default reset-button" >Limpar</a>\r\n					</div>\r\n					<div class="col-sm-6">\r\n						<div class="input-group">\r\n							<input id="inputSinopsis" type="text" class="clearable form-control search-query" placeholder="Pesquisar Movie por Sinopsis">\r\n							<span id="query" class="input-group-btn ">\r\n								<button type="button" class="btn btn-default search-button loading-button"  data-loading-text="<i class=\'fa fa-spinner fa-spin \'></i> Pesquisando...">\r\n									<span class="fa fa-search icon-on-right  "></span>\r\n									Pesquisar\r\n								</button>\r\n							</span>\r\n						</div>\r\n						<div>\r\n							<a href="javascript:void(-1)" class="show-advanced-search-button"> Pesquisa avançada... </a>\r\n						</div>\r\n					</div>\r\n				</div>\r\n				<div class="panel advanced-search-form">\r\n					<div class="panel-heading">\r\n						<h5 class="panel-title">Filtros avançados</h5>\r\n					</div>\r\n					<div class="panel-body">\r\n						<!-- inicio dos registros-->							\r\n						<div id="groupInputReleaseDateContainer" class="form-group   ">\r\n							<label class="control-label" for="inputReleaseDate">Release date</label>\r\n							<div id="groupInputReleaseDate" class="input-group" >\r\n								<input id="inputReleaseDate" placeholder="Pesquise pela Release date" type="text" class="form-control append-left" data-date-format="DD/MM/YYYY"/>\r\n								<div class="input-group-addon	append-right">\r\n									<span class="fa fa-calendar"></span>\r\n								</div>\r\n							</div>\r\n						</div>\r\n						<div id="groupInputBudget" class="form-group   ">\r\n							<label class="control-label" for="inputBudget">Budget</label>\r\n							<input type="text" id="inputBudget" placeholder="Pesquise pelo Budget"  class="form-control">\r\n						</div>\r\n						<div id="groupInputTitle" class="form-group   ">\r\n							<label class="control-label" for="inputTitle">Title</label>\r\n							<input type="text" id="inputTitle" placeholder="Pesquise pelo Title"  class="form-control">\r\n						</div>\r\n						<div>\r\n							<button type="button" class="btn btn-info btn-sm search-button loading-button" data-loading-text="<i class=\'fa fa-spinner fa-spin \'></i> Pesquisando...">\r\n								<i class="fa fa-search"></i>\r\n								Pesquisar\r\n							</button>\r\n						</div>\r\n					</div>\r\n				</div>\r\n			</div>\r\n		</form>\r\n		<div class="center">\r\n			<div class="datatable-movie"></div>\r\n		</div>\r\n	</div>\r\n</div>\r\n'}),define("models/Movie",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/backbone-adapter","views/components/JSetup"],function(e){var t=(e("adapters/underscore-adapter"),e("adapters/jquery-adapter"),e("adapters/backbone-adapter"),e("views/components/JSetup")),n=t.BaseModel.extend({urlRoot:"rs/crud/movies",defaults:{id:null,sinopsis:"",releaseDate:"",budget:"",title:"",language:null,cast:null,genres:null}}),i=t.BaseCollection.extend({model:n,url:"rs/crud/movies"}),o=t.BasePageableCollection.extend({model:n,url:"rs/crud/movies",mode:"server"}),r=o.extend({mode:"client",state:{pageSize:10}});return{Model:n,Collection:i,PageCollection:o,PageClientCollection:r}}),define("views/movie/PageMovie",["require","utilities/utils","views/components/JSetup","text!views/movie/tpl/PageMovieTemplate.html","models/Movie"],function(e){var t=e("utilities/utils"),n=e("views/components/JSetup"),i=e("text!views/movie/tpl/PageMovieTemplate.html"),o=e("models/Movie"),r=n.View.extend({template:_.template(i),regions:{dataTableMovieRegion:".datatable-movie"},events:{"click 	.reset-button":"resetMovie",keypress:"treatKeypress","click 	.search-button":"searchMovie","click  .show-advanced-search-button":"toggleAdvancedForm"},ui:{loadButton:".loading-button",inputSinopsis:"#inputSinopsis",inputReleaseDate:"#inputReleaseDate",inputBudget:"#inputBudget",inputTitle:"#inputTitle",form:"#formMovieFilter",advancedSearchForm:".advanced-search-form"},initialize:function(){this.movies=new o.PageCollection,this.dataTableMovie=new n.DataTable({columns:this.getColumns(),collection:this.movies,onFetching:this.startFetch,onFetched:this.stopFetch,view:this})},onShowView:function(){this.ui.inputReleaseDate.date(),this.ui.inputBudget.decimal(),this.dataTableMovieRegion.show(this.dataTableMovie),this.dataTableMovie.recoveryLastQuery()},searchMovie:function(){this.dataTableMovie.getFirstPage({success:function(){},error:function(){},filterQueryParams:{sinopsis:this.ui.inputSinopsis.escape(),releaseDate:this.ui.inputReleaseDate.escape(),budget:this.ui.inputBudget.escape(!0),title:this.ui.inputTitle.escape()}})},resetMovie:function(){this.ui.form.get(0).reset(),this.movies.reset()},getColumns:function(){var e=this,t=[{name:"sinopsis",sortable:!0,editable:!1,label:"Sinopsis",cell:n.CustomStringCell},{name:"releaseDate",sortable:!0,editable:!1,label:"Release date",cell:n.CustomStringCell},{name:"budget",sortable:!0,editable:!1,label:"Budget",cell:n.DecimalCell},{name:"title",sortable:!0,editable:!1,label:"Title",cell:n.CustomStringCell},{name:"acoes",label:"Ações(Editar, Deletar)",editable:!1,sortable:!1,cell:n.ActionCell.extend({buttons:e.getCellButtons(),context:e})}];return t},getCellButtons:function(){var e=this,t=[];return t.push({id:"edit_button",type:"primary",icon:"fa-pencil",customClass:"auth[edit-movie,disable]",hint:"Editar Movie",onClick:e.editModel},{id:"delete_button",type:"danger",customClass:"auth[delete-movie, disable]",icon:"fa-trash",hint:"Remover Movie",onClick:e.deleteModel}),t},deleteModel:function(e){var n=this,i=new o.Model({id:e.id});t.confirm({title:"Importante",text:"Tem certeza que deseja remover o registro [ "+e.get("id")+" ] ?",onConfirm:function(){i.destroy({success:function(){n.movies.remove(e),t.alert({title:"Concluido",text:"Registro removido com sucesso!"})}})}})},editModel:function(e){t.goPage("app/editMovie/"+e.get("id"))},toggleAdvancedForm:function(){this.ui.advancedSearchForm.slideToggle("slow")},treatKeypress:function(e){t.enterPressed(e)&&(e.preventDefault(),this.searchMovie())},startFetch:function(){t.loadButton(this.ui.loadButton)},stopFetch:function(){t.resetButton(this.ui.loadButton)}});return r}),define("text!views/movie/tpl/FormMovieTemplate.html",[],function(){return'<!-- Movie´s form generated by JSetup v0.95 :  at 3 de jan de 2022 23:41:20  -->\r\n<div class="panel">\r\n	<!--Panel heading-->\r\n	<div class="panel-heading">\r\n		<h3 class="panel-title">Cadastro de Movie</h3>\r\n	</div>\r\n	<!--Panel body-->\r\n	<div class="panel-body">\r\n		<div class="panel">\r\n			<div class="panel-body">\r\n				<div id="messages_div"></div>\r\n				<form role="form" id="formMovie">\r\n					<input type="hidden" id="inputId" value="{{id}}">\r\n					<div id="groupInputSinopsis" class="form-group   ">\r\n						<label class="control-label" for="inputSinopsis">Sinopsis  </label>\r\n						<input type="text"  id="inputSinopsis" placeholder=""   value="{{sinopsis}}" class="form-control  "  maxlength="255" >\r\n					</div>	\r\n					<div id="groupInputReleaseDateContainer" class="form-group   ">\r\n						<label class="control-label" for="inputReleaseDate">Release date  </label>\r\n						<div id="groupInputReleaseDate" class="input-group" >\r\n							<input id="inputReleaseDate" placeholder="Escolha ou digite uma data." type="text"   class="form-control append-left" value="{{releaseDate}}"  data-date-format="DD/MM/YYYY" />\r\n							<div class="input-group-addon	append-right">\r\n								<span class="fa fa-calendar"></span>\r\n							</div>\r\n						</div>\r\n					</div>\r\n					<div id="groupInputBudget" class="form-group   ">\r\n						<label class="control-label" for="inputBudget">Budget  </label>\r\n						<input type="text"  id="inputBudget" placeholder=""   value="{{budget}}" class="form-control  "  maxlength="10" >\r\n					</div>	\r\n					<div id="groupInputTitle" class="form-group   ">\r\n						<label class="control-label" for="inputTitle">Title  </label>\r\n						<input type="text"  id="inputTitle" placeholder=""   value="{{title}}" class="form-control  "  maxlength="255" >\r\n					</div>	\r\n				</form>\r\n			</div>\r\n		</div>\r\n		<div >\r\n			<div class="clearfix form-actions">\r\n				<a href="javascript:void(-1)" id="save"  class="save btn btn-primary  btn-lg button-saving" data-loading-text="<i class=\'fa fa-spinner fa-spin \'></i> Salvando...">\r\n					<i class="save fa fa-check "></i>\r\n					Salvar\r\n				</a>\r\n				&nbsp; &nbsp; \r\n				<a href="javascript:void(-1)" class="save-continue btn btn-info btn-lg button-saving" data-loading-text="<i class=\'fa fa-spinner fa-spin \'></i> Salvando..."  style="display: {{ id ? \'none\' : \'inline-block\' }} ">\r\n					<i class="fa fa-check "></i>\r\n					Salvar e Continuar\r\n				</a>\r\n				&nbsp; &nbsp; \r\n				<a href="#app/movies" class="go-back-link btn-lg btn btn-light" >\r\n					<i class=" fa fa-undo "></i>\r\n					Voltar para a listagem\r\n				</a>\r\n			</div>\r\n		</div>\r\n	</div>\r\n</div>\r\n'}),define("views/movie/FormMovie",["require","adapters/underscore-adapter","adapters/jquery-adapter","utilities/utils","views/components/JSetup","text!views/movie/tpl/FormMovieTemplate.html","models/Movie"],function(e){var t=e("adapters/underscore-adapter"),n=(e("adapters/jquery-adapter"),e("utilities/utils")),i=e("views/components/JSetup"),o=e("text!views/movie/tpl/FormMovieTemplate.html"),r=(e("models/Movie"),i.View.extend({template:t.template(o),regions:{},events:{"click 	.save":"save","click 	.save-continue":"saveAndContinue"},ui:{inputId:"#inputId",saveButton:".button-saving",inputSinopsis:"#inputSinopsis",inputReleaseDate:"#inputReleaseDate",inputBudget:"#inputBudget",inputTitle:"#inputTitle",form:"#formMovie"},initialize:function(){},onShowView:function(){this.ui.inputReleaseDate.date(),this.ui.inputBudget.decimal()},saveAndContinue:function(){this.save(!0)},save:function(e){var t=this,i=t.getModel();this.isValid()&&(this.ui.saveButton.button("loading"),i.save({},{success:function(){n.showSuccessMessage("Movie salvo com sucesso!"),t.clearForm(),1!=e&&n.goPage("app/movies",!0)},error:function(e,i){t.ui.saveButton.button("reset"),n.showErrorMessage("Problema ao salvar registro",i)}}))},getModel:function(){var e=this,t=e.model;return t.set({id:this.ui.inputId.escape(),sinopsis:this.ui.inputSinopsis.escape(),releaseDate:this.ui.inputReleaseDate.escape(),budget:this.ui.inputBudget.escape(!0),title:this.ui.inputTitle.escape()}),t},customClearForm:function(){this.ui.saveButton.button("reset")}}));return r}),define("text!views/language/tpl/PageLanguageTemplate.html",[],function(){return'<!-- Language´s page generated by JSetup v0.95 :  at 3 de jan de 2022 23:41:20  -->\r\n<div class="panel">\r\n	<div class="panel-heading">\r\n		<h3 class="panel-title">\r\n			<i class="fa fa-search"></i>\r\n			Pesquisa de Language.\r\n		</h3>\r\n	</div>\r\n	<div class="panel-body">\r\n		<div id="messages_div"></div>\r\n		<form id="formLanguageFilter">\r\n			<div class="widget-main ">\r\n				<div class="row">\r\n					<div class="col-xs-6">\r\n						<a href="#app/newLanguage" class="btn btn-info">\r\n							<i class="fa fa-plus-circle"></i>\r\n							Novo Registro\r\n						</a>\r\n						&nbsp; \r\n						<a href="javascript:void(0)"  class="btn btn-default reset-button" >Limpar</a>\r\n					</div>\r\n					<div class="col-sm-6">\r\n						<div class="input-group">\r\n							<input id="inputName" type="text" class="clearable form-control search-query" placeholder="Pesquisar Language por Name">\r\n							<span id="query" class="input-group-btn ">\r\n								<button type="button" class="btn btn-default search-button loading-button"  data-loading-text="<i class=\'fa fa-spinner fa-spin \'></i> Pesquisando...">\r\n									<span class="fa fa-search icon-on-right  "></span>\r\n									Pesquisar\r\n								</button>\r\n							</span>\r\n						</div>\r\n						<div>\r\n							<a href="javascript:void(-1)" class="show-advanced-search-button"> Pesquisa avançada... </a>\r\n						</div>\r\n					</div>\r\n				</div>\r\n				<div class="panel advanced-search-form">\r\n					<div class="panel-heading">\r\n						<h5 class="panel-title">Filtros avançados</h5>\r\n					</div>\r\n					<div class="panel-body">\r\n						<!-- inicio dos registros-->							\r\n						<div>\r\n							<button type="button" class="btn btn-info btn-sm search-button loading-button" data-loading-text="<i class=\'fa fa-spinner fa-spin \'></i> Pesquisando...">\r\n								<i class="fa fa-search"></i>\r\n								Pesquisar\r\n							</button>\r\n						</div>\r\n					</div>\r\n				</div>\r\n			</div>\r\n		</form>\r\n		<div class="center">\r\n			<div class="datatable-language"></div>\r\n		</div>\r\n	</div>\r\n</div>\r\n'}),define("models/Language",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/backbone-adapter","views/components/JSetup"],function(e){var t=(e("adapters/underscore-adapter"),e("adapters/jquery-adapter"),e("adapters/backbone-adapter"),e("views/components/JSetup")),n=t.BaseModel.extend({urlRoot:"rs/crud/languages",defaults:{id:null,name:"",movies:null}}),i=t.BaseCollection.extend({model:n,url:"rs/crud/languages"}),o=t.BasePageableCollection.extend({model:n,url:"rs/crud/languages",mode:"server"}),r=o.extend({mode:"client",state:{pageSize:10}});return{Model:n,Collection:i,PageCollection:o,PageClientCollection:r}}),define("views/language/PageLanguage",["require","utilities/utils","views/components/JSetup","text!views/language/tpl/PageLanguageTemplate.html","models/Language"],function(e){var t=e("utilities/utils"),n=e("views/components/JSetup"),i=e("text!views/language/tpl/PageLanguageTemplate.html"),o=e("models/Language"),r=n.View.extend({template:_.template(i),regions:{dataTableLanguageRegion:".datatable-language"},events:{"click 	.reset-button":"resetLanguage",keypress:"treatKeypress","click 	.search-button":"searchLanguage","click  .show-advanced-search-button":"toggleAdvancedForm"},ui:{loadButton:".loading-button",inputName:"#inputName",form:"#formLanguageFilter",advancedSearchForm:".advanced-search-form"},initialize:function(){this.languages=new o.PageCollection,this.dataTableLanguage=new n.DataTable({columns:this.getColumns(),collection:this.languages,onFetching:this.startFetch,onFetched:this.stopFetch,view:this})},onShowView:function(){this.dataTableLanguageRegion.show(this.dataTableLanguage),this.dataTableLanguage.recoveryLastQuery()},searchLanguage:function(){this.dataTableLanguage.getFirstPage({success:function(){},error:function(){},filterQueryParams:{name:this.ui.inputName.escape()}})},resetLanguage:function(){this.ui.form.get(0).reset(),this.languages.reset()},getColumns:function(){var e=this,t=[{name:"name",sortable:!0,editable:!1,label:"Name",cell:n.CustomStringCell},{name:"acoes",label:"Ações(Editar, Deletar)",editable:!1,sortable:!1,cell:n.ActionCell.extend({buttons:e.getCellButtons(),context:e})}];return t},getCellButtons:function(){var e=this,t=[];return t.push({id:"edit_button",type:"primary",icon:"fa-pencil",customClass:"auth[edit-language,disable]",hint:"Editar Language",onClick:e.editModel},{id:"delete_button",type:"danger",customClass:"auth[delete-language, disable]",icon:"fa-trash",hint:"Remover Language",onClick:e.deleteModel}),t},deleteModel:function(e){var n=this,i=new o.Model({id:e.id});t.confirm({title:"Importante",text:"Tem certeza que deseja remover o registro [ "+e.get("id")+" ] ?",onConfirm:function(){i.destroy({success:function(){n.languages.remove(e),t.alert({title:"Concluido",text:"Registro removido com sucesso!"})}})}})},editModel:function(e){t.goPage("app/editLanguage/"+e.get("id"))},toggleAdvancedForm:function(){this.ui.advancedSearchForm.slideToggle("slow")},treatKeypress:function(e){t.enterPressed(e)&&(e.preventDefault(),this.searchLanguage())},startFetch:function(){t.loadButton(this.ui.loadButton)},stopFetch:function(){t.resetButton(this.ui.loadButton)}});return r}),define("text!views/language/tpl/FormLanguageTemplate.html",[],function(){return'<!-- Language´s form generated by JSetup v0.95 :  at 3 de jan de 2022 23:41:20  -->\r\n<div class="panel">\r\n	<!--Panel heading-->\r\n	<div class="panel-heading">\r\n		<h3 class="panel-title">Cadastro de Language</h3>\r\n	</div>\r\n	<!--Panel body-->\r\n	<div class="panel-body">\r\n		<div class="panel">\r\n			<div class="panel-body">\r\n				<div id="messages_div"></div>\r\n				<form role="form" id="formLanguage">\r\n					<input type="hidden" id="inputId" value="{{id}}">\r\n					<div id="groupInputName" class="form-group   ">\r\n						<label class="control-label" for="inputName">Name  </label>\r\n						<input type="text"  id="inputName" placeholder=""   value="{{name}}" class="form-control  "  maxlength="255" >\r\n					</div>	\r\n				</form>\r\n			</div>\r\n		</div>\r\n		<div >\r\n			<div class="clearfix form-actions">\r\n				<a href="javascript:void(-1)" id="save"  class="save btn btn-primary  btn-lg button-saving" data-loading-text="<i class=\'fa fa-spinner fa-spin \'></i> Salvando...">\r\n					<i class="save fa fa-check "></i>\r\n					Salvar\r\n				</a>\r\n				&nbsp; &nbsp; \r\n				<a href="javascript:void(-1)" class="save-continue btn btn-info btn-lg button-saving" data-loading-text="<i class=\'fa fa-spinner fa-spin \'></i> Salvando..."  style="display: {{ id ? \'none\' : \'inline-block\' }} ">\r\n					<i class="fa fa-check "></i>\r\n					Salvar e Continuar\r\n				</a>\r\n				&nbsp; &nbsp; \r\n				<a href="#app/languages" class="go-back-link btn-lg btn btn-light" >\r\n					<i class=" fa fa-undo "></i>\r\n					Voltar para a listagem\r\n				</a>\r\n			</div>\r\n		</div>\r\n	</div>\r\n</div>\r\n'}),define("views/language/FormLanguage",["require","adapters/underscore-adapter","adapters/jquery-adapter","utilities/utils","views/components/JSetup","text!views/language/tpl/FormLanguageTemplate.html","models/Language"],function(e){var t=e("adapters/underscore-adapter"),n=(e("adapters/jquery-adapter"),e("utilities/utils")),i=e("views/components/JSetup"),o=e("text!views/language/tpl/FormLanguageTemplate.html"),r=(e("models/Language"),i.View.extend({template:t.template(o),regions:{},events:{"click 	.save":"save","click 	.save-continue":"saveAndContinue"},ui:{inputId:"#inputId",saveButton:".button-saving",inputName:"#inputName",form:"#formLanguage"},initialize:function(){},onShowView:function(){},saveAndContinue:function(){this.save(!0)},save:function(e){var t=this,i=t.getModel();this.isValid()&&(this.ui.saveButton.button("loading"),i.save({},{success:function(){n.showSuccessMessage("Language salvo com sucesso!"),t.clearForm(),1!=e&&n.goPage("app/languages",!0)},error:function(e,i){t.ui.saveButton.button("reset"),n.showErrorMessage("Problema ao salvar registro",i)}}))},getModel:function(){var e=this,t=e.model;return t.set({id:this.ui.inputId.escape(),name:this.ui.inputName.escape()}),t},customClearForm:function(){this.ui.saveButton.button("reset")}}));return r}),define("text!views/actor/tpl/PageActorTemplate.html",[],function(){return'<!-- Actor´s page generated by JSetup v0.95 :  at 3 de jan de 2022 23:41:20  -->\r\n<div class="panel">\r\n	<div class="panel-heading">\r\n		<h3 class="panel-title">\r\n			<i class="fa fa-search"></i>\r\n			Pesquisa de Actor.\r\n		</h3>\r\n	</div>\r\n	<div class="panel-body">\r\n		<div id="messages_div"></div>\r\n		<form id="formActorFilter">\r\n			<div class="widget-main ">\r\n				<div class="row">\r\n					<div class="col-xs-6">\r\n						<a href="#app/newActor" class="btn btn-info">\r\n							<i class="fa fa-plus-circle"></i>\r\n							Novo Registro\r\n						</a>\r\n						&nbsp; \r\n						<a href="javascript:void(0)"  class="btn btn-default reset-button" >Limpar</a>\r\n					</div>\r\n					<div class="col-sm-6">\r\n						<div class="input-group">\r\n							<input id="inputBirthDate" type="text" class="clearable form-control search-query" placeholder="Pesquisar Actor por Birth date">\r\n							<span id="query" class="input-group-btn ">\r\n								<button type="button" class="btn btn-default search-button loading-button"  data-loading-text="<i class=\'fa fa-spinner fa-spin \'></i> Pesquisando...">\r\n									<span class="fa fa-search icon-on-right  "></span>\r\n									Pesquisar\r\n								</button>\r\n							</span>\r\n						</div>\r\n						<div>\r\n							<a href="javascript:void(-1)" class="show-advanced-search-button"> Pesquisa avançada... </a>\r\n						</div>\r\n					</div>\r\n				</div>\r\n				<div class="panel advanced-search-form">\r\n					<div class="panel-heading">\r\n						<h5 class="panel-title">Filtros avançados</h5>\r\n					</div>\r\n					<div class="panel-body">\r\n						<!-- inicio dos registros-->							\r\n						<div id="groupInputName" class="form-group   ">\r\n							<label class="control-label" for="inputName">Name</label>\r\n							<input type="text" id="inputName" placeholder="Pesquise pelo Name"  class="form-control">\r\n						</div>\r\n						<div>\r\n							<button type="button" class="btn btn-info btn-sm search-button loading-button" data-loading-text="<i class=\'fa fa-spinner fa-spin \'></i> Pesquisando...">\r\n								<i class="fa fa-search"></i>\r\n								Pesquisar\r\n							</button>\r\n						</div>\r\n					</div>\r\n				</div>\r\n			</div>\r\n		</form>\r\n		<div class="center">\r\n			<div class="datatable-actor"></div>\r\n		</div>\r\n	</div>\r\n</div>\r\n'}),define("models/Actor",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/backbone-adapter","views/components/JSetup"],function(e){var t=(e("adapters/underscore-adapter"),e("adapters/jquery-adapter"),e("adapters/backbone-adapter"),e("views/components/JSetup")),n=t.BaseModel.extend({urlRoot:"rs/crud/actors",defaults:{id:null,birthDate:"",name:"",movies:null}}),i=t.BaseCollection.extend({model:n,url:"rs/crud/actors"}),o=t.BasePageableCollection.extend({model:n,url:"rs/crud/actors",mode:"server"}),r=o.extend({mode:"client",state:{pageSize:10}});return{Model:n,Collection:i,PageCollection:o,PageClientCollection:r}}),define("views/actor/PageActor",["require","utilities/utils","views/components/JSetup","text!views/actor/tpl/PageActorTemplate.html","models/Actor"],function(e){var t=e("utilities/utils"),n=e("views/components/JSetup"),i=e("text!views/actor/tpl/PageActorTemplate.html"),o=e("models/Actor"),r=n.View.extend({template:_.template(i),regions:{dataTableActorRegion:".datatable-actor"},events:{"click 	.reset-button":"resetActor",keypress:"treatKeypress","click 	.search-button":"searchActor","click  .show-advanced-search-button":"toggleAdvancedForm"},ui:{loadButton:".loading-button",inputBirthDate:"#inputBirthDate",inputName:"#inputName",form:"#formActorFilter",advancedSearchForm:".advanced-search-form"},initialize:function(){this.actors=new o.PageCollection,this.dataTableActor=new n.DataTable({columns:this.getColumns(),collection:this.actors,onFetching:this.startFetch,onFetched:this.stopFetch,view:this})},onShowView:function(){this.ui.inputBirthDate.date(),this.dataTableActorRegion.show(this.dataTableActor),this.dataTableActor.recoveryLastQuery()},searchActor:function(){this.dataTableActor.getFirstPage({success:function(){},error:function(){},filterQueryParams:{birthDate:this.ui.inputBirthDate.escape(),name:this.ui.inputName.escape()}})},resetActor:function(){this.ui.form.get(0).reset(),this.actors.reset()},getColumns:function(){var e=this,t=[{name:"birthDate",sortable:!0,editable:!1,label:"Birth date",cell:n.CustomStringCell},{name:"name",sortable:!0,editable:!1,label:"Name",cell:n.CustomStringCell},{name:"acoes",label:"Ações(Editar, Deletar)",editable:!1,sortable:!1,cell:n.ActionCell.extend({buttons:e.getCellButtons(),context:e})}];return t},getCellButtons:function(){var e=this,t=[];return t.push({id:"edit_button",type:"primary",icon:"fa-pencil",customClass:"auth[edit-actor,disable]",hint:"Editar Actor",onClick:e.editModel},{id:"delete_button",type:"danger",customClass:"auth[delete-actor, disable]",icon:"fa-trash",hint:"Remover Actor",onClick:e.deleteModel}),t},deleteModel:function(e){var n=this,i=new o.Model({id:e.id});t.confirm({title:"Importante",text:"Tem certeza que deseja remover o registro [ "+e.get("id")+" ] ?",onConfirm:function(){i.destroy({success:function(){n.actors.remove(e),t.alert({title:"Concluido",text:"Registro removido com sucesso!"})}})}})},editModel:function(e){t.goPage("app/editActor/"+e.get("id"))},toggleAdvancedForm:function(){this.ui.advancedSearchForm.slideToggle("slow")},treatKeypress:function(e){t.enterPressed(e)&&(e.preventDefault(),this.searchActor())},startFetch:function(){t.loadButton(this.ui.loadButton)},stopFetch:function(){t.resetButton(this.ui.loadButton)}});return r}),define("text!views/actor/tpl/FormActorTemplate.html",[],function(){return'<!-- Actor´s form generated by JSetup v0.95 :  at 3 de jan de 2022 23:41:20  -->\r\n<div class="panel">\r\n	<!--Panel heading-->\r\n	<div class="panel-heading">\r\n		<h3 class="panel-title">Cadastro de Actor</h3>\r\n	</div>\r\n	<!--Panel body-->\r\n	<div class="panel-body">\r\n		<div class="panel">\r\n			<div class="panel-body">\r\n				<div id="messages_div"></div>\r\n				<form role="form" id="formActor">\r\n					<input type="hidden" id="inputId" value="{{id}}">\r\n					<div id="groupInputBirthDateContainer" class="form-group   ">\r\n						<label class="control-label" for="inputBirthDate">Birth date  </label>\r\n						<div id="groupInputBirthDate" class="input-group" >\r\n							<input id="inputBirthDate" placeholder="Escolha ou digite uma data." type="text"   class="form-control append-left" value="{{birthDate}}"  data-date-format="DD/MM/YYYY" />\r\n							<div class="input-group-addon	append-right">\r\n								<span class="fa fa-calendar"></span>\r\n							</div>\r\n						</div>\r\n					</div>\r\n					<div id="groupInputName" class="form-group   ">\r\n						<label class="control-label" for="inputName">Name  </label>\r\n						<input type="text"  id="inputName" placeholder=""   value="{{name}}" class="form-control  "  maxlength="255" >\r\n					</div>	\r\n				</form>\r\n			</div>\r\n		</div>\r\n		<div >\r\n			<div class="clearfix form-actions">\r\n				<a href="javascript:void(-1)" id="save"  class="save btn btn-primary  btn-lg button-saving" data-loading-text="<i class=\'fa fa-spinner fa-spin \'></i> Salvando...">\r\n					<i class="save fa fa-check "></i>\r\n					Salvar\r\n				</a>\r\n				&nbsp; &nbsp; \r\n				<a href="javascript:void(-1)" class="save-continue btn btn-info btn-lg button-saving" data-loading-text="<i class=\'fa fa-spinner fa-spin \'></i> Salvando..."  style="display: {{ id ? \'none\' : \'inline-block\' }} ">\r\n					<i class="fa fa-check "></i>\r\n					Salvar e Continuar\r\n				</a>\r\n				&nbsp; &nbsp; \r\n				<a href="#app/actors" class="go-back-link btn-lg btn btn-light" >\r\n					<i class=" fa fa-undo "></i>\r\n					Voltar para a listagem\r\n				</a>\r\n			</div>\r\n		</div>\r\n	</div>\r\n</div>\r\n'}),define("views/actor/FormActor",["require","adapters/underscore-adapter","adapters/jquery-adapter","utilities/utils","views/components/JSetup","text!views/actor/tpl/FormActorTemplate.html","models/Actor"],function(e){var t=e("adapters/underscore-adapter"),n=(e("adapters/jquery-adapter"),e("utilities/utils")),i=e("views/components/JSetup"),o=e("text!views/actor/tpl/FormActorTemplate.html"),r=(e("models/Actor"),i.View.extend({template:t.template(o),regions:{},events:{"click 	.save":"save","click 	.save-continue":"saveAndContinue"},ui:{inputId:"#inputId",saveButton:".button-saving",inputBirthDate:"#inputBirthDate",inputName:"#inputName",form:"#formActor"},initialize:function(){},onShowView:function(){this.ui.inputBirthDate.date()
},saveAndContinue:function(){this.save(!0)},save:function(e){var t=this,i=t.getModel();this.isValid()&&(this.ui.saveButton.button("loading"),i.save({},{success:function(){n.showSuccessMessage("Actor salvo com sucesso!"),t.clearForm(),1!=e&&n.goPage("app/actors",!0)},error:function(e,i){t.ui.saveButton.button("reset"),n.showErrorMessage("Problema ao salvar registro",i)}}))},getModel:function(){var e=this,t=e.model;return t.set({id:this.ui.inputId.escape(),birthDate:this.ui.inputBirthDate.escape(),name:this.ui.inputName.escape()}),t},customClearForm:function(){this.ui.saveButton.button("reset")}}));return r}),define("text!views/user/tpl/PageUserTemplate.html",[],function(){return'<!-- User´s page generated by JSetup v0.95 :  at 3 de jan de 2022 23:41:20  -->\r\n<div class="panel">\r\n	<div class="panel-heading">\r\n		<h3 class="panel-title">\r\n			<i class="fa fa-search"></i>\r\n			Pesquisa de Usuário.\r\n		</h3>\r\n	</div>\r\n	<div class="panel-body">\r\n		<div id="messages_div"></div>\r\n		<form id="formUserFilter">\r\n			<div class="widget-main ">\r\n				<div class="row">\r\n					<div class="col-xs-6">\r\n						<a href="#app/newUser" class="btn btn-info">\r\n							<i class="fa fa-plus-circle"></i>\r\n							Novo Registro\r\n						</a>\r\n						&nbsp; \r\n						<a href="javascript:void(0)"  class="btn btn-default reset-button" >Limpar</a>\r\n					</div>\r\n					<div class="col-sm-6">\r\n						<div class="input-group">\r\n							<input id="inputName" type="text" class="clearable form-control search-query" placeholder="Pesquisar Usuário por Nome">\r\n							<span id="query" class="input-group-btn ">\r\n								<button type="button" class="btn btn-default search-button loading-button"  data-loading-text="<i class=\'fa fa-spinner fa-spin \'></i> Pesquisando...">\r\n									<span class="fa fa-search icon-on-right  "></span>\r\n									Pesquisar\r\n								</button>\r\n							</span>\r\n						</div>\r\n						<div>\r\n							<a href="javascript:void(-1)" class="show-advanced-search-button"> Pesquisa avançada... </a>\r\n						</div>\r\n					</div>\r\n				</div>\r\n				<div class="panel advanced-search-form">\r\n					<div class="panel-heading">\r\n						<h5 class="panel-title">Filtros avançados</h5>\r\n					</div>\r\n					<div class="panel-body">\r\n						<!-- inicio dos registros-->							\r\n						<div id="groupInputUsername" class="form-group   ">\r\n							<label class="control-label" for="inputUsername">Username</label>\r\n							<input type="text" id="inputUsername" placeholder="Pesquise pelo Username"  class="form-control">\r\n						</div>\r\n						<div id="groupInputEmail" class="form-group   ">\r\n							<label class="control-label" for="inputEmail">E-mail</label>\r\n							<input type="text" id="inputEmail" placeholder="Pesquise pelo E-mail"  class="form-control">\r\n						</div>\r\n						<div>\r\n							<button type="button" class="btn btn-info btn-sm search-button loading-button" data-loading-text="<i class=\'fa fa-spinner fa-spin \'></i> Pesquisando...">\r\n								<i class="fa fa-search"></i>\r\n								Pesquisar\r\n							</button>\r\n						</div>\r\n					</div>\r\n				</div>\r\n			</div>\r\n		</form>\r\n		<div class="center">\r\n			<div class="datatable-user"></div>\r\n		</div>\r\n	</div>\r\n</div>\r\n'}),define("models/User",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/backbone-adapter","views/components/JSetup"],function(e){var t=(e("adapters/underscore-adapter"),e("adapters/jquery-adapter"),e("adapters/backbone-adapter"),e("views/components/JSetup")),n=t.BaseModel.extend({urlRoot:"rs/crud/users",defaults:{id:null,name:"",username:"",email:"",password:"",enable:"",image:"",roles:null}}),i=t.BaseCollection.extend({model:n,url:"rs/crud/users"}),o=t.BasePageableCollection.extend({model:n,url:"rs/crud/users",mode:"server"}),r=o.extend({mode:"client",state:{pageSize:10}});return{Model:n,Collection:i,PageCollection:o,PageClientCollection:r}}),define("views/user/PageUser",["require","utilities/utils","views/components/JSetup","text!views/user/tpl/PageUserTemplate.html","models/User"],function(e){var t=e("utilities/utils"),n=e("views/components/JSetup"),i=e("text!views/user/tpl/PageUserTemplate.html"),o=e("models/User"),r=n.View.extend({template:_.template(i),regions:{dataTableUserRegion:".datatable-user"},events:{"click 	.reset-button":"resetUser",keypress:"treatKeypress","click 	.search-button":"searchUser","click  .show-advanced-search-button":"toggleAdvancedForm"},ui:{loadButton:".loading-button",inputName:"#inputName",inputUsername:"#inputUsername",inputEmail:"#inputEmail",form:"#formUserFilter",advancedSearchForm:".advanced-search-form"},initialize:function(){this.users=new o.PageCollection,this.dataTableUser=new n.DataTable({columns:this.getColumns(),collection:this.users,onFetching:this.startFetch,onFetched:this.stopFetch,view:this})},onShowView:function(){this.dataTableUserRegion.show(this.dataTableUser),this.dataTableUser.recoveryLastQuery()},searchUser:function(){this.dataTableUser.getFirstPage({success:function(){},error:function(){},filterQueryParams:{name:this.ui.inputName.escape(),username:this.ui.inputUsername.escape(),email:this.ui.inputEmail.escape()}})},resetUser:function(){this.ui.form.get(0).reset(),this.users.reset()},getColumns:function(){var e=this,t=[{name:"name",sortable:!0,editable:!1,label:"Nome",cell:n.CustomStringCell},{name:"username",sortable:!0,editable:!1,label:"Username",cell:n.CustomStringCell},{name:"email",sortable:!0,editable:!1,label:"E-mail",cell:n.CustomStringCell},{name:"acoes",label:"Ações(Editar, Deletar)",editable:!1,sortable:!1,cell:n.ActionCell.extend({buttons:e.getCellButtons(),context:e})}];return t},getCellButtons:function(){var e=this,t=[];return t.push({id:"edit_button",type:"primary",icon:"fa-pencil",customClass:"auth[edit-user,disable]",hint:"Editar Usuário",onClick:e.editModel},{id:"delete_button",type:"danger",customClass:"auth[delete-user, disable]",icon:"fa-trash",hint:"Remover Usuário",onClick:e.deleteModel}),t},deleteModel:function(e){var n=this,i=new o.Model({id:e.id});t.confirm({title:"Importante",text:"Tem certeza que deseja remover o registro [ "+e.get("id")+" ] ?",onConfirm:function(){i.destroy({success:function(){n.users.remove(e),t.alert({title:"Concluido",text:"Registro removido com sucesso!"})}})}})},editModel:function(e){t.goPage("app/editUser/"+e.get("id"))},toggleAdvancedForm:function(){this.ui.advancedSearchForm.slideToggle("slow")},treatKeypress:function(e){t.enterPressed(e)&&(e.preventDefault(),this.searchUser())},startFetch:function(){t.loadButton(this.ui.loadButton)},stopFetch:function(){t.resetButton(this.ui.loadButton)}});return r}),define("text!views/user/tpl/FormUserTemplate.html",[],function(){return'<!-- User´s form generated by JSetup v0.95 :  at 3 de jan de 2022 23:41:20  -->\r\n<div class="panel">\r\n	<!--Panel heading-->\r\n	<div class="panel-heading">\r\n		<h3 class="panel-title">Cadastro de Usuário</h3>\r\n	</div>\r\n	<!--Panel body-->\r\n	<div class="panel-body">\r\n		<div class="panel">\r\n			<div class="panel-body">\r\n				<div id="messages_div"></div>\r\n				<form role="form" id="formUser">\r\n					<input type="hidden" id="inputId" value="{{id}}">\r\n					<div id="groupInputName" class="form-group   ">\r\n						<label class="control-label" for="inputName">Nome  *</label>\r\n						<input type="text"  id="inputName" placeholder=""  data-validation="required"  value="{{name}}" class="form-control  "  >\r\n					</div>	\r\n					<div id="groupInputUsername" class="form-group   ">\r\n						<label class="control-label" for="inputUsername">Username  *</label>\r\n						<input type="text"  id="inputUsername" placeholder=""  data-validation="required"  value="{{username}}" class="form-control  "  >\r\n					</div>	\r\n					<div id="groupInputEmail" class="form-group   ">\r\n						<label class="control-label" for="inputEmail">E-mail  *</label>\r\n						<input type="text"  id="inputEmail" placeholder=""  data-validation="required"  value="{{email}}" class="form-control  "  >\r\n					</div>	\r\n					<div id="groupInputPassword" class="form-group   ">\r\n						<label class="control-label" for="inputPassword">Senha  *</label>\r\n						<input type="text"  id="inputPassword" placeholder=""  data-validation="required"  value="{{password}}" class="form-control  "  >\r\n					</div>	\r\n					<div id="groupInputEnable" class="form-group ">\r\n						<p class="checkbox-label" for="inputEnable">Ativo?</p>\r\n						<input type="checkbox" id="inputEnable" {{enable ? \'checked\' :\'\'}}>\r\n					</div>\r\n					\r\n					<div id="groupInputImage" class="form-group   ">\r\n						<label class="control-label" for="inputImage">Foto  </label>\r\n						<span class="upload-image-container"> </span>\r\n						<input type="text"  id="inputImage" placeholder="" value="{{image}}"   class="form-control "   style="display : none">\r\n					</div>\r\n					<div class="panel">\r\n						<div class="panel-heading">\r\n							<h3 class="panel-title">Roles</h3>\r\n						</div>\r\n						<div class="" >\r\n							<div class="multiselect-roles-container"> </div>\r\n						</div>\r\n					</div>\r\n				</form>\r\n			</div>\r\n		</div>\r\n		<div >\r\n			<div class="clearfix form-actions">\r\n				<a href="javascript:void(-1)" id="save"  class="save btn btn-primary  btn-lg button-saving" data-loading-text="<i class=\'fa fa-spinner fa-spin \'></i> Salvando...">\r\n					<i class="save fa fa-check "></i>\r\n					Salvar\r\n				</a>\r\n				&nbsp; &nbsp; \r\n				<a href="javascript:void(-1)" class="save-continue btn btn-info btn-lg button-saving" data-loading-text="<i class=\'fa fa-spinner fa-spin \'></i> Salvando..."  style="display: {{ id ? \'none\' : \'inline-block\' }} ">\r\n					<i class="fa fa-check "></i>\r\n					Salvar e Continuar\r\n				</a>\r\n				&nbsp; &nbsp; \r\n				<a href="#app/users" class="go-back-link btn-lg btn btn-light" >\r\n					<i class=" fa fa-undo "></i>\r\n					Voltar para a listagem\r\n				</a>\r\n			</div>\r\n		</div>\r\n	</div>\r\n</div>\r\n'}),define("text!views/modalComponents/tpl/MultiselectModalRoleTemplate.html",[],function(){return'<!-- Role´s multiselect generated by JSetup v0.95 :  at 3 de jan de 2022 23:41:20  -->\r\n<a href="#modalMultiselectRole" class="btn btn-info" data-toggle="modal">\r\n	<i class="demo-pli-add icon-fw"></i>\r\n	Adiciona\r\n</a>\r\n<div class="datatable-principal bord-btm"></div>\r\n\r\n<div>\r\n	<div class="modal fade" id="modalMultiselectRole" tabindex="-1" role="dialog" aria-labelledby="modalRoles" aria-hidden="true" style="display: none;">\r\n		<div class="modal-dialog modal-lg">\r\n			<div class="modal-content">\r\n				<div class="modal-header">\r\n					<button type="button" class="close" data-dismiss="modal" aria-label="Close">\r\n						<i class="fa fa-times-circle-o fa-2x"></i>\r\n					</button>\r\n					<h4 class="modal-title" id="myModalLabel">Papel</h4>\r\n				</div>\r\n				<div class="modal-body">\r\n					<div class="panel">\r\n						<div class="panel-body">\r\n						<form id="formSearchRole">\r\n									<div id="groupInputModalAuthority" class="form-group col-sm-	col-md-	col-lg-  ">\r\n										<label class="control-label" for="inputModalAuthority">Autoridade</label>\r\n										<input type="text" id="inputModalAuthority" placeholder=""  class="form-control inputModalAuthority">\r\n									</div>\r\n									\r\n									<div id="groupInputModalDescription" class="form-group col-sm-	col-md-	col-lg-  ">\r\n										<label class="control-label" for="inputModalDescription">Descrição</label>\r\n										<input type="text" id="inputModalDescription" placeholder=""  class="form-control inputModalDescription">\r\n									</div>\r\n									\r\n				\r\n							<div class="form-actions spinner" id="spinRole">\r\n								<button type="button"  class="btn-search btn btn-primary btn-large button-loading" data-loading-text="<i class=\'fa fa-spinner fa-spin \'></i> Pesquisando...">\r\n									<i class="fa fa-search"></i>\r\n									Pesquisar\r\n								</button>\r\n								<button type="button" class="btn-reset btn btn-info btn-large" >\r\n									<i class="fa fa-trash"></i>\r\n									Limpar\r\n								</button>\r\n							</div>\r\n							\r\n						<div class="row">\r\n						<div class="col-xs-12">\r\n							<h3 class="header smaller lighter blue">Resultados</h3>\r\n							<div class="center">\r\n								<div  class="datatable-modal "></div>\r\n							</div>\r\n						</div>\r\n						</div>\r\n						</form>	\r\n									\r\n						</div>\r\n					</div>\r\n				</div>\r\n				<div class="modal-footer">\r\n					<button type="button" class="btn btn-primary" data-dismiss="modal">Pronto</button>\r\n				</div>\r\n			</div>\r\n		</div>\r\n	</div>\r\n</div>'}),define("models/Role",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/backbone-adapter","views/components/JSetup"],function(e){var t=(e("adapters/underscore-adapter"),e("adapters/jquery-adapter"),e("adapters/backbone-adapter"),e("views/components/JSetup")),n=t.BaseModel.extend({urlRoot:"rs/crud/roles",defaults:{id:null,authority:"",description:"",users:null,permissions:null,groups:null}}),i=t.BaseCollection.extend({model:n,url:"rs/crud/roles"}),o=t.BasePageableCollection.extend({model:n,url:"rs/crud/roles",mode:"server"}),r=o.extend({mode:"client",state:{pageSize:10}});return{Model:n,Collection:i,PageCollection:o,PageClientCollection:r}}),define("views/modalComponents/MultiselectModalRole",["require","utilities/utils","views/components/JSetup","text!views/modalComponents/tpl/MultiselectModalRoleTemplate.html","models/Role"],function(e){var t=e("utilities/utils"),n=e("views/components/JSetup"),i=e("text!views/modalComponents/tpl/MultiselectModalRoleTemplate.html"),o=e("models/Role"),r=n.View.extend({template:_.template(i),regions:{dataTablePrincipalRegion:".datatable-principal",dataTableModalRegion:".datatable-modal"},events:{"click .btn-search":"search","click .btn-reset":"clearModal",keypress:"treatKeypress"},ui:{loadButton:".button-loading",inputModalAuthority:".inputModalAuthority",inputModalDescription:".inputModalDescription",form:"#formSearchRole",modalScreen:".modal"},treatKeypress:function(e){t.enterPressed(e)&&(e.preventDefault(),this.search())},initialize:function(e){this.principalCollection=new o.PageClientCollection(e.initialValues),this.modalCollection=new o.PageCollection,this.modalCollection.on("fetching",this.startFetch,this),this.modalCollection.on("fetched",this.stopFetch,this),this.modalCollection.on("backgrid:selected",this.selectModel,this),this.dataTablePrincipal=new n.DataTable({columns:this.getPrincipalColumns(),collection:this.principalCollection,gridClass:" table table-striped"}),this.dataTableModal=new n.DataTable({columns:this.getModalColumns(),collection:this.modalCollection})},onShowView:function(){var e=this;e.dataTablePrincipalRegion.show(e.dataTablePrincipal),e.dataTableModalRegion.show(e.dataTableModal),e.ui.modalScreen.on("show.bs.modal",function(){e.search()})},search:function(){this.modalCollection.filterQueryParams={authority:this.ui.inputModalAuthority.escape(),description:this.ui.inputModalDescription.escape()},this.modalCollection.getFirstPage({resetState:!0,success:function(){},error:function(e,t,n){console.error(e,t,n)}})},getJsonValue:function(){return this.principalCollection&&this.principalCollection.fullCollection&&this.principalCollection.fullCollection.toJSON()},getValue:function(){return this.principalCollection&&this.principalCollection.fullCollection},setValue:function(e){this.principalCollection=e},clear:function(){this.$el.find("input[type=checkbox]").prop("checked",!1),this.principalCollection.reset()},clearModal:function(){this.$el.find("input[type=checkbox]").prop("checked",!1),this.ui.inputModalAuthority.val(""),this.ui.inputModalDescription.val(""),this.modalCollection.reset()},selectModel:function(e,t){t?e.get&&e.get("id")&&this.principalCollection.add(e):this.principalCollection.remove(e)},endFetch:function(){var e=this;this.ui.searchButton.button("reset"),this.modalCollection.each(function(t){e.principalCollection.findWhere({id:t.get("id")})&&t.trigger("backgrid:select",t,!0)})},getPrincipalColumns:function(){var e=this,t=[{name:"authority",sortable:!1,editable:!1,label:"Autoridade",cell:n.CustomStringCell},{name:"description",sortable:!1,editable:!1,label:"Descrição",cell:n.CustomStringCell},{name:"acoes",label:"Deletar",editable:!1,sortable:!1,cell:n.ActionCell.extend({buttons:e.getCellPrincipalButtons(),context:e})}];return t},getCellPrincipalButtons:function(){var e=this,t=[];return t.push({id:"delete_button",type:"danger",icon:"fa-trash",hint:"Remover Papel",onClick:e.deleteModel}),t},deleteModel:function(e){var n=this;t.confirm({title:"Importante",text:"Tem certeza que deseja remover o registro [ "+e.get("id")+" ] ?",onConfirm:function(){n.principalCollection.remove(e),t.alert({title:"Concluido",text:"Registro removido com sucesso!"})}})},getModalColumns:function(){var e=[{name:"",cell:"select-row",headerCell:"select-all"},{name:"authority",sortable:!0,editable:!1,label:"Autoridade",cell:n.CustomStringCell},{name:"description",sortable:!0,editable:!1,label:"Descrição",cell:n.CustomStringCell}];return e},startFetch:function(){this.ui.loadButton.button("loading")},stopFetch:function(){var e=this;this.ui.loadButton.button("reset"),this.modalCollection.each(function(t){e.principalCollection.findWhere({id:t.get("id")})&&t.trigger("backgrid:select",t,!0)}),t.scrollDownModal()}});return r}),define("views/user/FormUser",["require","adapters/underscore-adapter","adapters/jquery-adapter","utilities/utils","views/components/JSetup","text!views/user/tpl/FormUserTemplate.html","views/modalComponents/MultiselectModalRole","models/User","models/Role"],function(e){var t=e("adapters/underscore-adapter"),n=(e("adapters/jquery-adapter"),e("utilities/utils")),i=e("views/components/JSetup"),o=e("text!views/user/tpl/FormUserTemplate.html"),r=e("views/modalComponents/MultiselectModalRole"),s=e("models/User"),a=(e("models/Role"),i.View.extend({template:t.template(o),regions:{uploadImageRegion:".upload-image-container",multiselectModalRolesRegion:".multiselect-roles-container"},events:{"click 	.save":"save","click 	.save-continue":"saveAndContinue","change  #inputName":"changeName","change  #inputUsername":"changeUsername","change  #inputEmail":"changeEmail"},ui:{inputId:"#inputId",saveButton:".button-saving",inputName:"#inputName",inputUsername:"#inputUsername",inputEmail:"#inputEmail",inputPassword:"#inputPassword",inputEnable:"#inputEnable",inputImage:"#inputImage",form:"#formUser"},initialize:function(){},onShowView:function(){var e=this;this.ui.inputEnable.bootstrapSwitch(),this.multiselectModalRoles=new r({initialValues:e.model.get("roles")}),this.uploadViewImage=new i.InputUpload({bindElement:e.ui.inputImage,onSuccess:function(e){console.info("Upload da image concluido...[ "+e+" ]")},onError:function(){console.error("Problemas ao uppar foto1")}}),this.multiselectModalRolesRegion.show(this.multiselectModalRoles),this.uploadImageRegion.show(this.uploadViewImage)},saveAndContinue:function(){this.save(!0)},save:function(e){var t=this,i=t.getModel();this.isValid()&&(this.ui.saveButton.button("loading"),i.save({},{success:function(){n.showSuccessMessage("Usuário salvo com sucesso!"),t.clearForm(),1!=e&&n.goPage("app/users",!0)},error:function(e,i){t.ui.saveButton.button("reset"),n.showErrorMessage("Problema ao salvar registro",i)}}))},getModel:function(){var e=this,t=e.model;return t.set({id:this.ui.inputId.escape(),name:this.ui.inputName.escape(),username:this.ui.inputUsername.escape(),email:this.ui.inputEmail.escape(),password:this.ui.inputPassword.escape(),enable:this.ui.inputEnable.escape(),image:this.ui.inputImage.escape(),roles:e.multiselectModalRoles.getJsonValue()}),t},customClearForm:function(){this.ui.saveButton.button("reset"),this.uploadViewImage.clear(),this.multiselectModalRoles.clear()},changeName:function(){var e=this;n.validateUnique({element:e.ui.inputName,fieldName:"name",fieldDisplayName:"Nome",view:e,collection:s.PageCollection})},changeUsername:function(){var e=this;n.validateUnique({element:e.ui.inputUsername,fieldName:"username",fieldDisplayName:"Username",view:e,collection:s.PageCollection})},changeEmail:function(){var e=this;n.validateUnique({element:e.ui.inputEmail,fieldName:"email",fieldDisplayName:"E-mail",view:e,collection:s.PageCollection})}}));return a}),define("text!views/role/tpl/PageRoleTemplate.html",[],function(){return'<!-- Role´s page generated by JSetup v0.95 :  at 3 de jan de 2022 23:41:20  -->\r\n<div class="panel">\r\n	<div class="panel-heading">\r\n		<h3 class="panel-title">\r\n			<i class="fa fa-search"></i>\r\n			Pesquisa de Papel.\r\n		</h3>\r\n	</div>\r\n	<div class="panel-body">\r\n		<div id="messages_div"></div>\r\n		<form id="formRoleFilter">\r\n			<div class="widget-main ">\r\n				<div class="row">\r\n					<div class="col-xs-6">\r\n						<a href="#app/newRole" class="btn btn-info">\r\n							<i class="fa fa-plus-circle"></i>\r\n							Novo Registro\r\n						</a>\r\n						&nbsp; \r\n						<a href="javascript:void(0)"  class="btn btn-default reset-button" >Limpar</a>\r\n					</div>\r\n					<div class="col-sm-6">\r\n						<div class="input-group">\r\n							<input id="inputAuthority" type="text" class="clearable form-control search-query" placeholder="Pesquisar Papel por Autoridade">\r\n							<span id="query" class="input-group-btn ">\r\n								<button type="button" class="btn btn-default search-button loading-button"  data-loading-text="<i class=\'fa fa-spinner fa-spin \'></i> Pesquisando...">\r\n									<span class="fa fa-search icon-on-right  "></span>\r\n									Pesquisar\r\n								</button>\r\n							</span>\r\n						</div>\r\n						<div>\r\n							<a href="javascript:void(-1)" class="show-advanced-search-button"> Pesquisa avançada... </a>\r\n						</div>\r\n					</div>\r\n				</div>\r\n				<div class="panel advanced-search-form">\r\n					<div class="panel-heading">\r\n						<h5 class="panel-title">Filtros avançados</h5>\r\n					</div>\r\n					<div class="panel-body">\r\n						<!-- inicio dos registros-->							\r\n						<div id="groupInputDescription" class="form-group   ">\r\n							<label class="control-label" for="inputDescription">Descrição</label>\r\n							<input type="text" id="inputDescription" placeholder="Pesquise pelo Descrição"  class="form-control">\r\n						</div>\r\n						<div>\r\n							<button type="button" class="btn btn-info btn-sm search-button loading-button" data-loading-text="<i class=\'fa fa-spinner fa-spin \'></i> Pesquisando...">\r\n								<i class="fa fa-search"></i>\r\n								Pesquisar\r\n							</button>\r\n						</div>\r\n					</div>\r\n				</div>\r\n			</div>\r\n		</form>\r\n		<div class="center">\r\n			<div class="datatable-role"></div>\r\n		</div>\r\n	</div>\r\n</div>\r\n'}),define("views/role/PageRole",["require","utilities/utils","views/components/JSetup","text!views/role/tpl/PageRoleTemplate.html","models/Role"],function(e){var t=e("utilities/utils"),n=e("views/components/JSetup"),i=e("text!views/role/tpl/PageRoleTemplate.html"),o=e("models/Role"),r=n.View.extend({template:_.template(i),regions:{dataTableRoleRegion:".datatable-role"},events:{"click 	.reset-button":"resetRole",keypress:"treatKeypress","click 	.search-button":"searchRole","click  .show-advanced-search-button":"toggleAdvancedForm"},ui:{loadButton:".loading-button",inputAuthority:"#inputAuthority",inputDescription:"#inputDescription",form:"#formRoleFilter",advancedSearchForm:".advanced-search-form"},initialize:function(){this.roles=new o.PageCollection,this.dataTableRole=new n.DataTable({columns:this.getColumns(),collection:this.roles,onFetching:this.startFetch,onFetched:this.stopFetch,view:this})},onShowView:function(){this.dataTableRoleRegion.show(this.dataTableRole),this.dataTableRole.recoveryLastQuery()},searchRole:function(){this.dataTableRole.getFirstPage({success:function(){},error:function(){},filterQueryParams:{authority:this.ui.inputAuthority.escape(),description:this.ui.inputDescription.escape()}})},resetRole:function(){this.ui.form.get(0).reset(),this.roles.reset()},getColumns:function(){var e=this,t=[{name:"authority",sortable:!0,editable:!1,label:"Autoridade",cell:n.CustomStringCell},{name:"description",sortable:!0,editable:!1,label:"Descrição",cell:n.CustomStringCell},{name:"acoes",label:"Ações(Editar, Deletar)",editable:!1,sortable:!1,cell:n.ActionCell.extend({buttons:e.getCellButtons(),context:e})}];return t},getCellButtons:function(){var e=this,t=[];return t.push({id:"edit_button",type:"primary",icon:"fa-pencil",customClass:"auth[edit-role,disable]",hint:"Editar Papel",onClick:e.editModel},{id:"delete_button",type:"danger",customClass:"auth[delete-role, disable]",icon:"fa-trash",hint:"Remover Papel",onClick:e.deleteModel}),t},deleteModel:function(e){var n=this,i=new o.Model({id:e.id});t.confirm({title:"Importante",text:"Tem certeza que deseja remover o registro [ "+e.get("id")+" ] ?",onConfirm:function(){i.destroy({success:function(){n.roles.remove(e),t.alert({title:"Concluido",text:"Registro removido com sucesso!"})}})}})},editModel:function(e){t.goPage("app/editRole/"+e.get("id"))},toggleAdvancedForm:function(){this.ui.advancedSearchForm.slideToggle("slow")},treatKeypress:function(e){t.enterPressed(e)&&(e.preventDefault(),this.searchRole())},startFetch:function(){t.loadButton(this.ui.loadButton)},stopFetch:function(){t.resetButton(this.ui.loadButton)}});return r}),define("text!views/role/tpl/FormRoleTemplate.html",[],function(){return'<!-- Role´s form generated by JSetup v0.95 :  at 3 de jan de 2022 23:41:20  -->\r\n<div class="panel">\r\n	<!--Panel heading-->\r\n	<div class="panel-heading">\r\n		<h3 class="panel-title">Cadastro de Papel</h3>\r\n	</div>\r\n	<!--Panel body-->\r\n	<div class="panel-body">\r\n		<div class="panel">\r\n			<div class="panel-body">\r\n				<div id="messages_div"></div>\r\n				<form role="form" id="formRole">\r\n					<input type="hidden" id="inputId" value="{{id}}">\r\n					<div id="groupInputAuthority" class="form-group   ">\r\n						<label class="control-label" for="inputAuthority">Autoridade  *</label>\r\n						<input type="text"  id="inputAuthority" placeholder=""  data-validation="required"  value="{{authority}}" class="form-control  "  >\r\n					</div>	\r\n					<div id="groupInputDescription" class="form-group   ">\r\n						<label class="control-label" for="inputDescription">Descrição  *</label>\r\n						<input type="text"  id="inputDescription" placeholder=""  data-validation="required"  value="{{description}}" class="form-control  "  >\r\n					</div>	\r\n					<div class="panel">\r\n						<div class="panel-heading">\r\n							<h3 class="panel-title">Groups</h3>\r\n						</div>\r\n						<div class="" >\r\n							<div class="multiselect-groups-container"> </div>\r\n						</div>\r\n					</div>\r\n				</form>\r\n			</div>\r\n		</div>\r\n		<div >\r\n			<div class="clearfix form-actions">\r\n				<a href="javascript:void(-1)" id="save"  class="save btn btn-primary  btn-lg button-saving" data-loading-text="<i class=\'fa fa-spinner fa-spin \'></i> Salvando...">\r\n					<i class="save fa fa-check "></i>\r\n					Salvar\r\n				</a>\r\n				&nbsp; &nbsp; \r\n				<a href="javascript:void(-1)" class="save-continue btn btn-info btn-lg button-saving" data-loading-text="<i class=\'fa fa-spinner fa-spin \'></i> Salvando..."  style="display: {{ id ? \'none\' : \'inline-block\' }} ">\r\n					<i class="fa fa-check "></i>\r\n					Salvar e Continuar\r\n				</a>\r\n				&nbsp; &nbsp; \r\n				<a href="#app/roles" class="go-back-link btn-lg btn btn-light" >\r\n					<i class=" fa fa-undo "></i>\r\n					Voltar para a listagem\r\n				</a>\r\n			</div>\r\n		</div>\r\n	</div>\r\n</div>\r\n'}),define("text!views/modalComponents/tpl/MultiselectModalGroupTemplate.html",[],function(){return'<!-- Group´s multiselect generated by JSetup v0.95 :  at 3 de jan de 2022 23:41:20  -->\r\n<a href="#modalMultiselectGroup" class="btn btn-info" data-toggle="modal">\r\n	<i class="demo-pli-add icon-fw"></i>\r\n	Adiciona\r\n</a>\r\n<div class="datatable-principal bord-btm"></div>\r\n\r\n<div>\r\n	<div class="modal fade" id="modalMultiselectGroup" tabindex="-1" role="dialog" aria-labelledby="modalGroups" aria-hidden="true" style="display: none;">\r\n		<div class="modal-dialog modal-lg">\r\n			<div class="modal-content">\r\n				<div class="modal-header">\r\n					<button type="button" class="close" data-dismiss="modal" aria-label="Close">\r\n						<i class="fa fa-times-circle-o fa-2x"></i>\r\n					</button>\r\n					<h4 class="modal-title" id="myModalLabel">Grupo de Permissões</h4>\r\n				</div>\r\n				<div class="modal-body">\r\n					<div class="panel">\r\n						<div class="panel-body">\r\n						<form id="formSearchGroup">\r\n									<div id="groupInputModalName" class="form-group col-sm-	col-md-	col-lg-  ">\r\n										<label class="control-label" for="inputModalName">Nome</label>\r\n										<input type="text" id="inputModalName" placeholder=""  class="form-control inputModalName">\r\n									</div>\r\n									\r\n									<div id="groupInputModalDescription" class="form-group col-sm-	col-md-	col-lg-  ">\r\n										<label class="control-label" for="inputModalDescription">Descrição</label>\r\n										<input type="text" id="inputModalDescription" placeholder=""  class="form-control inputModalDescription">\r\n									</div>\r\n									\r\n				\r\n							<div class="form-actions spinner" id="spinGroup">\r\n								<button type="button"  class="btn-search btn btn-primary btn-large button-loading" data-loading-text="<i class=\'fa fa-spinner fa-spin \'></i> Pesquisando...">\r\n									<i class="fa fa-search"></i>\r\n									Pesquisar\r\n								</button>\r\n								<button type="button" class="btn-reset btn btn-info btn-large" >\r\n									<i class="fa fa-trash"></i>\r\n									Limpar\r\n								</button>\r\n							</div>\r\n							\r\n						<div class="row">\r\n						<div class="col-xs-12">\r\n							<h3 class="header smaller lighter blue">Resultados</h3>\r\n							<div class="center">\r\n								<div  class="datatable-modal "></div>\r\n							</div>\r\n						</div>\r\n						</div>\r\n						</form>	\r\n									\r\n						</div>\r\n					</div>\r\n				</div>\r\n				<div class="modal-footer">\r\n					<button type="button" class="btn btn-primary" data-dismiss="modal">Pronto</button>\r\n				</div>\r\n			</div>\r\n		</div>\r\n	</div>\r\n</div>'}),define("models/Group",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/backbone-adapter","views/components/JSetup"],function(e){var t=(e("adapters/underscore-adapter"),e("adapters/jquery-adapter"),e("adapters/backbone-adapter"),e("views/components/JSetup")),n=t.BaseModel.extend({urlRoot:"rs/crud/groups",defaults:{id:null,name:"",description:"",roles:null,permissions:null}}),i=t.BaseCollection.extend({model:n,url:"rs/crud/groups"}),o=t.BasePageableCollection.extend({model:n,url:"rs/crud/groups",mode:"server"}),r=o.extend({mode:"client",state:{pageSize:10}});return{Model:n,Collection:i,PageCollection:o,PageClientCollection:r}}),define("views/modalComponents/MultiselectModalGroup",["require","utilities/utils","views/components/JSetup","text!views/modalComponents/tpl/MultiselectModalGroupTemplate.html","models/Group"],function(e){var t=e("utilities/utils"),n=e("views/components/JSetup"),i=e("text!views/modalComponents/tpl/MultiselectModalGroupTemplate.html"),o=e("models/Group"),r=n.View.extend({template:_.template(i),regions:{dataTablePrincipalRegion:".datatable-principal",dataTableModalRegion:".datatable-modal"},events:{"click .btn-search":"search","click .btn-reset":"clearModal",keypress:"treatKeypress"},ui:{loadButton:".button-loading",inputModalName:".inputModalName",inputModalDescription:".inputModalDescription",form:"#formSearchGroup",modalScreen:".modal"},treatKeypress:function(e){t.enterPressed(e)&&(e.preventDefault(),this.search())},initialize:function(e){this.principalCollection=new o.PageClientCollection(e.initialValues),this.modalCollection=new o.PageCollection,this.modalCollection.on("fetching",this.startFetch,this),this.modalCollection.on("fetched",this.stopFetch,this),this.modalCollection.on("backgrid:selected",this.selectModel,this),this.dataTablePrincipal=new n.DataTable({columns:this.getPrincipalColumns(),collection:this.principalCollection,gridClass:" table table-striped"}),this.dataTableModal=new n.DataTable({columns:this.getModalColumns(),collection:this.modalCollection})
},onShowView:function(){var e=this;e.dataTablePrincipalRegion.show(e.dataTablePrincipal),e.dataTableModalRegion.show(e.dataTableModal),e.ui.modalScreen.on("show.bs.modal",function(){e.search()})},search:function(){this.modalCollection.filterQueryParams={name:this.ui.inputModalName.escape(),description:this.ui.inputModalDescription.escape()},this.modalCollection.getFirstPage({resetState:!0,success:function(){},error:function(e,t,n){console.error(e,t,n)}})},getJsonValue:function(){return this.principalCollection&&this.principalCollection.fullCollection&&this.principalCollection.fullCollection.toJSON()},getValue:function(){return this.principalCollection&&this.principalCollection.fullCollection},setValue:function(e){this.principalCollection=e},clear:function(){this.$el.find("input[type=checkbox]").prop("checked",!1),this.principalCollection.reset()},clearModal:function(){this.$el.find("input[type=checkbox]").prop("checked",!1),this.ui.inputModalName.val(""),this.ui.inputModalDescription.val(""),this.modalCollection.reset()},selectModel:function(e,t){t?e.get&&e.get("id")&&this.principalCollection.add(e):this.principalCollection.remove(e)},endFetch:function(){var e=this;this.ui.searchButton.button("reset"),this.modalCollection.each(function(t){e.principalCollection.findWhere({id:t.get("id")})&&t.trigger("backgrid:select",t,!0)})},getPrincipalColumns:function(){var e=this,t=[{name:"name",sortable:!1,editable:!1,label:"Nome",cell:n.CustomStringCell},{name:"description",sortable:!1,editable:!1,label:"Descrição",cell:n.CustomStringCell},{name:"acoes",label:"Deletar",editable:!1,sortable:!1,cell:n.ActionCell.extend({buttons:e.getCellPrincipalButtons(),context:e})}];return t},getCellPrincipalButtons:function(){var e=this,t=[];return t.push({id:"delete_button",type:"danger",icon:"fa-trash",hint:"Remover Grupo de Permissões",onClick:e.deleteModel}),t},deleteModel:function(e){var n=this;t.confirm({title:"Importante",text:"Tem certeza que deseja remover o registro [ "+e.get("id")+" ] ?",onConfirm:function(){n.principalCollection.remove(e),t.alert({title:"Concluido",text:"Registro removido com sucesso!"})}})},getModalColumns:function(){var e=[{name:"",cell:"select-row",headerCell:"select-all"},{name:"name",sortable:!0,editable:!1,label:"Nome",cell:n.CustomStringCell},{name:"description",sortable:!0,editable:!1,label:"Descrição",cell:n.CustomStringCell}];return e},startFetch:function(){this.ui.loadButton.button("loading")},stopFetch:function(){var e=this;this.ui.loadButton.button("reset"),this.modalCollection.each(function(t){e.principalCollection.findWhere({id:t.get("id")})&&t.trigger("backgrid:select",t,!0)}),t.scrollDownModal()}});return r}),define("views/role/FormRole",["require","adapters/underscore-adapter","adapters/jquery-adapter","utilities/utils","views/components/JSetup","text!views/role/tpl/FormRoleTemplate.html","views/modalComponents/MultiselectModalGroup","models/Role","models/Group"],function(e){var t=e("adapters/underscore-adapter"),n=(e("adapters/jquery-adapter"),e("utilities/utils")),i=e("views/components/JSetup"),o=e("text!views/role/tpl/FormRoleTemplate.html"),r=e("views/modalComponents/MultiselectModalGroup"),s=e("models/Role"),a=(e("models/Group"),i.View.extend({template:t.template(o),regions:{multiselectModalGroupsRegion:".multiselect-groups-container"},events:{"click 	.save":"save","click 	.save-continue":"saveAndContinue","change  #inputAuthority":"changeAuthority","change  #inputDescription":"changeDescription"},ui:{inputId:"#inputId",saveButton:".button-saving",inputAuthority:"#inputAuthority",inputDescription:"#inputDescription",form:"#formRole"},initialize:function(){},onShowView:function(){var e=this;this.multiselectModalGroups=new r({initialValues:e.model.get("groups")}),this.multiselectModalGroupsRegion.show(this.multiselectModalGroups)},saveAndContinue:function(){this.save(!0)},save:function(e){var t=this,i=t.getModel();this.isValid()&&(this.ui.saveButton.button("loading"),i.save({},{success:function(){n.showSuccessMessage("Papel salvo com sucesso!"),t.clearForm(),1!=e&&n.goPage("app/roles",!0)},error:function(e,i){t.ui.saveButton.button("reset"),n.showErrorMessage("Problema ao salvar registro",i)}}))},getModel:function(){var e=this,t=e.model;return t.set({id:this.ui.inputId.escape(),authority:this.ui.inputAuthority.escape(),description:this.ui.inputDescription.escape(),groups:e.multiselectModalGroups.getJsonValue()}),t},customClearForm:function(){this.ui.saveButton.button("reset"),this.multiselectModalGroups.clear()},changeAuthority:function(){var e=this;n.validateUnique({element:e.ui.inputAuthority,fieldName:"authority",fieldDisplayName:"Autoridade",view:e,collection:s.PageCollection})},changeDescription:function(){var e=this;n.validateUnique({element:e.ui.inputDescription,fieldName:"description",fieldDisplayName:"Descrição",view:e,collection:s.PageCollection})}}));return a}),define("text!views/permission/tpl/PagePermissionTemplate.html",[],function(){return'<!-- Permission´s page generated by JSetup v0.95 :  at 3 de jan de 2022 23:41:20  -->\r\n<div class="panel">\r\n	<div class="panel-heading">\r\n		<h3 class="panel-title">\r\n			<i class="fa fa-search"></i>\r\n			Pesquisa de Permissão.\r\n		</h3>\r\n	</div>\r\n	<div class="panel-body">\r\n		<div id="messages_div"></div>\r\n		<form id="formPermissionFilter">\r\n			<div class="widget-main ">\r\n				<div class="row">\r\n					<div class="col-xs-6">\r\n						<a href="#app/newPermission" class="btn btn-info">\r\n							<i class="fa fa-plus-circle"></i>\r\n							Novo Registro\r\n						</a>\r\n						&nbsp; \r\n						<a href="javascript:void(0)"  class="btn btn-default reset-button" >Limpar</a>\r\n					</div>\r\n					<div class="col-sm-6">\r\n						<div class="input-group">\r\n							<input id="inputName" type="text" class="clearable form-control search-query" placeholder="Pesquisar Permissão por Nome">\r\n							<span id="query" class="input-group-btn ">\r\n								<button type="button" class="btn btn-default search-button loading-button"  data-loading-text="<i class=\'fa fa-spinner fa-spin \'></i> Pesquisando...">\r\n									<span class="fa fa-search icon-on-right  "></span>\r\n									Pesquisar\r\n								</button>\r\n							</span>\r\n						</div>\r\n						<div>\r\n							<a href="javascript:void(-1)" class="show-advanced-search-button"> Pesquisa avançada... </a>\r\n						</div>\r\n					</div>\r\n				</div>\r\n				<div class="panel advanced-search-form">\r\n					<div class="panel-heading">\r\n						<h5 class="panel-title">Filtros avançados</h5>\r\n					</div>\r\n					<div class="panel-body">\r\n						<!-- inicio dos registros-->							\r\n						<div id="groupInputDescription" class="form-group   ">\r\n							<label class="control-label" for="inputDescription">Descrição</label>\r\n							<input type="text" id="inputDescription" placeholder="Pesquise pelo Descrição"  class="form-control">\r\n						</div>\r\n						<div id="groupInputOperation" class="form-group   ">\r\n							<label class="control-label" for="inputOperation">Operação</label>\r\n							<input type="text" id="inputOperation" placeholder="Pesquise pelo Operação"  class="form-control">\r\n						</div>\r\n						<div id="groupInputItemContainer" class="form-group   ">\r\n							<label class="control-label" for="inputItem">Item</label>\r\n							<div id="groupInputItem" class="input-group">\r\n								<input id="inputItemId" type="hidden" class="form-control append-left"  />\r\n								<input id="inputItemName" placeholder="Pesquise pelo Item"  type="text" class="form-control append-left" />\r\n								<div class="input-group-addon append-right search-item-modal" data-toggle="modal">\r\n									<span class="fa fa-search"></span>\r\n								</div>\r\n							</div>\r\n						</div>		\r\n						<div>\r\n							<button type="button" class="btn btn-info btn-sm search-button loading-button" data-loading-text="<i class=\'fa fa-spinner fa-spin \'></i> Pesquisando...">\r\n								<i class="fa fa-search"></i>\r\n								Pesquisar\r\n							</button>\r\n						</div>\r\n					</div>\r\n				</div>\r\n			</div>\r\n		</form>\r\n		<div class="center">\r\n			<div class="datatable-permission"></div>\r\n		</div>\r\n	</div>\r\n</div>\r\n				<div class=\'modal-item-container\'></div>\r\n'}),define("models/Item",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/backbone-adapter","views/components/JSetup"],function(e){var t=(e("adapters/underscore-adapter"),e("adapters/jquery-adapter"),e("adapters/backbone-adapter"),e("views/components/JSetup")),n=t.BaseModel.extend({urlRoot:"rs/crud/items",defaults:{id:null,name:"",itemType:"",identifier:"",description:"",permissions:null}}),i=t.BaseCollection.extend({model:n,url:"rs/crud/items"}),o=t.BasePageableCollection.extend({model:n,url:"rs/crud/items",mode:"server"}),r=o.extend({mode:"client",state:{pageSize:10}});return{Model:n,Collection:i,PageCollection:o,PageClientCollection:r}}),define("text!views/modalComponents/tpl/ModalItemTemplate.html",[],function(){return'<!-- Item´s modal generated by JSetup v0.95 :  at 3 de jan de 2022 23:41:20  -->\r\n<div class="modal fade" id="dialogItem" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">\r\n	<div class="modal-dialog modal-lg">\r\n		<div class="modal-content">\r\n			<div class="modal-header">\r\n				<button type="button" class="close" data-dismiss="modal">\r\n					<i class="fa fa-times-circle-o fa-2x"></i>\r\n					<span class="sr-only">Close</span>\r\n				</button>\r\n				<h4 class="modal-title" id="myModalLabel">Pesquisa de Item</h4>\r\n			</div>\r\n			<div class="modal-body">\r\n				<div class="panel">\r\n					<div class="panel-body">\r\n						<form id="formSearchItem">\r\n								<div id="groupInputModalName" class="form-group col-sm-	col-md-	col-lg-  ">\r\n									<label class="control-label" for="inputModalName">Nome</label>\r\n									<input type="text" id="inputModalName" placeholder=""  class="form-control inputModalName">\r\n								</div>\r\n							\r\n								<div id="groupInputModalItemType" class="form-group col-sm-	col-md-	col-lg-  ">\r\n									<label class="control-label" for="inputModalItemType">Tipo</label>\r\n									<input type="text" id="inputModalItemType" placeholder=""  class="form-control inputModalItemType">\r\n								</div>\r\n							\r\n								<div id="groupInputModalIdentifier" class="form-group col-sm-	col-md-	col-lg-  ">\r\n									<label class="control-label" for="inputModalIdentifier">Identificador</label>\r\n									<input type="text" id="inputModalIdentifier" placeholder=""  class="form-control inputModalIdentifier">\r\n								</div>\r\n							\r\n								<div id="groupInputModalDescription" class="form-group col-sm-	col-md-	col-lg-  ">\r\n									<label class="control-label" for="inputModalDescription">Descrição</label>\r\n									<input type="text" id="inputModalDescription" placeholder=""  class="form-control inputModalDescription">\r\n								</div>\r\n							\r\n		\r\n								<div class="form-actions spinner" id="spinItem">\r\n									<button type="button" id="btnSearchItem" class="btnSearchItem btn btn-primary btn-large button-loading" data-loading-text="<i class=\'fa fa-spinner fa-spin \'></i> Pesquisando...">\r\n										<i class="fa fa-search"></i>\r\n										Pesquisar\r\n									</button>\r\n									<button type="button" id="btnClearItem" class="btnClearItem btn btn-info btn-large" >\r\n										<i class="fa fa-trash"></i>\r\n										Limpar\r\n									</button>\r\n								</div>\r\n					\r\n								<div class="row">\r\n									<div class="col-xs-12">\r\n										<h3 class="header smaller lighter blue">Resultados</h3>\r\n										<div class="center">\r\n										<div  class="datatable-item "></div>\r\n									</div>\r\n								</div>\r\n							</div>\r\n						</form>				\r\n					</div>\r\n				</div>\r\n			</div>\r\n		</div>\r\n	</div>\r\n</div>\r\n\r\n\r\n'}),define("views/modalComponents/ModalItem",["require","utilities/utils","views/components/JSetup","models/Item","text!views/modalComponents/tpl/ModalItemTemplate.html"],function(e){var t=e("utilities/utils"),n=e("views/components/JSetup"),i=e("models/Item"),o=e("text!views/modalComponents/tpl/ModalItemTemplate.html"),r=n.View.extend({template:_.template(o),regions:{dataTableItemRegion:".datatable-item"},events:{"click .btnSearchItem":"searchItem","click .btnClearItem":"clearModal","click tr":"selectRow",keypress:"treatKeypress"},ui:{loadButton:".button-loading",inputModalName:".inputModalName",inputModalItemType:".inputModalItemType",inputModalIdentifier:".inputModalIdentifier",inputModalDescription:".inputModalDescription",form:"#formSearchItem",modalScreen:".modal"},treatKeypress:function(e){t.enterPressed(e)&&(e.preventDefault(),this.searchItem())},initialize:function(e){this.onSelectModel=e.onSelectModel,this.suggestConfig=e.suggestConfig,this.itemCollection=new i.PageCollection,this.itemCollection.state.pageSize=5,this.itemCollection.on("fetching",this.startFetch,this),this.itemCollection.on("fetched",this.stopFetch,this),this.dataTableItem=new n.DataTable({row:n.RowClick,columns:this.getColumns(),collection:this.itemCollection}),this.setValue(e.initialValue)},onShowView:function(){var e=this;e.dataTableItemRegion.show(this.dataTableItem),e.suggestConfig&&(e.suggestConfig.collection=e.itemCollection,e.suggestConfig.onSelect=function(t){var i=new n.BaseModel(t);e.onSelectModel(i),e.modelSelect=t?i:null},t.configureSuggest(e.suggestConfig),e.suggestConfig.field.change(function(){e.suggestConfig.field.val()||e.clear()}))},searchItem:function(){this.itemCollection.filterQueryParams={name:this.ui.inputModalName.escape(),itemType:this.ui.inputModalItemType.escape(),identifier:this.ui.inputModalIdentifier.escape(),description:this.ui.inputModalDescription.escape()},this.itemCollection.getFirstPage({resetState:!0,success:function(){},error:function(e,t,n){console.error(e,t,n)}})},selectRow:function(e){var n=t.getWrappedModel(e);n&&(this.modelSelect=n,this.onSelectModel(n))},getJsonValue:function(){return _.isEmpty(this.modelSelect)&&_.isEmpty(this.jsonValue)?null:this.modelSelect?this.modelSelect.toJSON():this.jsonValue},getRawValue:function(){var e=this.getJsonValue();return e?e.id:null},getValue:function(){return this.modelSelect},setValue:function(e){this.jsonValue=e},getColumns:function(){var e=[{name:"name",sortable:!0,editable:!1,label:"Nome",cell:n.CustomStringCell},{name:"itemType",sortable:!0,editable:!1,label:"Tipo",cell:n.CustomStringCell},{name:"identifier",sortable:!0,editable:!1,label:"Identificador",cell:n.CustomStringCell},{name:"description",sortable:!0,editable:!1,label:"Descrição",cell:n.CustomStringCell}];return e},hidePage:function(){this.ui.modalScreen.modal("hide")},showPage:function(){this.clearModal(),this.ui.modalScreen.modal("show"),this.searchItem()},clear:function(){this.clearModal()},clearModal:function(){this.modelSelect=null,this.jsonValue=null,this.itemCollection.reset(),t.scrollUpModal(),this.ui.form.get(0).reset()},stopFetch:function(){this.ui.loadButton.button("reset"),t.stopSpinner(),t.scrollDownModal()},startFetch:function(){this.ui.loadButton.button("loading"),t.showSpinner("spinItem")}});return r}),define("models/Permission",["require","adapters/underscore-adapter","adapters/jquery-adapter","adapters/backbone-adapter","views/components/JSetup"],function(e){var t=(e("adapters/underscore-adapter"),e("adapters/jquery-adapter"),e("adapters/backbone-adapter"),e("views/components/JSetup")),n=t.BaseModel.extend({urlRoot:"rs/crud/permissions",defaults:{id:null,name:"",description:"",operation:"",tagReminder:"",roles:null,groups:null,item:null}}),i=t.BaseCollection.extend({model:n,url:"rs/crud/permissions"}),o=t.BasePageableCollection.extend({model:n,url:"rs/crud/permissions",mode:"server"}),r=o.extend({mode:"client",state:{pageSize:10}});return{Model:n,Collection:i,PageCollection:o,PageClientCollection:r}}),define("views/permission/PagePermission",["require","utilities/utils","views/components/JSetup","text!views/permission/tpl/PagePermissionTemplate.html","views/modalComponents/ModalItem","models/Permission"],function(e){var t=e("utilities/utils"),n=e("views/components/JSetup"),i=e("text!views/permission/tpl/PagePermissionTemplate.html"),o=e("views/modalComponents/ModalItem"),r=e("models/Permission"),s=n.View.extend({template:_.template(i),regions:{dataTablePermissionRegion:".datatable-permission",modalItemRegion:".modal-item-container"},events:{"click 	.reset-button":"resetPermission","click .search-item-modal":"showModalItem",keypress:"treatKeypress","click 	.search-button":"searchPermission","click  .show-advanced-search-button":"toggleAdvancedForm"},ui:{loadButton:".loading-button",inputName:"#inputName",inputDescription:"#inputDescription",inputOperation:"#inputOperation",inputItemId:"#inputItemId",inputItemName:"#inputItemName",form:"#formPermissionFilter",advancedSearchForm:".advanced-search-form"},initialize:function(){var e=this;this.permissions=new r.PageCollection,this.dataTablePermission=new n.DataTable({columns:this.getColumns(),collection:this.permissions,onFetching:this.startFetch,onFetched:this.stopFetch,view:this}),this.modalItem=new o({onSelectModel:function(t){e.onSelectItem(t)}})},onShowView:function(){this.dataTablePermissionRegion.show(this.dataTablePermission),this.modalItemRegion.show(this.modalItem),this.dataTablePermission.recoveryLastQuery()},searchPermission:function(){this.dataTablePermission.getFirstPage({success:function(){},error:function(){},filterQueryParams:{name:this.ui.inputName.escape(),description:this.ui.inputDescription.escape(),operation:this.ui.inputOperation.escape(),item:this.modalItem.getRawValue()}})},resetPermission:function(){this.ui.form.get(0).reset(),this.permissions.reset(),this.modalItem.clear()},getColumns:function(){var e=this,t=[{name:"name",sortable:!0,editable:!1,label:"Nome",cell:n.CustomStringCell},{name:"description",sortable:!0,editable:!1,label:"Descrição",cell:n.CustomStringCell},{name:"operation",sortable:!0,editable:!1,label:"Operação",cell:n.CustomStringCell},{name:"item.name",editable:!1,sortable:!0,label:"Item",cell:n.CustomStringCell},{name:"acoes",label:"Ações(Editar, Deletar)",editable:!1,sortable:!1,cell:n.ActionCell.extend({buttons:e.getCellButtons(),context:e})}];return t},getCellButtons:function(){var e=this,t=[];return t.push({id:"edit_button",type:"primary",icon:"fa-pencil",customClass:"auth[edit-permission,disable]",hint:"Editar Permissão",onClick:e.editModel},{id:"delete_button",type:"danger",customClass:"auth[delete-permission, disable]",icon:"fa-trash",hint:"Remover Permissão",onClick:e.deleteModel}),t},deleteModel:function(e){var n=this,i=new r.Model({id:e.id});t.confirm({title:"Importante",text:"Tem certeza que deseja remover o registro [ "+e.get("id")+" ] ?",onConfirm:function(){i.destroy({success:function(){n.permissions.remove(e),t.alert({title:"Concluido",text:"Registro removido com sucesso!"})}})}})},editModel:function(e){t.goPage("app/editPermission/"+e.get("id"))},showModalItem:function(){this.modalItem.showPage()},onSelectItem:function(e){this.modalItem.hidePage(),this.ui.inputItemId.val(e.get("id")),this.ui.inputItemName.val(e.get("name"))},toggleAdvancedForm:function(){this.ui.advancedSearchForm.slideToggle("slow")},treatKeypress:function(e){t.enterPressed(e)&&(e.preventDefault(),this.searchPermission())},startFetch:function(){t.loadButton(this.ui.loadButton)},stopFetch:function(){t.resetButton(this.ui.loadButton)}});return s}),define("text!views/permission/tpl/FormPermissionTemplate.html",[],function(){return'<!-- Permission´s form generated by JSetup v0.95 :  at 3 de jan de 2022 23:41:20  -->\r\n<div class="panel">\r\n	<!--Panel heading-->\r\n	<div class="panel-heading">\r\n		<h3 class="panel-title">Cadastro de Permissão</h3>\r\n	</div>\r\n	<!--Panel body-->\r\n	<div class="panel-body">\r\n		<div class="panel">\r\n			<div class="panel-body">\r\n				<div id="messages_div"></div>\r\n				<form role="form" id="formPermission">\r\n					<input type="hidden" id="inputId" value="{{id}}">\r\n					<div id="groupInputName" class="form-group   ">\r\n						<label class="control-label" for="inputName">Nome  *</label>\r\n						<input type="text"  id="inputName" placeholder=""  data-validation="required"  value="{{name}}" class="form-control  "  >\r\n					</div>	\r\n					<div id="groupInputDescription" class="form-group   ">\r\n						<label class="control-label" for="inputDescription">Descrição  *</label>\r\n						<input type="text"  id="inputDescription" placeholder=""  data-validation="required"  value="{{description}}" class="form-control  "  >\r\n					</div>	\r\n					<div id="groupInputOperation" class="form-group   ">\r\n						<label class="control-label" for="inputOperation">Operação  *</label>\r\n						<input type="text"  id="inputOperation" placeholder=""  data-validation="required"  value="{{operation}}" class="form-control  "  >\r\n					</div>	\r\n					<div id="groupInputTagReminder" class="form-group   ">\r\n						<label class="control-label" for="inputTagReminder">Marcadores  *</label>\r\n						<input type="text"  id="inputTagReminder" placeholder=""  data-validation="required"  value="{{tagReminder}}" class="form-control  "  >\r\n					</div>	\r\n					<div id="groupInputItemContainer" class="form-group   ">\r\n						<label class="control-label" for="inputItem">Item</label>\r\n						<div id="groupInputItem" class="input-group">\r\n							<input id="inputItemId" type="hidden" class="form-control append-left" value="{{item && item.id}}" />\r\n							<input id="inputItemName" placeholder="Escolha um Item"  type="text" class="form-control append-left" value="{{item && item.name}}" />\r\n							<div class="input-group-addon append-right search-item-modal"  data-toggle="modal">\r\n								<span class="fa fa-search"></span>\r\n							</div>\r\n						</div>\r\n					</div>		\r\n				</form>\r\n			</div>\r\n		</div>\r\n		<div >\r\n			<div class="clearfix form-actions">\r\n				<a href="javascript:void(-1)" id="save"  class="save btn btn-primary  btn-lg button-saving" data-loading-text="<i class=\'fa fa-spinner fa-spin \'></i> Salvando...">\r\n					<i class="save fa fa-check "></i>\r\n					Salvar\r\n				</a>\r\n				&nbsp; &nbsp; \r\n				<a href="javascript:void(-1)" class="save-continue btn btn-info btn-lg button-saving" data-loading-text="<i class=\'fa fa-spinner fa-spin \'></i> Salvando..."  style="display: {{ id ? \'none\' : \'inline-block\' }} ">\r\n					<i class="fa fa-check "></i>\r\n					Salvar e Continuar\r\n				</a>\r\n				&nbsp; &nbsp; \r\n				<a href="#app/permissions" class="go-back-link btn-lg btn btn-light" >\r\n					<i class=" fa fa-undo "></i>\r\n					Voltar para a listagem\r\n				</a>\r\n			</div>\r\n		</div>\r\n	</div>\r\n</div>\r\n<div class=\'modal-item-container\'></div>\r\n'}),define("views/permission/FormPermission",["require","adapters/underscore-adapter","adapters/jquery-adapter","utilities/utils","views/components/JSetup","text!views/permission/tpl/FormPermissionTemplate.html","views/modalComponents/ModalItem","models/Permission"],function(e){var t=e("adapters/underscore-adapter"),n=(e("adapters/jquery-adapter"),e("utilities/utils")),i=e("views/components/JSetup"),o=e("text!views/permission/tpl/FormPermissionTemplate.html"),r=e("views/modalComponents/ModalItem"),s=e("models/Permission"),a=i.View.extend({template:t.template(o),regions:{modalItemRegion:".modal-item-container"},events:{"click 	.save":"save","click 	.save-continue":"saveAndContinue","click .search-item-modal":"showModalItem","change  #inputName":"changeName"},ui:{inputId:"#inputId",saveButton:".button-saving",inputName:"#inputName",inputDescription:"#inputDescription",inputOperation:"#inputOperation",inputTagReminder:"#inputTagReminder",inputItemId:"#inputItemId",inputItemName:"#inputItemName",form:"#formPermission"},initialize:function(){},onShowView:function(){var e=this;this.modalItem=new r({onSelectModel:function(t){e.onSelectItem(t)},suggestConfig:{showValue:"name",field:e.ui.inputItemName},initialValue:e.model.get("item")}),this.modalItemRegion.show(this.modalItem)},saveAndContinue:function(){this.save(!0)},save:function(e){var t=this,i=t.getModel();this.isValid()&&(this.ui.saveButton.button("loading"),i.save({},{success:function(){n.showSuccessMessage("Permissão salvo com sucesso!"),t.clearForm(),1!=e&&n.goPage("app/permissions",!0)},error:function(e,i){t.ui.saveButton.button("reset"),n.showErrorMessage("Problema ao salvar registro",i)}}))},getModel:function(){var e=this,t=e.model;return t.set({id:this.ui.inputId.escape(),name:this.ui.inputName.escape(),description:this.ui.inputDescription.escape(),operation:this.ui.inputOperation.escape(),tagReminder:this.ui.inputTagReminder.escape(),item:e.modalItem.getJsonValue()}),t},customClearForm:function(){this.ui.saveButton.button("reset"),this.modalItem.clear()},showModalItem:function(){this.modalItem.showPage()},onSelectItem:function(e){this.modalItem.hidePage(),this.ui.inputItemId.val(e.get("id")),this.ui.inputItemName.val(e.get("name"))},changeName:function(){var e=this;n.validateUnique({element:e.ui.inputName,fieldName:"name",fieldDisplayName:"Nome",view:e,collection:s.PageCollection})}});return a}),define("text!views/group/tpl/PageGroupTemplate.html",[],function(){return'<!-- Group´s page generated by JSetup v0.95 :  at 3 de jan de 2022 23:41:20  -->\r\n<div class="panel">\r\n	<div class="panel-heading">\r\n		<h3 class="panel-title">\r\n			<i class="fa fa-search"></i>\r\n			Pesquisa de Grupo de Permissões.\r\n		</h3>\r\n	</div>\r\n	<div class="panel-body">\r\n		<div id="messages_div"></div>\r\n		<form id="formGroupFilter">\r\n			<div class="widget-main ">\r\n				<div class="row">\r\n					<div class="col-xs-6">\r\n						<a href="#app/newGroup" class="btn btn-info">\r\n							<i class="fa fa-plus-circle"></i>\r\n							Novo Registro\r\n						</a>\r\n						&nbsp; \r\n						<a href="javascript:void(0)"  class="btn btn-default reset-button" >Limpar</a>\r\n					</div>\r\n					<div class="col-sm-6">\r\n						<div class="input-group">\r\n							<input id="inputName" type="text" class="clearable form-control search-query" placeholder="Pesquisar Grupo de Permissões por Nome">\r\n							<span id="query" class="input-group-btn ">\r\n								<button type="button" class="btn btn-default search-button loading-button"  data-loading-text="<i class=\'fa fa-spinner fa-spin \'></i> Pesquisando...">\r\n									<span class="fa fa-search icon-on-right  "></span>\r\n									Pesquisar\r\n								</button>\r\n							</span>\r\n						</div>\r\n						<div>\r\n							<a href="javascript:void(-1)" class="show-advanced-search-button"> Pesquisa avançada... </a>\r\n						</div>\r\n					</div>\r\n				</div>\r\n				<div class="panel advanced-search-form">\r\n					<div class="panel-heading">\r\n						<h5 class="panel-title">Filtros avançados</h5>\r\n					</div>\r\n					<div class="panel-body">\r\n						<!-- inicio dos registros-->							\r\n						<div id="groupInputDescription" class="form-group   ">\r\n							<label class="control-label" for="inputDescription">Descrição</label>\r\n							<input type="text" id="inputDescription" placeholder="Pesquise pelo Descrição"  class="form-control">\r\n						</div>\r\n						<div>\r\n							<button type="button" class="btn btn-info btn-sm search-button loading-button" data-loading-text="<i class=\'fa fa-spinner fa-spin \'></i> Pesquisando...">\r\n								<i class="fa fa-search"></i>\r\n								Pesquisar\r\n							</button>\r\n						</div>\r\n					</div>\r\n				</div>\r\n			</div>\r\n		</form>\r\n		<div class="center">\r\n			<div class="datatable-group"></div>\r\n		</div>\r\n	</div>\r\n</div>\r\n'}),define("views/group/PageGroup",["require","utilities/utils","views/components/JSetup","text!views/group/tpl/PageGroupTemplate.html","models/Group"],function(e){var t=e("utilities/utils"),n=e("views/components/JSetup"),i=e("text!views/group/tpl/PageGroupTemplate.html"),o=e("models/Group"),r=n.View.extend({template:_.template(i),regions:{dataTableGroupRegion:".datatable-group"},events:{"click 	.reset-button":"resetGroup",keypress:"treatKeypress","click 	.search-button":"searchGroup","click  .show-advanced-search-button":"toggleAdvancedForm"},ui:{loadButton:".loading-button",inputName:"#inputName",inputDescription:"#inputDescription",form:"#formGroupFilter",advancedSearchForm:".advanced-search-form"},initialize:function(){this.groups=new o.PageCollection,this.dataTableGroup=new n.DataTable({columns:this.getColumns(),collection:this.groups,onFetching:this.startFetch,onFetched:this.stopFetch,view:this})},onShowView:function(){this.dataTableGroupRegion.show(this.dataTableGroup),this.dataTableGroup.recoveryLastQuery()},searchGroup:function(){this.dataTableGroup.getFirstPage({success:function(){},error:function(){},filterQueryParams:{name:this.ui.inputName.escape(),description:this.ui.inputDescription.escape()}})},resetGroup:function(){this.ui.form.get(0).reset(),this.groups.reset()},getColumns:function(){var e=this,t=[{name:"name",sortable:!0,editable:!1,label:"Nome",cell:n.CustomStringCell},{name:"description",sortable:!0,editable:!1,label:"Descrição",cell:n.CustomStringCell},{name:"acoes",label:"Ações(Editar, Deletar)",editable:!1,sortable:!1,cell:n.ActionCell.extend({buttons:e.getCellButtons(),context:e})}];return t},getCellButtons:function(){var e=this,t=[];return t.push({id:"edit_button",type:"primary",icon:"fa-pencil",customClass:"auth[edit-group,disable]",hint:"Editar Grupo de Permissões",onClick:e.editModel},{id:"delete_button",type:"danger",customClass:"auth[delete-group, disable]",icon:"fa-trash",hint:"Remover Grupo de Permissões",onClick:e.deleteModel}),t},deleteModel:function(e){var n=this,i=new o.Model({id:e.id});t.confirm({title:"Importante",text:"Tem certeza que deseja remover o registro [ "+e.get("id")+" ] ?",onConfirm:function(){i.destroy({success:function(){n.groups.remove(e),t.alert({title:"Concluido",text:"Registro removido com sucesso!"})}})}})},editModel:function(e){t.goPage("app/editGroup/"+e.get("id"))},toggleAdvancedForm:function(){this.ui.advancedSearchForm.slideToggle("slow")},treatKeypress:function(e){t.enterPressed(e)&&(e.preventDefault(),this.searchGroup())},startFetch:function(){t.loadButton(this.ui.loadButton)},stopFetch:function(){t.resetButton(this.ui.loadButton)}});return r}),define("text!views/group/tpl/FormGroupTemplate.html",[],function(){return'<!-- Group´s form generated by JSetup v0.95 :  at 3 de jan de 2022 23:41:20  -->\r\n<div class="panel">\r\n	<!--Panel heading-->\r\n	<div class="panel-heading">\r\n		<h3 class="panel-title">Cadastro de Grupo de Permissões</h3>\r\n	</div>\r\n	<!--Panel body-->\r\n	<div class="panel-body">\r\n		<div class="panel">\r\n			<div class="panel-body">\r\n				<div id="messages_div"></div>\r\n				<form role="form" id="formGroup">\r\n					<input type="hidden" id="inputId" value="{{id}}">\r\n					<div id="groupInputName" class="form-group   ">\r\n						<label class="control-label" for="inputName">Nome  *</label>\r\n						<input type="text"  id="inputName" placeholder=""  data-validation="required"  value="{{name}}" class="form-control  "  >\r\n					</div>	\r\n					<div id="groupInputDescription" class="form-group   ">\r\n						<label class="control-label" for="inputDescription">Descrição  *</label>\r\n						<input type="text"  id="inputDescription" placeholder=""  data-validation="required"  value="{{description}}" class="form-control  "  >\r\n					</div>	\r\n					<div class="panel">\r\n						<div class="panel-heading">\r\n							<h3 class="panel-title">Permissões</h3>\r\n						</div>\r\n						<div class="" >\r\n							<div class="multiselect-permissions-container"> </div>\r\n						</div>\r\n					</div>\r\n				</form>\r\n			</div>\r\n		</div>\r\n		<div >\r\n			<div class="clearfix form-actions">\r\n				<a href="javascript:void(-1)" id="save"  class="save btn btn-primary  btn-lg button-saving" data-loading-text="<i class=\'fa fa-spinner fa-spin \'></i> Salvando...">\r\n					<i class="save fa fa-check "></i>\r\n					Salvar\r\n				</a>\r\n				&nbsp; &nbsp; \r\n				<a href="javascript:void(-1)" class="save-continue btn btn-info btn-lg button-saving" data-loading-text="<i class=\'fa fa-spinner fa-spin \'></i> Salvando..."  style="display: {{ id ? \'none\' : \'inline-block\' }} ">\r\n					<i class="fa fa-check "></i>\r\n					Salvar e Continuar\r\n				</a>\r\n				&nbsp; &nbsp; \r\n				<a href="#app/groups" class="go-back-link btn-lg btn btn-light" >\r\n					<i class=" fa fa-undo "></i>\r\n					Voltar para a listagem\r\n				</a>\r\n			</div>\r\n		</div>\r\n	</div>\r\n</div>\r\n'
}),define("text!views/modalComponents/tpl/MultiselectModalPermissionTemplate.html",[],function(){return'<!-- Permission´s multiselect generated by JSetup v0.95 :  at 3 de jan de 2022 23:41:20  -->\r\n<a href="#modalMultiselectPermission" class="btn btn-info" data-toggle="modal">\r\n	<i class="demo-pli-add icon-fw"></i>\r\n	Adiciona\r\n</a>\r\n<div class="datatable-principal bord-btm"></div>\r\n\r\n<div>\r\n	<div class="modal fade" id="modalMultiselectPermission" tabindex="-1" role="dialog" aria-labelledby="modalPermissions" aria-hidden="true" style="display: none;">\r\n		<div class="modal-dialog modal-lg">\r\n			<div class="modal-content">\r\n				<div class="modal-header">\r\n					<button type="button" class="close" data-dismiss="modal" aria-label="Close">\r\n						<i class="fa fa-times-circle-o fa-2x"></i>\r\n					</button>\r\n					<h4 class="modal-title" id="myModalLabel">Permissão</h4>\r\n				</div>\r\n				<div class="modal-body">\r\n					<div class="panel">\r\n						<div class="panel-body">\r\n						<form id="formSearchPermission">\r\n									<div id="groupInputModalName" class="form-group col-sm-	col-md-	col-lg-  ">\r\n										<label class="control-label" for="inputModalName">Nome</label>\r\n										<input type="text" id="inputModalName" placeholder=""  class="form-control inputModalName">\r\n									</div>\r\n									\r\n									<div id="groupInputModalDescription" class="form-group col-sm-	col-md-	col-lg-  ">\r\n										<label class="control-label" for="inputModalDescription">Descrição</label>\r\n										<input type="text" id="inputModalDescription" placeholder=""  class="form-control inputModalDescription">\r\n									</div>\r\n									\r\n									<div id="groupInputModalOperation" class="form-group col-sm-	col-md-	col-lg-  ">\r\n										<label class="control-label" for="inputModalOperation">Operação</label>\r\n										<input type="text" id="inputModalOperation" placeholder=""  class="form-control inputModalOperation">\r\n									</div>\r\n									\r\n				\r\n							<div class="form-actions spinner" id="spinPermission">\r\n								<button type="button"  class="btn-search btn btn-primary btn-large button-loading" data-loading-text="<i class=\'fa fa-spinner fa-spin \'></i> Pesquisando...">\r\n									<i class="fa fa-search"></i>\r\n									Pesquisar\r\n								</button>\r\n								<button type="button" class="btn-reset btn btn-info btn-large" >\r\n									<i class="fa fa-trash"></i>\r\n									Limpar\r\n								</button>\r\n							</div>\r\n							\r\n						<div class="row">\r\n						<div class="col-xs-12">\r\n							<h3 class="header smaller lighter blue">Resultados</h3>\r\n							<div class="center">\r\n								<div  class="datatable-modal "></div>\r\n							</div>\r\n						</div>\r\n						</div>\r\n						</form>	\r\n									\r\n						</div>\r\n					</div>\r\n				</div>\r\n				<div class="modal-footer">\r\n					<button type="button" class="btn btn-primary" data-dismiss="modal">Pronto</button>\r\n				</div>\r\n			</div>\r\n		</div>\r\n	</div>\r\n</div>'}),define("views/modalComponents/MultiselectModalPermission",["require","utilities/utils","views/components/JSetup","text!views/modalComponents/tpl/MultiselectModalPermissionTemplate.html","models/Permission"],function(e){var t=e("utilities/utils"),n=e("views/components/JSetup"),i=e("text!views/modalComponents/tpl/MultiselectModalPermissionTemplate.html"),o=e("models/Permission"),r=n.View.extend({template:_.template(i),regions:{dataTablePrincipalRegion:".datatable-principal",dataTableModalRegion:".datatable-modal"},events:{"click .btn-search":"search","click .btn-reset":"clearModal",keypress:"treatKeypress"},ui:{loadButton:".button-loading",inputModalName:".inputModalName",inputModalDescription:".inputModalDescription",inputModalOperation:".inputModalOperation",inputModalTagReminder:".inputModalTagReminder",form:"#formSearchPermission",modalScreen:".modal"},treatKeypress:function(e){t.enterPressed(e)&&(e.preventDefault(),this.search())},initialize:function(e){this.principalCollection=new o.PageClientCollection(e.initialValues),this.modalCollection=new o.PageCollection,this.modalCollection.on("fetching",this.startFetch,this),this.modalCollection.on("fetched",this.stopFetch,this),this.modalCollection.on("backgrid:selected",this.selectModel,this),this.dataTablePrincipal=new n.DataTable({columns:this.getPrincipalColumns(),collection:this.principalCollection,gridClass:" table table-striped"}),this.dataTableModal=new n.DataTable({columns:this.getModalColumns(),collection:this.modalCollection})},onShowView:function(){var e=this;e.dataTablePrincipalRegion.show(e.dataTablePrincipal),e.dataTableModalRegion.show(e.dataTableModal),e.ui.modalScreen.on("show.bs.modal",function(){e.search()})},search:function(){this.modalCollection.filterQueryParams={name:this.ui.inputModalName.escape(),description:this.ui.inputModalDescription.escape(),operation:this.ui.inputModalOperation.escape()},this.modalCollection.getFirstPage({resetState:!0,success:function(){},error:function(e,t,n){console.error(e,t,n)}})},getJsonValue:function(){return this.principalCollection&&this.principalCollection.fullCollection&&this.principalCollection.fullCollection.toJSON()},getValue:function(){return this.principalCollection&&this.principalCollection.fullCollection},setValue:function(e){this.principalCollection=e},clear:function(){this.$el.find("input[type=checkbox]").prop("checked",!1),this.principalCollection.reset()},clearModal:function(){this.$el.find("input[type=checkbox]").prop("checked",!1),this.ui.inputModalName.val(""),this.ui.inputModalDescription.val(""),this.ui.inputModalOperation.val(""),this.ui.inputModalTagReminder.val(""),this.modalCollection.reset()},selectModel:function(e,t){t?e.get&&e.get("id")&&this.principalCollection.add(e):this.principalCollection.remove(e)},endFetch:function(){var e=this;this.ui.searchButton.button("reset"),this.modalCollection.each(function(t){e.principalCollection.findWhere({id:t.get("id")})&&t.trigger("backgrid:select",t,!0)})},getPrincipalColumns:function(){var e=this,t=[{name:"name",sortable:!1,editable:!1,label:"Nome",cell:n.CustomStringCell},{name:"description",sortable:!1,editable:!1,label:"Descrição",cell:n.CustomStringCell},{name:"operation",sortable:!1,editable:!1,label:"Operação",cell:n.CustomStringCell},{name:"acoes",label:"Deletar",editable:!1,sortable:!1,cell:n.ActionCell.extend({buttons:e.getCellPrincipalButtons(),context:e})}];return t},getCellPrincipalButtons:function(){var e=this,t=[];return t.push({id:"delete_button",type:"danger",icon:"fa-trash",hint:"Remover Permissão",onClick:e.deleteModel}),t},deleteModel:function(e){var n=this;t.confirm({title:"Importante",text:"Tem certeza que deseja remover o registro [ "+e.get("id")+" ] ?",onConfirm:function(){n.principalCollection.remove(e),t.alert({title:"Concluido",text:"Registro removido com sucesso!"})}})},getModalColumns:function(){var e=[{name:"",cell:"select-row",headerCell:"select-all"},{name:"name",sortable:!0,editable:!1,label:"Nome",cell:n.CustomStringCell},{name:"description",sortable:!0,editable:!1,label:"Descrição",cell:n.CustomStringCell},{name:"operation",sortable:!0,editable:!1,label:"Operação",cell:n.CustomStringCell}];return e},startFetch:function(){this.ui.loadButton.button("loading")},stopFetch:function(){var e=this;this.ui.loadButton.button("reset"),this.modalCollection.each(function(t){e.principalCollection.findWhere({id:t.get("id")})&&t.trigger("backgrid:select",t,!0)}),t.scrollDownModal()}});return r}),define("views/group/FormGroup",["require","adapters/underscore-adapter","adapters/jquery-adapter","utilities/utils","views/components/JSetup","text!views/group/tpl/FormGroupTemplate.html","views/modalComponents/MultiselectModalPermission","models/Group","models/Permission"],function(e){var t=e("adapters/underscore-adapter"),n=(e("adapters/jquery-adapter"),e("utilities/utils")),i=e("views/components/JSetup"),o=e("text!views/group/tpl/FormGroupTemplate.html"),r=e("views/modalComponents/MultiselectModalPermission"),s=e("models/Group"),a=(e("models/Permission"),i.View.extend({template:t.template(o),regions:{multiselectModalPermissionsRegion:".multiselect-permissions-container"},events:{"click 	.save":"save","click 	.save-continue":"saveAndContinue","change  #inputName":"changeName"},ui:{inputId:"#inputId",saveButton:".button-saving",inputName:"#inputName",inputDescription:"#inputDescription",form:"#formGroup"},initialize:function(){},onShowView:function(){var e=this;this.multiselectModalPermissions=new r({initialValues:e.model.get("permissions")}),this.multiselectModalPermissionsRegion.show(this.multiselectModalPermissions)},saveAndContinue:function(){this.save(!0)},save:function(e){var t=this,i=t.getModel();this.isValid()&&(this.ui.saveButton.button("loading"),i.save({},{success:function(){n.showSuccessMessage("Grupo de Permissões salvo com sucesso!"),t.clearForm(),1!=e&&n.goPage("app/groups",!0)},error:function(e,i){t.ui.saveButton.button("reset"),n.showErrorMessage("Problema ao salvar registro",i)}}))},getModel:function(){var e=this,t=e.model;return t.set({id:this.ui.inputId.escape(),name:this.ui.inputName.escape(),description:this.ui.inputDescription.escape(),permissions:e.multiselectModalPermissions.getJsonValue()}),t},customClearForm:function(){this.ui.saveButton.button("reset"),this.multiselectModalPermissions.clear()},changeName:function(){var e=this;n.validateUnique({element:e.ui.inputName,fieldName:"name",fieldDisplayName:"Nome",view:e,collection:s.PageCollection})}}));return a}),define("text!views/item/tpl/PageItemTemplate.html",[],function(){return'<!-- Item´s page generated by JSetup v0.95 :  at 3 de jan de 2022 23:41:20  -->\r\n<div class="panel">\r\n	<div class="panel-heading">\r\n		<h3 class="panel-title">\r\n			<i class="fa fa-search"></i>\r\n			Pesquisa de Item.\r\n		</h3>\r\n	</div>\r\n	<div class="panel-body">\r\n		<div id="messages_div"></div>\r\n		<form id="formItemFilter">\r\n			<div class="widget-main ">\r\n				<div class="row">\r\n					<div class="col-xs-6">\r\n						<a href="#app/newItem" class="btn btn-info">\r\n							<i class="fa fa-plus-circle"></i>\r\n							Novo Registro\r\n						</a>\r\n						&nbsp; \r\n						<a href="javascript:void(0)"  class="btn btn-default reset-button" >Limpar</a>\r\n					</div>\r\n					<div class="col-sm-6">\r\n						<div class="input-group">\r\n							<input id="inputName" type="text" class="clearable form-control search-query" placeholder="Pesquisar Item por Nome">\r\n							<span id="query" class="input-group-btn ">\r\n								<button type="button" class="btn btn-default search-button loading-button"  data-loading-text="<i class=\'fa fa-spinner fa-spin \'></i> Pesquisando...">\r\n									<span class="fa fa-search icon-on-right  "></span>\r\n									Pesquisar\r\n								</button>\r\n							</span>\r\n						</div>\r\n						<div>\r\n							<a href="javascript:void(-1)" class="show-advanced-search-button"> Pesquisa avançada... </a>\r\n						</div>\r\n					</div>\r\n				</div>\r\n				<div class="panel advanced-search-form">\r\n					<div class="panel-heading">\r\n						<h5 class="panel-title">Filtros avançados</h5>\r\n					</div>\r\n					<div class="panel-body">\r\n						<!-- inicio dos registros-->							\r\n						<div id="groupInputItemType" class="form-group   ">\r\n							<label class="control-label" for="inputItemType">Tipo</label>\r\n							<input type="text" id="inputItemType" placeholder="Pesquise pelo Tipo"  class="form-control">\r\n						</div>\r\n						<div id="groupInputIdentifier" class="form-group   ">\r\n							<label class="control-label" for="inputIdentifier">Identificador</label>\r\n							<input type="text" id="inputIdentifier" placeholder="Pesquise pelo Identificador"  class="form-control">\r\n						</div>\r\n						<div id="groupInputDescription" class="form-group   ">\r\n							<label class="control-label" for="inputDescription">Descrição</label>\r\n							<input type="text" id="inputDescription" placeholder="Pesquise pelo Descrição"  class="form-control">\r\n						</div>\r\n						<div>\r\n							<button type="button" class="btn btn-info btn-sm search-button loading-button" data-loading-text="<i class=\'fa fa-spinner fa-spin \'></i> Pesquisando...">\r\n								<i class="fa fa-search"></i>\r\n								Pesquisar\r\n							</button>\r\n						</div>\r\n					</div>\r\n				</div>\r\n			</div>\r\n		</form>\r\n		<div class="center">\r\n			<div class="datatable-item"></div>\r\n		</div>\r\n	</div>\r\n</div>\r\n'}),define("views/item/PageItem",["require","utilities/utils","views/components/JSetup","text!views/item/tpl/PageItemTemplate.html","models/Item"],function(e){var t=e("utilities/utils"),n=e("views/components/JSetup"),i=e("text!views/item/tpl/PageItemTemplate.html"),o=e("models/Item"),r=n.View.extend({template:_.template(i),regions:{dataTableItemRegion:".datatable-item"},events:{"click 	.reset-button":"resetItem",keypress:"treatKeypress","click 	.search-button":"searchItem","click  .show-advanced-search-button":"toggleAdvancedForm"},ui:{loadButton:".loading-button",inputName:"#inputName",inputItemType:"#inputItemType",inputIdentifier:"#inputIdentifier",inputDescription:"#inputDescription",form:"#formItemFilter",advancedSearchForm:".advanced-search-form"},initialize:function(){this.items=new o.PageCollection,this.dataTableItem=new n.DataTable({columns:this.getColumns(),collection:this.items,onFetching:this.startFetch,onFetched:this.stopFetch,view:this})},onShowView:function(){this.dataTableItemRegion.show(this.dataTableItem),this.dataTableItem.recoveryLastQuery()},searchItem:function(){this.dataTableItem.getFirstPage({success:function(){},error:function(){},filterQueryParams:{name:this.ui.inputName.escape(),itemType:this.ui.inputItemType.escape(),identifier:this.ui.inputIdentifier.escape(),description:this.ui.inputDescription.escape()}})},resetItem:function(){this.ui.form.get(0).reset(),this.items.reset()},getColumns:function(){var e=this,t=[{name:"name",sortable:!0,editable:!1,label:"Nome",cell:n.CustomStringCell},{name:"itemType",sortable:!0,editable:!1,label:"Tipo",cell:n.CustomStringCell},{name:"identifier",sortable:!0,editable:!1,label:"Identificador",cell:n.CustomStringCell},{name:"description",sortable:!0,editable:!1,label:"Descrição",cell:n.CustomStringCell},{name:"acoes",label:"Ações(Editar, Deletar)",editable:!1,sortable:!1,cell:n.ActionCell.extend({buttons:e.getCellButtons(),context:e})}];return t},getCellButtons:function(){var e=this,t=[];return t.push({id:"edit_button",type:"primary",icon:"fa-pencil",customClass:"auth[edit-item,disable]",hint:"Editar Item",onClick:e.editModel},{id:"delete_button",type:"danger",customClass:"auth[delete-item, disable]",icon:"fa-trash",hint:"Remover Item",onClick:e.deleteModel}),t},deleteModel:function(e){var n=this,i=new o.Model({id:e.id});t.confirm({title:"Importante",text:"Tem certeza que deseja remover o registro [ "+e.get("id")+" ] ?",onConfirm:function(){i.destroy({success:function(){n.items.remove(e),t.alert({title:"Concluido",text:"Registro removido com sucesso!"})}})}})},editModel:function(e){t.goPage("app/editItem/"+e.get("id"))},toggleAdvancedForm:function(){this.ui.advancedSearchForm.slideToggle("slow")},treatKeypress:function(e){t.enterPressed(e)&&(e.preventDefault(),this.searchItem())},startFetch:function(){t.loadButton(this.ui.loadButton)},stopFetch:function(){t.resetButton(this.ui.loadButton)}});return r}),define("text!views/item/tpl/FormItemTemplate.html",[],function(){return'<!-- Item´s form generated by JSetup v0.95 :  at 3 de jan de 2022 23:41:20  -->\r\n<div class="panel">\r\n	<!--Panel heading-->\r\n	<div class="panel-heading">\r\n		<h3 class="panel-title">Cadastro de Item</h3>\r\n	</div>\r\n	<!--Panel body-->\r\n	<div class="panel-body">\r\n		<div class="panel">\r\n			<div class="panel-body">\r\n				<div id="messages_div"></div>\r\n				<form role="form" id="formItem">\r\n					<input type="hidden" id="inputId" value="{{id}}">\r\n					<div id="groupInputName" class="form-group   ">\r\n						<label class="control-label" for="inputName">Nome  *</label>\r\n						<input type="text"  id="inputName" placeholder=""  data-validation="required"  value="{{name}}" class="form-control  "  >\r\n					</div>	\r\n					<div id="groupInputItemType" class="form-group   ">\r\n						<label class="control-label" for="inputItemType">Tipo  *</label>\r\n						<input type="text"  id="inputItemType" placeholder=""  data-validation="required"  value="{{itemType}}" class="form-control  "  >\r\n					</div>	\r\n					<div id="groupInputIdentifier" class="form-group   ">\r\n						<label class="control-label" for="inputIdentifier">Identificador  *</label>\r\n						<input type="text"  id="inputIdentifier" placeholder=""  data-validation="required"  value="{{identifier}}" class="form-control  "  >\r\n					</div>	\r\n					<div id="groupInputDescription" class="form-group   ">\r\n						<label class="control-label" for="inputDescription">Descrição  *</label>\r\n						<input type="text"  id="inputDescription" placeholder=""  data-validation="required"  value="{{description}}" class="form-control  "  >\r\n					</div>	\r\n				</form>\r\n			</div>\r\n		</div>\r\n		<div >\r\n			<div class="clearfix form-actions">\r\n				<a href="javascript:void(-1)" id="save"  class="save btn btn-primary  btn-lg button-saving" data-loading-text="<i class=\'fa fa-spinner fa-spin \'></i> Salvando...">\r\n					<i class="save fa fa-check "></i>\r\n					Salvar\r\n				</a>\r\n				&nbsp; &nbsp; \r\n				<a href="javascript:void(-1)" class="save-continue btn btn-info btn-lg button-saving" data-loading-text="<i class=\'fa fa-spinner fa-spin \'></i> Salvando..."  style="display: {{ id ? \'none\' : \'inline-block\' }} ">\r\n					<i class="fa fa-check "></i>\r\n					Salvar e Continuar\r\n				</a>\r\n				&nbsp; &nbsp; \r\n				<a href="#app/items" class="go-back-link btn-lg btn btn-light" >\r\n					<i class=" fa fa-undo "></i>\r\n					Voltar para a listagem\r\n				</a>\r\n			</div>\r\n		</div>\r\n	</div>\r\n</div>\r\n'}),define("views/item/FormItem",["require","adapters/underscore-adapter","adapters/jquery-adapter","utilities/utils","views/components/JSetup","text!views/item/tpl/FormItemTemplate.html","models/Item"],function(e){var t=e("adapters/underscore-adapter"),n=(e("adapters/jquery-adapter"),e("utilities/utils")),i=e("views/components/JSetup"),o=e("text!views/item/tpl/FormItemTemplate.html"),r=e("models/Item"),s=i.View.extend({template:t.template(o),regions:{},events:{"click 	.save":"save","click 	.save-continue":"saveAndContinue","change  #inputName":"changeName","change  #inputIdentifier":"changeIdentifier"},ui:{inputId:"#inputId",saveButton:".button-saving",inputName:"#inputName",inputItemType:"#inputItemType",inputIdentifier:"#inputIdentifier",inputDescription:"#inputDescription",form:"#formItem"},initialize:function(){},onShowView:function(){},saveAndContinue:function(){this.save(!0)},save:function(e){var t=this,i=t.getModel();this.isValid()&&(this.ui.saveButton.button("loading"),i.save({},{success:function(){n.showSuccessMessage("Item salvo com sucesso!"),t.clearForm(),1!=e&&n.goPage("app/items",!0)},error:function(e,i){t.ui.saveButton.button("reset"),n.showErrorMessage("Problema ao salvar registro",i)}}))},getModel:function(){var e=this,t=e.model;return t.set({id:this.ui.inputId.escape(),name:this.ui.inputName.escape(),itemType:this.ui.inputItemType.escape(),identifier:this.ui.inputIdentifier.escape(),description:this.ui.inputDescription.escape()}),t},customClearForm:function(){this.ui.saveButton.button("reset")},changeName:function(){var e=this;n.validateUnique({element:e.ui.inputName,fieldName:"name",fieldDisplayName:"Nome",view:e,collection:r.PageCollection})},changeIdentifier:function(){var e=this;n.validateUnique({element:e.ui.inputIdentifier,fieldName:"identifier",fieldDisplayName:"Identificador",view:e,collection:r.PageCollection})}});return s}),define("Router",["require","adapters/jquery-adapter","adapters/underscore-adapter","adapters/backbone-adapter","marionette","AppScripts","utilities/utils","views/genre/PageGenre","views/genre/FormGenre","models/Genre","views/movie/PageMovie","views/movie/FormMovie","models/Movie","views/language/PageLanguage","views/language/FormLanguage","models/Language","views/actor/PageActor","views/actor/FormActor","models/Actor","views/user/PageUser","views/user/FormUser","models/User","views/role/PageRole","views/role/FormRole","models/Role","views/permission/PagePermission","views/permission/FormPermission","models/Permission","views/group/PageGroup","views/group/FormGroup","models/Group","views/item/PageItem","views/item/FormItem","models/Item"],function(e){var t=(e("adapters/jquery-adapter"),e("adapters/underscore-adapter")),n=e("adapters/backbone-adapter"),i=e("marionette"),o=e("AppScripts"),r=e("utilities/utils"),s=e("views/genre/PageGenre"),a=e("views/genre/FormGenre"),l=e("models/Genre"),c=e("views/movie/PageMovie"),u=e("views/movie/FormMovie"),d=e("models/Movie"),h=e("views/language/PageLanguage"),p=e("views/language/FormLanguage"),f=e("models/Language"),m=e("views/actor/PageActor"),g=e("views/actor/FormActor"),v=e("models/Actor"),y=e("views/user/PageUser"),b=e("views/user/FormUser"),w=e("models/User"),x=e("views/role/PageRole"),C=e("views/role/FormRole"),_=e("models/Role"),k=e("views/permission/PagePermission"),S=e("views/permission/FormPermission"),T=e("models/Permission"),E=e("views/group/PageGroup"),P=e("views/group/FormGroup"),M=e("models/Group"),A=e("views/item/PageItem"),I=e("views/item/FormItem"),D=e("models/Item");r.NProgress.setBlockerPanel("block_panel");var O=i.Region.extend({el:"#page-content",attachHtml:function(e){this.$el.hide(),this.$el.html(e.el),r.scrollTop(),this.$el.fadeIn(600),e.listenTo(e,"show",function(){o.prepare(),setTimeout(function(){r.NProgress.done(!1,!0)},100)})}}),N=n.Router.extend({routes:{"":"index","app/genres":"genres","app/newGenre":"newGenre","app/editGenre/:id":"editGenre","app/movies":"movies","app/newMovie":"newMovie","app/editMovie/:id":"editMovie","app/languages":"languages","app/newLanguage":"newLanguage","app/editLanguage/:id":"editLanguage","app/actors":"actors","app/newActor":"newActor","app/editActor/:id":"editActor","app/users":"users","app/newUser":"newUser","app/editUser/:id":"editUser","app/roles":"roles","app/newRole":"newRole","app/editRole/:id":"editRole","app/permissions":"permissions","app/newPermission":"newPermission","app/editPermission/:id":"editPermission","app/groups":"groups","app/newGroup":"newGroup","app/editGroup/:id":"editGroup","app/items":"items","app/newItem":"newItem","app/editItem/:id":"editItem"},initialize:function(){this.App=new i.Application,this.App.addRegions({mainRegion:O}),this.on("route",function(){r.NProgress.start(!0)})},route:function(e,i,o){var r=this;return t.isRegExp(e)||(e=this._routeToRegExp(e)),t.isFunction(i)&&(o=i,i=""),o||(o=this[i]),n.history.route(e,function(t){var s=r._extractParameters(e,t);r.App.mainRegion.reset(),r.execute(o,s),r.trigger.apply(r,["route:"+i].concat(s)),r.trigger("route",i,s),n.history.trigger("route",r,i,s)}),this},index:function(){r.markActiveItem("dashboard"),setTimeout(function(){r.NProgress.done(!1,!0)},500)},genres:function(){r.markActiveItem("genres"),this.pageGenre=new s,this.App.mainRegion.show(this.pageGenre),r.breadcrumb({iconClass:"fa-desktop",itemLabel:"Genre",itemSubFolderName:"Listagem",url:"app/genres"})},newGenre:function(){r.markActiveItem("genres");var e=new a({model:new l.Model});this.App.mainRegion.show(e),r.breadcrumb({iconClass:"fa-desktop",itemLabel:"Genre",itemSubFolderName:"Formulário de cadastro de Genre",url:"app/genres"})},editGenre:function(e){var t=this;r.markActiveItem("genres");var n=new l.Model({id:e});n.fetch({success:function(e){var n=new a({model:e});t.App.mainRegion.show(n)},error:function(e,t,n){console.error(e,t,n)}}),r.breadcrumb({iconClass:"fa-calendar",itemLabel:"Genres",itemSubFolderName:"Formulário de atualização de Genre",url:"app/genres"})},movies:function(){r.markActiveItem("movies"),this.pageMovie=new c,this.App.mainRegion.show(this.pageMovie),r.breadcrumb({iconClass:"fa-desktop",itemLabel:"Movie",itemSubFolderName:"Listagem",url:"app/movies"})},newMovie:function(){r.markActiveItem("movies");var e=new u({model:new d.Model});this.App.mainRegion.show(e),r.breadcrumb({iconClass:"fa-desktop",itemLabel:"Movie",itemSubFolderName:"Formulário de cadastro de Movie",url:"app/movies"})},editMovie:function(e){var t=this;r.markActiveItem("movies");var n=new d.Model({id:e});n.fetch({success:function(e){var n=new u({model:e});t.App.mainRegion.show(n)},error:function(e,t,n){console.error(e,t,n)}}),r.breadcrumb({iconClass:"fa-calendar",itemLabel:"Movies",itemSubFolderName:"Formulário de atualização de Movie",url:"app/movies"})},languages:function(){r.markActiveItem("languages"),this.pageLanguage=new h,this.App.mainRegion.show(this.pageLanguage),r.breadcrumb({iconClass:"fa-desktop",itemLabel:"Language",itemSubFolderName:"Listagem",url:"app/languages"})},newLanguage:function(){r.markActiveItem("languages");var e=new p({model:new f.Model});this.App.mainRegion.show(e),r.breadcrumb({iconClass:"fa-desktop",itemLabel:"Language",itemSubFolderName:"Formulário de cadastro de Language",url:"app/languages"})},editLanguage:function(e){var t=this;r.markActiveItem("languages");var n=new f.Model({id:e});n.fetch({success:function(e){var n=new p({model:e});t.App.mainRegion.show(n)},error:function(e,t,n){console.error(e,t,n)}}),r.breadcrumb({iconClass:"fa-calendar",itemLabel:"Languages",itemSubFolderName:"Formulário de atualização de Language",url:"app/languages"})},actors:function(){r.markActiveItem("actors"),this.pageActor=new m,this.App.mainRegion.show(this.pageActor),r.breadcrumb({iconClass:"fa-desktop",itemLabel:"Actor",itemSubFolderName:"Listagem",url:"app/actors"})},newActor:function(){r.markActiveItem("actors");var e=new g({model:new v.Model});this.App.mainRegion.show(e),r.breadcrumb({iconClass:"fa-desktop",itemLabel:"Actor",itemSubFolderName:"Formulário de cadastro de Actor",url:"app/actors"})},editActor:function(e){var t=this;r.markActiveItem("actors");var n=new v.Model({id:e});n.fetch({success:function(e){var n=new g({model:e});t.App.mainRegion.show(n)},error:function(e,t,n){console.error(e,t,n)}}),r.breadcrumb({iconClass:"fa-calendar",itemLabel:"Actors",itemSubFolderName:"Formulário de atualização de Actor",url:"app/actors"})},users:function(){r.markActiveItem("users"),this.pageUser=new y,this.App.mainRegion.show(this.pageUser),r.breadcrumb({iconClass:"fa-desktop",itemLabel:"Usuário",itemSubFolderName:"Listagem",url:"app/users"})},newUser:function(){r.markActiveItem("users");var e=new b({model:new w.Model});this.App.mainRegion.show(e),r.breadcrumb({iconClass:"fa-desktop",itemLabel:"Usuário",itemSubFolderName:"Formulário de cadastro de Usuário",url:"app/users"})},editUser:function(e){var t=this;r.markActiveItem("users");var n=new w.Model({id:e});n.fetch({success:function(e){var n=new b({model:e});t.App.mainRegion.show(n)},error:function(e,t,n){console.error(e,t,n)}}),r.breadcrumb({iconClass:"fa-calendar",itemLabel:"Users",itemSubFolderName:"Formulário de atualização de Usuário",url:"app/users"})},roles:function(){r.markActiveItem("roles"),this.pageRole=new x,this.App.mainRegion.show(this.pageRole),r.breadcrumb({iconClass:"fa-desktop",itemLabel:"Papel",itemSubFolderName:"Listagem",url:"app/roles"})},newRole:function(){r.markActiveItem("roles");var e=new C({model:new _.Model});this.App.mainRegion.show(e),r.breadcrumb({iconClass:"fa-desktop",itemLabel:"Papel",itemSubFolderName:"Formulário de cadastro de Papel",url:"app/roles"})},editRole:function(e){var t=this;r.markActiveItem("roles");var n=new _.Model({id:e});n.fetch({success:function(e){var n=new C({model:e});t.App.mainRegion.show(n)},error:function(e,t,n){console.error(e,t,n)}}),r.breadcrumb({iconClass:"fa-calendar",itemLabel:"Roles",itemSubFolderName:"Formulário de atualização de Papel",url:"app/roles"})},permissions:function(){r.markActiveItem("permissions"),this.pagePermission=new k,this.App.mainRegion.show(this.pagePermission),r.breadcrumb({iconClass:"fa-desktop",itemLabel:"Permissão",itemSubFolderName:"Listagem",url:"app/permissions"})},newPermission:function(){r.markActiveItem("permissions");var e=new S({model:new T.Model});this.App.mainRegion.show(e),r.breadcrumb({iconClass:"fa-desktop",itemLabel:"Permissão",itemSubFolderName:"Formulário de cadastro de Permissão",url:"app/permissions"})},editPermission:function(e){var t=this;r.markActiveItem("permissions");var n=new T.Model({id:e});n.fetch({success:function(e){var n=new S({model:e});t.App.mainRegion.show(n)},error:function(e,t,n){console.error(e,t,n)}}),r.breadcrumb({iconClass:"fa-calendar",itemLabel:"Permissions",itemSubFolderName:"Formulário de atualização de Permissão",url:"app/permissions"})},groups:function(){r.markActiveItem("groups"),this.pageGroup=new E,this.App.mainRegion.show(this.pageGroup),r.breadcrumb({iconClass:"fa-desktop",itemLabel:"Grupo de Permissões",itemSubFolderName:"Listagem",url:"app/groups"})},newGroup:function(){r.markActiveItem("groups");var e=new P({model:new M.Model});this.App.mainRegion.show(e),r.breadcrumb({iconClass:"fa-desktop",itemLabel:"Grupo de Permissões",itemSubFolderName:"Formulário de cadastro de Grupo de Permissões",url:"app/groups"})},editGroup:function(e){var t=this;r.markActiveItem("groups");var n=new M.Model({id:e});n.fetch({success:function(e){var n=new P({model:e});t.App.mainRegion.show(n)},error:function(e,t,n){console.error(e,t,n)}}),r.breadcrumb({iconClass:"fa-calendar",itemLabel:"Groups",itemSubFolderName:"Formulário de atualização de Grupo de Permissões",url:"app/groups"})},items:function(){r.markActiveItem("items"),this.pageItem=new A,this.App.mainRegion.show(this.pageItem),r.breadcrumb({iconClass:"fa-desktop",itemLabel:"Item",itemSubFolderName:"Listagem",url:"app/items"})},newItem:function(){r.markActiveItem("items");var e=new I({model:new D.Model});this.App.mainRegion.show(e),r.breadcrumb({iconClass:"fa-desktop",itemLabel:"Item",itemSubFolderName:"Formulário de cadastro de Item",url:"app/items"})},editItem:function(e){var t=this;r.markActiveItem("items");var n=new D.Model({id:e});n.fetch({success:function(e){var n=new I({model:e});t.App.mainRegion.show(n)},error:function(e,t,n){console.error(e,t,n)}}),r.breadcrumb({iconClass:"fa-calendar",itemLabel:"Items",itemSubFolderName:"Formulário de atualização de Item",url:"app/items"})},start:function(){n.history.start()}});return N}),define("CorsApp",["require","adapters/jquery-adapter","adapters/underscore-adapter","adapters/backbone-adapter"],function(e){var t=(e("adapters/jquery-adapter"),e("adapters/underscore-adapter")),n=e("adapters/backbone-adapter"),i=function(){var e=window.btoa,i=function(t){return e(unescape(encodeURIComponent([t.username,t.password].join(":"))))};n.BasicAuth={getHeader:function(e){return{Authorization:"Basic "+i(e)}}};var o=n.sync;n.sync=function(e,i,r){r=r||{},r.crossDomain||(r.crossDomain=!0),r.xhrFields||(r.xhrFields={withCredentials:!0});var s,a;return i.credentials&&(s=t.result(i,"credentials")),null==s&&(remoteURL=r.url||t.result(i,"url"),a=remoteURL.match(/\/\/(.*):(.*)@/),a&&3===a.length&&(s={username:a[1],password:a[2]})),null!=s&&(r.headers=r.headers||{},t.extend(r.headers,n.BasicAuth.getHeader(s))),o.call(i,e,i,r)}};return{initCorsSuportWithCredentials:i}}),define("App",["require","adapters/jquery-adapter","adapters/underscore-adapter","adapters/backbone-adapter","Router","AppScripts","CorsApp"],function(e){var t=(e("adapters/jquery-adapter"),e("adapters/underscore-adapter"),e("adapters/backbone-adapter"),e("Router")),n=e("AppScripts"),i=e("CorsApp"),o=function(){var e=new t;i.initCorsSuportWithCredentials(),n.initialize(),e.start()};return{initialize:o,JSETUP_GEN_VERSION:"v0.95"}}),require.config({paths:{jquery:"../vendor/jquery/jquery-1.10.2",jqueryUI:"../vendor/jquery.ui/jquery-ui-1.10.4.custom.min",jqueryScrollTo:"../vendor/jquery.scrollTo/jquery.scrollTo",jqueryFormValidator:"../vendor/jQuery-Form-Validator-2.3.54/form-validator/jquery.form-validator",nprogress:"../vendor/nprogressbar/nprogress",spin:"../vendor/spin/spin",underscore:"../vendor/underscore/underscore-1.5.1",backbone:"../vendor/backbone/backbone-1.1.2",backgrid:"../vendor/backgrid/backgrid-0.3.5",backgridColumnManager:"../vendor/Backgrid.ColumnManager/lib/Backgrid.ColumnManager",backboneSelectAll:"../vendor/backgrid/extensions/backgrid-select-all",backbonePageable:"../vendor/backgrid/extensions/backbone-pageable1.4.8",backbonePaginator:"../vendor/backgrid/extensions/backgrid-paginator",marionette:"../vendor/backbone.marionette/backbone.marionette-2.2.0",multiselect:"../vendor/bootstrap.multiselect/bootstrap-multiselect",bootstrap:"../vendor/bootstrap/js/bootstrap",datetimepicker:"../vendor/bootstrap.datetimepicker/bootstrap-datetimepicker",datetimepicker_lang_pt_BR:"../vendor/bootstrap.datetimepicker/bootstrap-datetimepicker.pt-BR",text:"../vendor/require/text-2.0.3",async:"../vendor/require/async-0.1.1",moment:"../vendor/moment/moment-2.7",selectize:"../vendor/selectize/js/standalone/selectize",jqueryForm:"../vendor/jquery.form/jquery.form",jqueryChosen:"../vendor/chosen_v1.6.2/chosen.jquery",jqueryInputMask:"../vendor/Inputmask-3.3.3/dist/jquery.inputmask.bundle",nifty:"../vendor/theme/demo/js/nifty",metisMenu:"../vendor/metisMenu/dist/metisMenu",typeahead:"../vendor/typeahead/typeahead.jquery",bloodhound:"../vendor/typeahead/bloodhound",sweetAlert:"../vendor/sweetalert-1.1.3/dist/sweetalert-dev",tagsinput:"../vendor/bootstrap-tagsinput-0.8.0/dist/bootstrap-tagsinput",nestable:"../vendor/Nestable-master/jquery.nestable",bootstrapSwitch:"../vendor/bootstrap-switch-3.3.4/dist/js/bootstrap-switch",summernote:"../vendor/summernote-0.8.7/dist/summernote",ionsound:"../vendor/ion.sound-3.0.7/ion.sound",Collections:"../vendor/collections-5.0.7/collections.min",Noty:"../vendor/noty-3.1.3/lib/noty",download:"../vendor/download/download",numeral:"../vendor/numeral-js/min/numeral.min"},shim:{typeahead:{deps:["jquery"]},bloodhound:{deps:["jquery"],exports:"Bloodhound"},underscore:{exports:"_"},jquery:{exports:"$"},backgrid:{deps:["backbone"],exports:"Backgrid"},moment:{exports:"moment"},backbonePageable:{deps:["backbone"],exports:"PageableCollection"},backboneSelectAll:{deps:["backgrid"]},backbonePaginator:{deps:["backbone","backgrid","backbonePageable"]},bootstrap:["jquery"],jqueryMaskInput:["jquery"],jqueryScrollTo:["jquery"],nprogres:{deps:["jquery"],exports:"Nprogress"},marionette:{deps:["jquery","underscore","backbone"],exports:"Marionette"},jqueryUI:["jquery"],datetimepicker:["jquery"],datetimepicker_lang_pt_BR:{deps:["jquery","moment"],exports:"datetimepicker_lang_pt_BR"},multiselect:["jquery"],selectize:["jquery"],jqueryForm:["jquery"],jqueryChosen:["jquery"],jqueryInputMask:["jquery"],jqueryFormValidator:["jquery"],sweetAlert:["jquery"],metisMenu:["jquery"],nifty:["jquery"],tagsinput:["jquery"],ionsound:["jquery"],bootstrapSwitch:["jquery"],summernote:["jquery"],nestable:["jquery"]},wrapShim:!0}),require(["App"],function(e){e.initialize();
var t=[],n=" | |__| |____) |  __/ |_| |_| | |_) |    / / / / ",i="  \\____/|_____/ \\___|\\__|\\__,_| .__/    / / / /  ",o="\n",r="      | | (___   ___| |_ _   _ _ __      \\ \\ \\ \\ ";t.push(o),t.push("       _  _____      _                  ______   "),t.push(o),t.push("      | |/ ____|    | |                 \\ \\ \\ \\  "),t.push(o),t.push(r),t.push(o),t.push("  _   | |\\___ \\ / _ \\ __| | | | '_ \\      > > > >"),t.push(o),t.push(n),t.push(o),t.push(i),t.push(o),t.push("============================= | |======/_/_/_/=="),t.push(o),t.push(" :: Build with JSetupGen ::   |_|          ("+e.JSETUP_GEN_VERSION+")"),t.push(o),console.log(t.join(""))}),define("main",function(){});